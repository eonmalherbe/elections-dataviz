{"version":3,"sources":["webpack:///./src/api/config.js","webpack:///./src/api/race-for-seats.js","webpack:///./src/api/race-for-votes.js","webpack:///./src/api/turnout.js","webpack:///./src/api/spoilt.js","webpack:///./src/api/prog-votescount.js","webpack:///./src/api/index.js","webpack:///./src/components/BarChart/barchart.css","webpack:///./src/components/BarChart/barchartEmbed.css","webpack:///./src/components/BarchartWithNavMap/barchartMap.css","webpack:///./src/components/BarchartWithNavMap/barchartMapEmbed.css","webpack:///./src/components/Map/map.css","webpack:///./src/components/Map/mapEmbed.css","webpack:///./src/components/NavBar/navbar.css","webpack:///./src/components/ProgVotesCountPiechart/piechart.css","webpack:///./src/components/ProgVotesCountPiechart/piechartEmbed.css","webpack:///./src/components/QuickResultsWidget/quickResultsWidget.css","webpack:///./src/components/QuickResultsWidget/quickResultsWidgetEmbed.css","webpack:///./src/components/RaceForSeatBarchart/barchartEmbed.css","webpack:///./src/components/RaceForSeatDonut/piechart.css","webpack:///./src/components/RaceForSeatDonut/piechartEmbed.css","webpack:///./src/components/SeatCompBarchart/barchartEmbed.css","webpack:///./src/components/SeatHorseShoeChart/horseshoe.css","webpack:///./src/components/SeatHorseShoeChart/horseshoeEmbed.css","webpack:///./src/components/SplitNatProv/barchartEmbed.css","webpack:///./src/components/SpoiltBarchart/barchartEmbed.css","webpack:///./src/components/TVSeatCompBarchart/barchartEmbed.css","webpack:///./src/components/TVSeatSwingBarchart/barchartEmbed.css","webpack:///./src/components/TVVoteCompBarchart/barchartEmbed.css","webpack:///./src/components/TVVoteSwingBarchart/barchartEmbed.css","webpack:///./src/components/TurnoutBarchart/barchartEmbed.css","webpack:///./src/components/TurnoutMap/mapEmbed.css","webpack:///./src/components/VoteCompBarchart/barchartEmbed.css","webpack:///./src/components/VotePredictionLineChart/voteprediction.css","webpack:///./src/components/embedBase.js","webpack:///./src/components/BarChart/barchartEmbed.js","webpack:///./src/components/RaceForSeatBarchart/barchartEmbed.js","webpack:///./src/components/SpoiltBarchart/barchartEmbed.js","webpack:///./src/components/Map/mapEmbed.js","webpack:///./src/components/TurnoutMap/mapEmbed.js","webpack:///./src/components/TurnoutBarchart/barchartEmbed.js","webpack:///./src/components/BarchartWithNavMap/barchartMapEmbed.js","webpack:///./src/components/QuickResultsWidget/quickResultsWidgetEmbed.js","webpack:///./src/components/ProgVotesCountPiechart/piechartEmbed.js","webpack:///./src/components/SeatCompBarchart/barchartEmbed.js","webpack:///./src/components/SeatHorseShoeChart/horseshoeEmbed.js","webpack:///./src/components/VoteCompBarchart/barchartEmbed.js","webpack:///./src/components/TVSeatCompBarchart/barchartEmbed.js","webpack:///./src/components/TVSeatSwingBarchart/barchartEmbed.js","webpack:///./src/components/TVVoteCompBarchart/barchartEmbed.js","webpack:///./src/components/TVVoteSwingBarchart/barchartEmbed.js","webpack:///./src/components/RaceForSeatDonut/piechartEmbed.js","webpack:///./src/components/SplitNatProv/barchartEmbed.js","webpack:///./src/components/embed.js","webpack:///./src/components/BarChart/d3barchart.js","webpack:///./src/components/BarChart/barchart.js","webpack:///./src/components/RaceForSeatBarchart/barchart.js","webpack:///./src/components/SpoiltBarchart/barchart.js","webpack:///./src/components/Map/map.js","webpack:///./src/components/TurnoutMap/map.js","webpack:///./src/components/TurnoutBarchart/barchart.js","webpack:///./src/components/BarchartWithNavMap/barchartMap.js","webpack:///./src/components/ProgVotesCountPiechart/d3piechart.js","webpack:///./src/components/ProgVotesCountPiechart/piechart.js","webpack:///./src/components/RaceForSeatDonut/piechart.js","webpack:///./src/components/VoteCompBarchart/barchart.js","webpack:///./src/components/SeatCompBarchart/barchart.js","webpack:///./src/components/SeatHorseShoeChart/d3horseshoe.js","webpack:///./src/components/SeatHorseShoeChart/horseshoe.js","webpack:///./src/components/VotePredictionLineChart/d3voteprediction.js","webpack:///./src/components/VotePredictionLineChart/voteprediction.js","webpack:///./src/components/SplitNatProv/d3groupbarchart.js","webpack:///./src/components/SplitNatProv/barchart.js","webpack:///./src/components/NavBar/navbar.js","webpack:///./src/components/QuickResultsWidget/quickResultsWidget.js","webpack:///./src/components/TVVoteCompBarchart/d3groupbarchart.js","webpack:///./src/components/TVSeatCompBarchart/barchart.js","webpack:///./src/components/TVVoteSwingBarchart/d3deltabarchart.js","webpack:///./src/components/TVSeatSwingBarchart/barchart.js","webpack:///./src/components/TVVoteCompBarchart/barchart.js","webpack:///./src/components/TVVoteSwingBarchart/barchart.js","webpack:///./src/components/index.js","webpack:///./src/config/index.js","webpack:///./src/events/index.js","webpack:///./src/utils/index.js"],"names":["client","ApolloClient","link","bundle_esm","uri","useGETForQueries","headers","Content-Type","cache","inMemoryCache","getSeatsDataForComparison","options","query","gql","_templateObject","_templateObject2","provinceName","getSeatsData","eventDescription","_templateObject3","_templateObject4","getVotesPredictionData","console","eventType","race_for_votes_templateObject","race_for_votes_templateObject2","getVotesDataForComparison","race_for_votes_templateObject3","race_for_votes_templateObject4","muniCode","_templateObject5","_templateObject6","iecId","getVotesDataForAllEvents","_templateObject7","_templateObject8","_templateObject9","_templateObject10","getVotesDataM","_templateObject11","_templateObject12","_templateObject13","_templateObject14","getMainParties","_templateObject15","_templateObject16","_templateObject17","getTurnoutData","turnout_templateObject","turnout_templateObject2","turnout_templateObject3","getTurnoutDataForOneEvent","turnout_templateObject4","turnout_templateObject5","turnout_templateObject6","turnout_templateObject7","getTurnoutDataForAllEvents","turnout_templateObject8","turnout_templateObject9","turnout_templateObject10","turnout_templateObject11","getSpoiltData","spoilt_templateObject","spoilt_templateObject2","spoilt_templateObject3","spoilt_templateObject4","getProgressVotesCount","prog_votescount_templateObject","prog_votescount_templateObject2","prog_votescount_templateObject3","prog_votescount_templateObject4","getElectionEvents","api_templateObject","getPartyColors","api_templateObject2","getProvincesData","provincesData","name","abbreviation","munis","muniName","a","b","localeCompare","getMetrosData","module","exports","ELVIZ_percentage-label","ELVIZ_tooltip","ELVIZ_grouprect","ELVIZ_barchart","ELVIZ_stylesheet-tv","ELVIZ_chart-title","ELVIZ_chart-body","ELVIZ_groupbarchart","ELVIZ_deltabarchart","embedcode","barchart-map","ELVIZ_map-title","ELVIZ_loading-spinner","map-widget","legend","ELVIZ_stylesheet-web","ELVIZ_stylesheet-none","map-controls","ELVIZ_menu-widget","piechart","ELVIZ_component-transition-menu","label","active","quickresultswidget","quick-results-title","race-for-seats","ELVIZ_row","ELVIZ_col-md-2","ELVIZ_col-md-4","ELVIZ_col-md-8","ELVIZ_current-progress","ELVIZ_current-turnout","ELVIZ_current-counting-progress","ELVIZ_current-spoilt-votes","ELVIZ_leadingmap-title-container","ELVIZ_leading-parties","ELVIZ_helper-text","donutchart","multievent-container","horseshoechart","multiparties-container","ELVIZ_vote-prediction-title","ELVIZ_projected-turnout","ELVIZ_prediction-time","ELVIZ_CSIR-bottom-label","votepredictionlinechart","line-container","graph-points","axes","axis-text","graph-labels","line","EmbedBase","props","_this","_classCallCheck","this","_possibleConstructorReturn","_getPrototypeOf","call","loadScriptsForEmbedMode","Component","react_default","createElement","className","originClassName","bootstrapStyles","styles","BarChartEmbed","barchartEmbed_classCallCheck","barchartEmbed_possibleConstructorReturn","barchartEmbed_getPrototypeOf","state","elementId","regionType","numParties","electionEvents","stylesheetFor","componentID","self","data","error","e","setState","value","newState","triggerCustomEvent","events","CHART_PREVIEW","EXPORT_PNG","_this2","DOMAIN","config","_this$state","curProvinceData","item","type","placeholder","onChange","onEventDescriptionChange","bind","key","description","onRegionTypeChange","nationalEventSelected","province","muni","onClick","onPreview","onExportAsPNG","concat","replace","BarChart_barchartEmbed","barchartEmbed_className","RaceForSeatBarchart_barchartEmbed_classCallCheck","RaceForSeatBarchart_barchartEmbed_possibleConstructorReturn","RaceForSeatBarchart_barchartEmbed_getPrototypeOf","disabled","components_RaceForSeatBarchart_barchartEmbed","SpoiltBarchart_barchartEmbed_className","SpoiltBarchart_barchartEmbed_classCallCheck","SpoiltBarchart_barchartEmbed_possibleConstructorReturn","SpoiltBarchart_barchartEmbed_getPrototypeOf","components_SpoiltBarchart_barchartEmbed","mapEmbed_className","MapEmbed","mapEmbed_classCallCheck","mapEmbed_possibleConstructorReturn","mapEmbed_getPrototypeOf","disableNavigation","loadCanvg","MAP_PREVIEW","checked","Map_mapEmbed","TurnoutMap_mapEmbed_className","TurnoutMap_mapEmbed_classCallCheck","TurnoutMap_mapEmbed_possibleConstructorReturn","TurnoutMap_mapEmbed_getPrototypeOf","components_TurnoutMap_mapEmbed","TurnoutBarchart_barchartEmbed_className","TurnoutBarchart_barchartEmbed_classCallCheck","TurnoutBarchart_barchartEmbed_possibleConstructorReturn","TurnoutBarchart_barchartEmbed_getPrototypeOf","components_TurnoutBarchart_barchartEmbed","barchartMapEmbed_className","BarChartWithNavMapEmbed","barchartMapEmbed_classCallCheck","barchartMapEmbed_possibleConstructorReturn","barchartMapEmbed_getPrototypeOf","barchartMapEmbed_assertThisInitialized","JSON","EXPORT_SUPERWIDGET_PNG","BarchartWithNavMap_barchartMapEmbed","quickResultsWidgetEmbed_className","QuickResultsWidgetEmbed","quickResultsWidgetEmbed_classCallCheck","quickResultsWidgetEmbed_possibleConstructorReturn","quickResultsWidgetEmbed_getPrototypeOf","electionYear","nationalEventDescription","provincialEventDescription","eventDescriptionsSplitNatProv","electionYearsSplitNatProv","electionYears","year","exec","values","i","l","length","selected","yearFilter","nationalFilter","provincialFilter","QUICK_RESULTS_PREVIEW","onEventYearChange","onNatEventDescriptionChange","onProvEventDescriptionChange","multiple","onEventYearSplitNatProvChange","QuickResultsWidget_quickResultsWidgetEmbed","piechartEmbed_className","PieChartEmbed","piechartEmbed_classCallCheck","piechartEmbed_possibleConstructorReturn","piechartEmbed_getPrototypeOf","ProgVotesCountPiechart_piechartEmbed","SeatCompBarchart_barchartEmbed_className","SeatCompBarchart_barchartEmbed_classCallCheck","SeatCompBarchart_barchartEmbed_possibleConstructorReturn","SeatCompBarchart_barchartEmbed_getPrototypeOf","eventDescriptions","partyAbbr","partyIecId","allParties","Object","api","then","edge","filter","thing","index","t","catch","party","components_SeatCompBarchart_barchartEmbed","horseshoeEmbed_className","HorseShoeEmbed","horseshoeEmbed_classCallCheck","horseshoeEmbed_possibleConstructorReturn","horseshoeEmbed_getPrototypeOf","SeatHorseShoeChart_horseshoeEmbed","VoteCompBarchart_barchartEmbed_className","VoteCompBarchart_barchartEmbed_classCallCheck","VoteCompBarchart_barchartEmbed_possibleConstructorReturn","VoteCompBarchart_barchartEmbed_getPrototypeOf","components_VoteCompBarchart_barchartEmbed","TVSeatCompBarchart_barchartEmbed_className","TVSeatCompBarchart_barchartEmbed_classCallCheck","TVSeatCompBarchart_barchartEmbed_possibleConstructorReturn","TVSeatCompBarchart_barchartEmbed_getPrototypeOf","partyAbbrs","partyIecIds","partyIdx","onPartyAbbrsChange","formatPartyName","components_TVSeatCompBarchart_barchartEmbed","TVSeatSwingBarchart_barchartEmbed_className","TVSeatSwingBarchart_barchartEmbed_classCallCheck","TVSeatSwingBarchart_barchartEmbed_possibleConstructorReturn","TVSeatSwingBarchart_barchartEmbed_getPrototypeOf","event","components_TVSeatSwingBarchart_barchartEmbed","TVVoteCompBarchart_barchartEmbed_className","TVVoteCompBarchart_barchartEmbed_classCallCheck","TVVoteCompBarchart_barchartEmbed_possibleConstructorReturn","TVVoteCompBarchart_barchartEmbed_getPrototypeOf","components_TVVoteCompBarchart_barchartEmbed","TVVoteSwingBarchart_barchartEmbed_className","TVVoteSwingBarchart_barchartEmbed_classCallCheck","TVVoteSwingBarchart_barchartEmbed_possibleConstructorReturn","TVVoteSwingBarchart_barchartEmbed_getPrototypeOf","components_TVVoteSwingBarchart_barchartEmbed","RaceForSeatDonut_piechartEmbed_className","RaceForSeatDonut_piechartEmbed_classCallCheck","RaceForSeatDonut_piechartEmbed_possibleConstructorReturn","RaceForSeatDonut_piechartEmbed_getPrototypeOf","components_RaceForSeatDonut_piechartEmbed","SplitNatProv_barchartEmbed_className","SplitNatProv_barchartEmbed_classCallCheck","SplitNatProv_barchartEmbed_possibleConstructorReturn","SplitNatProv_barchartEmbed_getPrototypeOf","numPartiesSplitNatProv","components_SplitNatProv_barchartEmbed","__webpack_require__","d","__webpack_exports__","Chart","container","width","height","chartType","yAxisLabel","yValue","percOfVotes","yValueFormat","offset","predefColors","svg","createSvg","tooltipDiv","createTooltip","x","d3","y","barSvg","barTextSvg","errorText","createErrorText","draw","chartData","colorsData","partyColorByName","partyAbbrByName","getFillColorFromPartyName","partyName","getFillColor","noXaxisByParty","_typeof","minMaxY","dynamicYAxisFromValues","maxValue","parseFloat","customizeDynamicMaxValue","bars","getTooltipText","pageX","Number","barTexts","showLegend","parties","_ref","partyInfo","legends","xydata","parseInt","getLegendXY","destroy","barchart_partyColorsData","barchart_className","originName","cn","chartOptions","maxVal","Math","BarChart","comp","fetchDataFromOBJ","chart","refreshIntervalID","exportAsPNG","_assertThisInitialized","exportAsPNGUri","handleRegionChange","handlePreviewEvent","getContainer","setInterval","document","clearInterval","detail","targetState","svgToPng","refs","vizcontainer","childNodes","getRegionName","Promise","resolve","reject","ref","dataLoaders","partyColorsLoader","votesData","partyColorsData","parseVotesData","fetchLocationTrackFromVDdata","needUpdate","REGION_CHANGE","BarChart_barchart","RaceForSeatBarchart_barchart_partyColorsData","seats","RaceForSeatBarchart_barchart_className","barchart_cn","barchart_classCallCheck","barchart_getPrototypeOf","barchart_assertThisInitialized","getNationOrProvinceName2","barchart_chartOptions","seatsData","parseSeatsData","RaceForSeatBarchart_barchart","percent","SpoiltBarchart_barchart_className","SpoiltBarchart_barchart_cn","SpoiltBarchart_barchart_classCallCheck","SpoiltBarchart_barchart_possibleConstructorReturn","SpoiltBarchart_barchart_getPrototypeOf","SpoiltBarchart_barchart_assertThisInitialized","SpoiltBarchart_barchart_chartOptions","spoiltData","parseSpoiltVotesData","Valid","Spoilt","SpoiltBarchart_barchart","map_partyColorsData","regionColor","map_className","map_cn","Map","map_classCallCheck","map_getPrototypeOf","map_assertThisInitialized","drawGraph","selectAll","remove","prevProps","prevState","rect","rendercanvas","window","ignoreDimensions","scaleWidth","scaleHeight","canvg","canvas","filename","lnk","createEvent","fireEvent","loading","react_loading_default","color","fullRouteGeoJsonFile","getRegionFileName","h","geoJsonLoader","geoJsonData","locationToMainParty","parseMainPartyData","jsonDataFeatures","getMainPartyName","SPROVINCE","getMunicipalityCode","properties","getMunicipalityiecId","topojson","projection","path","availableCnt","enter","append","attr","center","projectionCenter","polylabel","style","text","getSubRegionName","fixMapLabelIntersect","undefinedText","mainPartyName","subRegionName","tooltipText","smunicipal","appendSpan","foDiv","regionName","addSub","appendLink","setRegionType","fo","currentRegionName","setTimeout","alert","Map_map","TurnoutMap_map_className","TurnoutMap_map_cn","TurnoutMap_map_classCallCheck","TurnoutMap_map_getPrototypeOf","isTurnout","TurnoutMap_map_assertThisInitialized","all","locationToMainData","getFillColorFromTurnout","turnout","getFillColorFromCountProg","countProg","getMainData","mainData","parseTurnoutData","parseCountingProgressDataForMap","it","TurnoutMap_map","percVoterTurnout","TurnoutBarchart_barchart_className","TurnoutBarchart_barchart_cn","TurnoutBarchart_barchart_classCallCheck","TurnoutBarchart_barchart_possibleConstructorReturn","TurnoutBarchart_barchart_getPrototypeOf","TurnoutBarchart_barchart_assertThisInitialized","TurnoutBarchart_barchart_chartOptions","turnoutData","parseTurnoutDataForAllEvents","TurnoutBarchart_barchart","barchartMap_className","BarchartWithNavMap","barchartMap_classCallCheck","barchartMap_getPrototypeOf","barchartMap_assertThisInitialized","zip","JSZip","imgs","base64","content","saveAs","assign","instance","barchartInstance","mapInstance","BarchartWithNavMap_barchartMap","d3piechart_Chart","margin","variable","category","floatFormat","colour","radius","pie","arc","totalSvg","transformX","labelSvg","toolTip","selection","hideTooltip","tip","toolTipHTML","arcTween","_current","colorsDataP","updatePath","data0","data1","m","k","j","findPreceding","startAngle","endAngle","n","findFollowing","findNeighborArc","piechart_className","piechart_cn","PieChart","piechart_classCallCheck","piechart_getPrototypeOf","piechart_assertThisInitialized","piechart_chartOptions","progressVotesData","parseProgressVotesCount","Completed","Not Completed","ProgVotesCountPiechart_piechart","piechart_partyColorsData","viewBox","RaceForSeatDonut_piechart_className","RaceForSeatDonut_piechart_cn","DonutChart","RaceForSeatDonut_piechart_classCallCheck","RaceForSeatDonut_piechart_getPrototypeOf","RaceForSeatDonut_piechart_assertThisInitialized","getNationOrProvinceName","RaceForSeatDonut_piechart_chartOptions","components_RaceForSeatDonut_piechart","VoteCompBarchart_barchart_partyColorsData","VoteCompBarchart_barchart_className","VoteCompBarchart_barchart_cn","VoteCompBarchart_barchart_classCallCheck","VoteCompBarchart_barchart_getPrototypeOf","VoteCompBarchart_barchart_assertThisInitialized","VoteCompBarchart_barchart_chartOptions","parseVotesComparisonData","VoteCompBarchart_barchart","SeatCompBarchart_barchart_partyColorsData","SeatCompBarchart_barchart_className","SeatCompBarchart_barchart_cn","SeatCompBarchart_barchart_classCallCheck","SeatCompBarchart_barchart_getPrototypeOf","SeatCompBarchart_barchart_assertThisInitialized","SeatCompBarchart_barchart_chartOptions","parseSeatsComparisonData","SeatCompBarchart_barchart","d3horseshoe_Chart","mainSvg","originChartData","largest","rest","totalSeats","rows","poslist","J","R","angle","Totals","PI","onMouseMove","onMouseOut","Counter","partySvg","pythonConvertedCode","horseshoe_partyColorsData","horseshoe_className","horseshoe_cn","HorseShoeChart","horseshoe_classCallCheck","horseshoe_getPrototypeOf","horseshoe_assertThisInitialized","undefined","has_drawn","horseshoe_chartOptions","SeatHorseShoeChart_horseshoe","d3voteprediction_Chart","showPoints","pointRadius","showPointLabels","pointLabelOffset","top","bottom","left","right","minMaxData","getPartyColour","PartyColours","minX","maxX","radiusScale","axisContainer","lineContainer","legendContainer","eventCaptureContainer","valueline","map","idx","voteprediction_partyColorsData","voteprediction_className","voteprediction_cn","formatDate","hr","getHours","min","getMinutes","getDate","getMonth","getFullYear","VotePredictionLineChart","voteprediction_classCallCheck","voteprediction_getPrototypeOf","electionType","_isMounted","voteprediction_assertThisInitialized","voteprediction_chartOptions","currentTimeText","Date","predictionData","parseCSIRMinMax","parseVotesPredictionData","_parseCSIRTurnoutTime","parseCSIRTurnoutTimestamp","timestamp","projectedTurnout","innerHTML","lastTimestamp","lastTimeStampText","VotePredictionLineChart_voteprediction","d3groupbarchart_Chart","XaxisOffset","groupChartData","groupSvgs","groupSvg","formatClassNameFromString","_loop","subX","_ref2","SplitNatProv_barchart_partyColorsData","SplitNatProv_barchart_className","SplitNatProv_barchart_cn","topLabel","usedValue","SplitNatProv_barchart_classCallCheck","SplitNatProv_barchart_getPrototypeOf","SplitNatProv_barchart_assertThisInitialized","SplitNatProv_barchart_chartOptions","parseVotesDataForAllEvents","SplitNatProv_barchart","cssPrefix","metrosData","CustomLink","navbar_classCallCheck","navbar_possibleConstructorReturn","navbar_getPrototypeOf","navbar_assertThisInitialized","React","hasSubMenu","toggleSubMenu","activateMe","newLocation","to","selectedMenuLabel","children","NavBar","activeLinkId","handleNavBarSelection","navbar","addEventListener","removeEventListener","activeElement","classList","target","iconClass","lastClass","passInfo","enableMap","enableTurnoutProgressSpoilt","selectionData","SEATS_ELECTEDS_EVENT","id","icon","metro","join","lib_default","activeLinkTo","LinkComponent","navbar_CustomLink","NavBar_navbar","quickResultsWidget_className","quickResultsWidget_cn","QuickResultsWidget","quickResultsWidget_classCallCheck","quickResultsWidget_getPrototypeOf","enableBarChart","national","provincial","currentTurnout","currentCountingProg","currentSpoiltVotes","quickResultsWidget_assertThisInitialized","fetchCurrentResultData","showLoadingIcon","newProps","progVotesData","parsedSpoiltData","parsedTurnoutData","parseTurnoutDataForOneEvent","parsedProgVotesData","parsedVotesData","voteItem","parsedSeatsData","seatItem","zipfileName","imageLoadPromises","_toConsumableArray","barchartInstances","element","triggerState","_this$state2","_this$state3","getNationalProvincialStr2","getNationalProvincialStr","getRegionName2","getSeatsCount","getNationalProvincialStr4","getNationalProvincialStr3","getRegionName4","_this$state4","mapState","_this3","_this$state5","Array","onShowVDResult","href","vdInput","components","QuickResultsWidget_quickResultsWidget","TVVoteCompBarchart_d3groupbarchart_Chart","bandwidth","YaxisOffset","barAxisTextSvg","barAxisTexts","TVSeatCompBarchart_barchart_partyColorsData","TVSeatCompBarchart_barchart_className","TVSeatCompBarchart_barchart_cn","TVSeatCompBarchart_barchart_classCallCheck","TVSeatCompBarchart_barchart_getPrototypeOf","TVSeatCompBarchart_barchart_assertThisInitialized","TVSeatCompBarchart_barchart_chartOptions","desc","parseSeatsComparisonDataMultipleParties","TVSeatCompBarchart_barchart","d3deltabarchart_Chart","newGroupChartData","_objectSpread","delta","deltaData","barTextYDelta","axisThick","TVSeatSwingBarchart_barchart_partyColorsData","TVSeatSwingBarchart_barchart_className","TVSeatSwingBarchart_barchart_cn","TVSeatSwingBarchart_barchart_classCallCheck","TVSeatSwingBarchart_barchart_getPrototypeOf","TVSeatSwingBarchart_barchart_assertThisInitialized","TVSeatSwingBarchart_barchart_chartOptions","years","TVSeatSwingBarchart_barchart","TVVoteCompBarchart_barchart_partyColorsData","TVVoteCompBarchart_barchart_className","TVVoteCompBarchart_barchart_cn","TVVoteCompBarchart_barchart_classCallCheck","TVVoteCompBarchart_barchart_getPrototypeOf","TVVoteCompBarchart_barchart_assertThisInitialized","TVVoteCompBarchart_barchart_chartOptions","parseVotesComparisonDataMultipleParties","TVVoteCompBarchart_barchart","TVVoteSwingBarchart_barchart_partyColorsData","TVVoteSwingBarchart_barchart_className","TVVoteSwingBarchart_barchart_cn","TVVoteSwingBarchart_barchart_classCallCheck","TVVoteSwingBarchart_barchart_getPrototypeOf","TVVoteSwingBarchart_barchart_assertThisInitialized","TVVoteSwingBarchart_barchart_chartOptions","TVVoteSwingBarchart_barchart","CSS_PREFIX","calcPercent","toFixed","getYear","results","edges","shortenedNatProv","nodeData","partyResults","longEventDescription","node","el","validVotes","edge1","edge2","edge1Year","edge2Year","firstEdge","locationResult","result","partyfilter_edges","new_results","available","totalCount","count","getTopPartyNameFromNode","lineData","percVds","prediction","predictionEdges","predictionEdge","predictionNodeData","predictedPercent","partyIndex","actualPercent","cleaned_name","oneLine","locationToTurnout","locationToProgVotes","beautifiedMuniName","toLocaleLowerCase","nationalProvincialStr","Eastern Cape","Free State","Gauteng","KwaZulu-Natal","Limpopo","Mpumalanga","North West","Northern Cape","Western Cape","tooltipClassName","labelElements","regions","overlapCnt","rect1","rect2","eventName","eventParam","CustomEvent","toUpperCase","PKLVDNUMBE","loadScript","scriptURL","callback","script","str","xOffset","yOffset","partyColours","partyColourByName"],"mappings":"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","file":"static/js/src-components-quickresults~src-components-race-for-seats~src-components-race-for-votes~src-componen~3364f670.b8dc9ae2.js","sourcesContent":["import { ApolloClient } from \"apollo-client\"\nimport { HttpLink } from \"apollo-link-http\"\nimport { InMemoryCache } from \"apollo-cache-inmemory\"\n\n// var API_URI = \"https://elections2019.xyz/graphql\";\nvar API_URI = \"https://eds.elections.sabc.co.za/graphql\";\n\n\nconst client = new ApolloClient({\n    link: new HttpLink({ uri: API_URI, useGETForQueries: true, headers: {\"Content-Type\" : \"application/graphql\" } }),\n    cache: new InMemoryCache()\n  })\n\nexport {\n    API_URI,\n    client\n}","import gql from \"graphql-tag\"\nimport {client} from \"./config\"\n\nexport function getSeatsDataForComparison(options) {\n  if (options.regionType === \"national\") {\n    return client.query({\n      query: gql`\n      {\n          allSeatCalculations(\n            eventType:\"National Election\" \n            orderBy:[\"-seats\"]){\n            edges{\n              node\n              {\n                nationalPr\n                regional\n                party{\n                  event {\n                    description\n                  }\n                  name\n                  abbreviation\n                  iecId\n                }\n                province{\n                  name\n                }\n              }\n            }\n          }\n      }\n      `\n    })\n  } else { //  if (options.regionType === \"province\")\n    return client.query({\n      query: gql`\n      {\n          allSeatCalculations(\n            province:\"${options.provinceName}\", \n            orderBy:[\"-seats\"]\n          ) {\n            edges{\n              node\n              {\n                nationalPr\n                regional\n                party{\n                  event {\n                    description\n                  }\n                  name\n                  abbreviation\n                  iecId\n                }\n                province{\n                  name\n                }\n              }\n            }\n          }\n      }\n      `\n    })\n  }\n}\n\n\nexport function getSeatsData(options) {\n    var eventDescription = options.eventDescription;\n    if (!eventDescription)\n      return;\n    if (options.regionType === \"national\") {\n      return client.query({\n        query: gql`\n        {\n            allSeatCalculations(\n              event:\"${eventDescription}\", \n              orderBy:[\"-seats\"]\n            ) {\n              edges{\n                node\n                {\n                  nationalPr\n                  regional\n                  party{\n                    name\n                    abbreviation\n                    iecId\n                  }\n                  province{\n                    name\n                    country{\n                      event{\n                        description\n                      }\n                    }\n                  }\n                }\n              }\n            }\n        }\n        `\n      })\n    } else { //  if (options.regionType === \"province\")\n      eventDescription = eventDescription.replace(\"National\", \"Provincial\");\n      eventDescription = eventDescription.replace(\"NATIONAL\", \"PROVINCIAL\");\n      eventDescription = eventDescription.replace(\"national\", \"provincial\");\n      return client.query({\n        query: gql`\n        {\n            allSeatCalculations(\n              province:\"${options.provinceName}\", \n              event:\"${eventDescription}\", \n              orderBy:[\"-seats\"]\n            ) {\n              edges{\n                node\n                {\n                  nationalPr\n                  regional\n                  party{\n                    name\n                    abbreviation\n                    iecId\n                  }\n                  province{\n                    name\n                    country{\n                      event{\n                        description\n                      }\n                    }\n                  }\n                }\n              }\n            }\n        }\n        `\n      })\n    }\n  }\n  \n","import gql from \"graphql-tag\"\nimport {client} from \"./config\"\n\n\nexport function getVotesPredictionData(options) {\n    console.log(\"getVotesPredictionData\", options);\n    var eventType = (options.electionType == \"national\"? \"National Election\": \"Provincial Election\");\n\n    if (options.regionType === \"national\") {\n      return client.query({\n        query: gql`\n        {\n          CSIRPrediction(eventType: \"${eventType}\", areaType:\"National\") {\n            turnout\n            timestamp\n            results{\n              edges{\n                node{\n                  percVds\n                  prediction{\n                    edges{\n                      node{\n                        party{\n                          name\n                          abbreviation\n                          iecId\n                        }\n                        actualPercent\n                        predictedPercent\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }`\n      })\n    } else { // regionType == \"province\"\n      return client.query({\n        query: gql`\n        {\n          CSIRPrediction(eventType: \"${eventType}\", areaType:\"Provincial\", province: \"${options.provinceName}\") {\n            turnout\n            timestamp\n            results{\n              edges{\n                node{\n                  percVds\n                  prediction{\n                    edges{\n                      node{\n                        party{\n                          name\n                          abbreviation\n                          iecId\n                        }\n                        actualPercent\n                        predictedPercent\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }`\n      })\n    }\n}\n\nexport function getVotesDataForComparison(options) {\n  if (options.regionType === \"national\") {\n    return client.query({\n      query: gql`\n      {\n        allBallots{\n          edges{\n            node{\n              event {\n                description\n              }\n              partyResults {\n                edges{\n                  node{\n                    percOfVotes\n                    party {\n                      name\n                      abbreviation\n                      iecId\n                    }\n                  }\n                }\n              }\n              location {\n                name\n              }\n            }\n          }\n        }\n      }\n      `\n    })\n  } else if (options.regionType === \"province\") {\n    return client.query({\n      query: gql`\n      {\n        allProvincialBallots(\n          province:\"${options.provinceName}\"\n        ){\n          edges{\n            node{\n              event {\n                description\n              }\n              partyResults {\n                edges{\n                  node{\n                    percOfVotes\n                    party {\n                      name\n                      abbreviation\n                      iecId\n                    }\n                  }\n                }\n              }\n              location {\n                name\n              }\n            }\n          }\n        }\n      }\n      `\n    })\n  } else if (options.regionType === \"municipality\") {\n    var muniCode = options.muniCode || options.muniName.split(\" - \")[0];\n\n    return client.query({\n      query: gql`\n      {\n        allMunicipalBallots(\n          province:\"${options.provinceName}\", \n          municipalCode: \"${muniCode}\"\n        ) {\n          edges{\n            node {\n              event {\n                description\n              }\n              partyResults {\n                edges{\n                  node{\n                    party {               \n                      name\n                      abbreviation\n                      iecId\n                    }\n                    validVotes\n                    percOfVotes\n                  }\n                }\n                \n              }\n              location {\n                code\n                name\n                longName\n              }\n            }\n          }\n        }\n      }\n      `\n    })\n  } else if (options.regionType === \"municipality-vd\") {\n    return client.query({\n      query: gql`\n      {\n        allVotingDistrictBallots(\n          iecId:\"${options.iecId}\", \n        ) {\n          edges{\n            node{\n              event {\n                description\n              }\n              location {\n                iecId\n              }\n              partyResults {\n                edges{\n                  node{\n                    party{\n                      name\n                    }\n                    percOfVotes\n                  }\n                }  \n              }\n            }\n          }\n        }\n      }\n      `\n    })\n  }\n}\n\nexport function getVotesDataForAllEvents(options) {\n    if (options.regionType === \"national\") {\n      return client.query({\n        query: gql`\n        {\n          allBallots{\n            edges{\n              node{\n                event {\n                  description\n                  eventType {\n                    description\n                  }\n                }\n                partyResults {\n                  edges{\n                    node{\n                      validVotes\n                      percOfVotes\n                      party {\n                        id\n                        name\n                        abbreviation\n                        iecId\n                      }\n                    }\n                  }\n                  \n                }\n                location {\n                  id\n                  name\n                }\n              }\n            }\n          }\n        }\n        `\n      })\n    } else if (options.regionType === \"province\") {\n      return client.query({\n        query: gql`\n        {\n          allProvincialBallots(\n            province:\"${options.provinceName}\"\n          ){\n            edges{\n              node{\n                event {\n                  description\n                  eventType {\n                    description\n                  }\n                }\n                partyResults {\n                  edges{\n                    node{\n                      validVotes\n                      percOfVotes\n                      party {\n                        id\n                        name\n                        abbreviation\n                        iecId\n                      }\n                    }\n                  }\n                }\n                location {\n                  id\n                  name\n                }\n              }\n            }\n          }\n        }\n        `\n      })\n    } else if (options.regionType === \"municipality\") {\n      var muniCode = options.muniCode || options.muniName.split(\" - \")[0];\n  \n      return client.query({\n        query: gql`\n        {\n          allMunicipalBallots(\n            province:\"${options.provinceName}\", \n            municipalCode: \"${muniCode}\"\n          ) {\n            edges{\n              node {\n                event {\n                  description\n                  eventType {\n                    description\n                  }\n                }\n                partyResults {\n                  edges{\n                    node{\n                      party {               \n                        name\n                        abbreviation\n                        iecId\n                      }\n                      validVotes\n                      percOfVotes\n                    }\n                  }\n                  \n                }\n                location {\n                  code\n                  name\n                  longName\n                }\n              }\n            }\n          }\n        }\n        `\n      })\n    } else if (options.regionType === \"municipality-vd\") {\n      return client.query({\n        query: gql`\n        {\n          allVotingDistrictBallots(\n            iecId:\"${options.iecId}\"\n          ) {\n            edges{\n              node{\n                event {\n                  description\n                  eventType {\n                    description\n                  }\n                }\n                location {\n                  iecId\n                }\n                partyResults {\n                  edges{\n                    node{\n                      party{\n                        name\n                        abbreviation\n                        iecId\n                      }\n                      validVotes\n                      percOfVotes\n                    }\n                  }  \n                }\n              }\n            }\n          }\n        }\n        `\n      })\n    }\n  }\n\nexport function getVotesDataM(options) {\n    var eventDescription = options.eventDescription;\n    if (!eventDescription)\n    return;\n    if (options.regionType === \"national\") {\n      return client.query({\n        query: gql`\n        {\n          allBallots(\n            event:\"${eventDescription}\"\n          ){\n            edges{\n              node{\n                partyResults {\n                  edges{\n                    node{\n                      validVotes\n                      percOfVotes\n                      party {\n                        id\n                        name\n                        abbreviation\n                        iecId\n                      }\n                    }\n                  }\n                  \n                }\n                location {\n                  id\n                  name\n                }\n              }\n            }\n          }\n        }\n        `\n      })\n    } else if (options.regionType === \"province\") {\n      return client.query({\n        query: gql`\n        {\n          allProvincialBallots(\n            event:\"${eventDescription}\",\n            province:\"${options.provinceName}\"\n          ){\n            edges{\n              node{\n                partyResults {\n                  edges{\n                    node{\n                      validVotes\n                      percOfVotes\n                      party {\n                        id\n                        name\n                        abbreviation\n                        iecId\n                      }\n                    }\n                  }\n                }\n                location {\n                  id\n                  name\n                }\n              }\n            }\n          }\n        }\n        `\n      })\n    } else if (options.regionType === \"municipality\") {\n      var muniCode = options.muniCode || options.muniName.split(\" - \")[0];\n  \n      return client.query({\n        query: gql`\n        {\n          allMunicipalBallots(\n            event:\"${eventDescription}\",\n            province:\"${options.provinceName}\", \n            municipalCode: \"${muniCode}\"\n          ) {\n            edges{\n              node {\n                partyResults {\n                  edges{\n                    node{\n                      party {               \n                        name\n                        abbreviation\n                        iecId\n                      }\n                      validVotes\n                      percOfVotes\n                    }\n                  }\n                  \n                }\n                location {\n                  code\n                  name\n                  longName\n                }\n              }\n            }\n          }\n        }\n        `\n      })\n    } else if (options.regionType === \"municipality-vd\") {\n      return client.query({\n        query: gql`\n        {\n          allVotingDistrictBallots(\n            event:\"${eventDescription}\",\n            iecId:\"${options.iecId}\"\n          ) {\n            edges{\n              node{\n                location {\n                  iecId\n                  ward {\n                    municipality {\n                      code\n                      province {\n                        name\n                      }\n                    }\n                  }\n                }\n                partyResults {\n                  edges{\n                    node{\n                      party{\n                        name\n                        abbreviation\n                        iecId\n                      }\n                      validVotes\n                      percOfVotes\n                    }\n                  }  \n                }\n              }\n            }\n          }\n        }\n        `\n      })\n    }\n  }\n\n  export function getMainParties(options) {\n    var eventDescription = options.eventDescription;\n    if (!eventDescription)\n      return;\n    if (options.regionType === \"national\") {\n      return client.query({\n        query: gql`\n        {\n          topPartiesByProvince(event:\"${eventDescription}\") {\n            edges {\n              node {\n                location{\n                  id\n                  name\n                }\n                totalVotesCast\n                topParty{\n                  validVotes\n                  percOfVotes\n                  party {\n                      id\n                      name\n                      abbreviation\n                      iecId\n                  }\n                }\n              }\n            }\n          }\n        }\n        `\n      })\n    } else if (options.regionType === \"province\") {\n      return client.query({\n        query: gql`\n        {\n          topPartiesByMunicipality(\n            event:\"${eventDescription}\", \n            province:\"${options.provinceName}\") {\n            \n            edges {\n              node {\n                location{\n                    code\n                    name\n                    longName\n                }\n                totalVotesCast\n                topParty{\n                  party {               \n                    name\n                    abbreviation\n                    iecId\n                  }\n                  validVotes\n                  percOfVotes\n                }\n              }\n            }\n          }\n        }\n        `\n      })\n    } else { //if (options.regionType === \"municipality\") {\n        return client.query({\n          query: gql`\n          {\n            topPartiesByVotingDistrict(\n              event:\"${eventDescription}\", \n              province:\"${options.provinceName}\",\n              municipalCode: \"${options.muniCode}\"\n            ) {\n              \n              edges {\n                node {\n                  location{\n                    iecId\n                  }\n                  topParty{\n                    party{\n                      name\n                      abbreviation\n                      iecId\n                    }\n                  }\n                }\n              }\n            }\n          }\n          `\n        })\n    }\n  }\n  \n","import gql from \"graphql-tag\"\nimport {client} from \"./config\"\n\n\n\n  export function getTurnoutData(options) {\n    var eventDescription = options.eventDescription;\n    if (!eventDescription)\n      return;\n    if (options.regionType === \"national\") {\n      return client.query({\n        query: gql`\n        {\n          allProvincialBallots(\n            event:\"${eventDescription}\"\n          ){\n            edges{\n              node{\n                percVoterTurnout\n                vdCount\n                vdWithResultsCaptured\n                location {\n                  id\n                  name\n                }\n              }\n            }\n          }\n        }\n        `\n      })\n    } else if (options.regionType === \"province\") {\n      return client.query({\n        query: gql`\n        {\n          allMunicipalBallots(\n            event:\"${eventDescription}\",\n            province:\"${options.provinceName}\"\n          ) {\n            edges{\n              node {\n                percVoterTurnout\n                vdCount\n                vdWithResultsCaptured\n                location {\n                  code\n                  name\n                  longName\n                }\n              }\n            }\n          }\n        }\n        `\n      })\n    } else { // municipality or municipality-vd\n        return client.query({\n          query: gql`\n          {\n            allVotingDistrictBallots( \n              event:\"${eventDescription}\",\n              municipalCode:\"${options.muniCode}\"\n            ) {\n              edges{\n                node{\n                  location {\n                    iecId\n                  }\n                  percVoterTurnout\n                  vdCount\n                  vdWithResultsCaptured\n                }\n              }\n            }\n          }\n          `\n        })\n    }\n  }\n  \n  export function getTurnoutDataForOneEvent(options) {\n    var eventDescription = options.eventDescription;\n    if (!eventDescription)\n      return;\n\n    if (options.regionType === \"national\") {\n      return client.query({\n        query: gql`\n        {\n          allBallots(\n            event:\"${eventDescription}\"\n          ) {\n            edges{\n              node{\n                event {\n                  description\n                  eventType {\n                    description\n                  }\n                }\n                percVoterTurnout\n              }\n            }\n          }\n        }\n        `\n      })\n    } else if (options.regionType === \"province\") {\n      return client.query({\n        query: gql`\n        {\n          allProvincialBallots(\n            event:\"${eventDescription}\"\n            province:\"${options.provinceName}\"\n          ) {\n            edges{\n              node {\n                event {\n                  description\n                  eventType {\n                    description\n                  }\n                }\n                percVoterTurnout\n              }\n            }\n          }\n        }\n        `\n      })\n    } else if (options.regionType === \"municipality\") {\n        var muniCode = options.muniCode || options.muniName.split(\" - \")[0];\n\n        return client.query({\n          query: gql`\n          {\n            allMunicipalBallots( \n              event:\"${eventDescription}\"\n              province:\"${options.provinceName}\", \n              municipalCode: \"${muniCode}\"\n            ) {\n              edges{\n                node{\n                  event {\n                    description\n                    eventType {\n                      description\n                    }\n                  }\n                  percVoterTurnout\n                }\n              }\n            }\n          }\n          `\n        })\n    } else if (options.regionType === \"municipality-vd\") {\n        return client.query({\n          query: gql`\n          {\n            allVotingDistrictBallots(\n              event:\"${eventDescription}\"\n              iecId:\"${options.iecId}\"\n            ) {\n              edges{\n                node{\n                  event {\n                    description\n                    eventType {\n                      description\n                    }\n                  }\n                  percVoterTurnout\n                }\n              }\n            }\n          }\n          `\n        })\n      }\n  }\n\n  export function getTurnoutDataForAllEvents(options) {\n    if (options.regionType === \"national\") {\n      return client.query({\n        query: gql`\n        {\n          allBallots{\n            edges{\n              node{\n                event {\n                  description\n                  eventType {\n                    description\n                  }\n                }\n                percVoterTurnout\n              }\n            }\n          }\n        }\n        `\n      })\n    } else if (options.regionType === \"province\") {\n      return client.query({\n        query: gql`\n        {\n          allProvincialBallots(\n            province:\"${options.provinceName}\"\n          ) {\n            edges{\n              node {\n                event {\n                  description\n                  eventType {\n                    description\n                  }\n                }\n                percVoterTurnout\n              }\n            }\n          }\n        }\n        `\n      })\n    } else if (options.regionType === \"municipality\") {\n        var muniCode = options.muniCode || options.muniName.split(\" - \")[0];\n\n        return client.query({\n          query: gql`\n          {\n            allMunicipalBallots( \n              province:\"${options.provinceName}\", \n              municipalCode: \"${muniCode}\"\n            ) {\n              edges{\n                node{\n                  event {\n                    description\n                    eventType {\n                      description\n                    }\n                  }\n                  percVoterTurnout\n                }\n              }\n            }\n          }\n          `\n        })\n    } else if (options.regionType === \"municipality-vd\") {\n        return client.query({\n          query: gql`\n          {\n            allVotingDistrictBallots(\n              iecId:\"${options.iecId}\" \n            ) {\n              edges{\n                node{\n                  event {\n                    description\n                    eventType {\n                      description\n                    }\n                  }\n                  percVoterTurnout\n                }\n              }\n            }\n          }\n          `\n        })\n      }\n  }","import gql from \"graphql-tag\"\nimport {client} from \"./config\"\n\n  export function getSpoiltData(options) {\n    var eventDescription = options.eventDescription;\n    if (!eventDescription)\n      return;\n    if (options.regionType === \"national\") {\n      return client.query({\n        query: gql`\n        {\n          allBallots(\n            event:\"${eventDescription}\"\n          ){\n            edges{\n              node{\n                spoiltVotes\n                totalVotesCast\n                totalValidVotes\n                location {\n                  id\n                  name\n                }\n              }\n            }\n          }\n        }\n        `\n      })\n    } else if (options.regionType === \"province\") {\n      return client.query({\n        query: gql`\n        {\n          allProvincialBallots(\n            event:\"${eventDescription}\",\n            province:\"${options.provinceName}\"\n          ) {\n            edges{\n              node {\n                spoiltVotes\n                totalVotesCast\n                totalValidVotes\n                location {\n                    id\n                    name\n                }\n              }\n            }\n          }\n        }\n        `\n      })\n    } else if (options.regionType === \"municipality\") {\n        var muniCode = options.muniCode || options.muniName.split(\" - \")[0];\n\n        return client.query({\n          query: gql`\n          {\n            allMunicipalBallots( \n                event:\"${eventDescription}\",\n                province:\"${options.provinceName}\", \n                municipalCode: \"${muniCode}\"\n            ) {\n              edges{\n                node{\n                  location {\n                    code\n                    name\n                    longName\n                  }\n                  spoiltVotes\n                  totalVotesCast\n                  totalValidVotes\n                }\n              }\n            }\n          }\n          `\n        })\n    } else if (options.regionType === \"municipality-vd\") {\n        return client.query({\n          query: gql`\n          {\n            allVotingDistrictBallots(\n              event:\"${eventDescription}\",\n              iecId:\"${options.iecId}\"\n            ) {\n              edges{\n                node{\n                  location {\n                    iecId\n                  }\n                  spoiltVotes\n                  totalVotesCast\n                  totalValidVotes\n                }\n              }\n            }\n          }\n          `\n        })\n      }\n  }\n  ","import gql from \"graphql-tag\"\nimport {client} from \"./config\"\n\nexport function getProgressVotesCount(options) {\n    var eventDescription = options.eventDescription;\n    if (!eventDescription)\n    return;\n    if (options.regionType == \"national\") {\n      return client.query({\n        query: gql`\n        {\n          allBallots(\n            event:\"${eventDescription}\"\n          ){\n            edges{\n              node{\n                vdCount\n                vdWithResultsCaptured\n              }\n            }\n          }\n        }\n        `\n      })\n    } else if (options.regionType == \"province\") {\n      return client.query({\n        query: gql`\n        {\n          allProvincialBallots(\n            event:\"${eventDescription}\",\n            province:\"${options.provinceName}\"\n          ){\n            edges{\n              node{\n                vdCount\n                vdWithResultsCaptured\n              }\n            }\n          }\n        }\n        `\n      })\n    } else if (options.regionType == \"municipality\") {\n      var muniCode = options.muniCode || options.muniName.split(\" - \")[0];\n  \n      return client.query({\n        query: gql`\n        {\n          allMunicipalBallots(\n            event:\"${eventDescription}\",\n            province:\"${options.provinceName}\", \n            municipalCode: \"${muniCode}\"\n          ) {\n            edges{\n              node {\n                vdCount\n                vdWithResultsCaptured\n              }\n            }\n          }\n        }\n        `\n      })\n    } else if (options.regionType == \"municipality-vd\") {\n      return client.query({\n        query: gql`\n        {\n          allVotingDistrictBallots(\n            event:\"${eventDescription}\",\n            iecId:\"${options.iecId}\"\n          ) {\n            edges{\n              node{\n                vdCount\n                vdWithResultsCaptured\n              }\n            }\n          }\n        }\n        `\n      })\n    }\n  }","import gql from \"graphql-tag\"\nimport {client} from \"./config\"\n\nexport {getSeatsData, getSeatsDataForComparison} from \"./race-for-seats\"\nexport {getVotesPredictionData, getVotesDataM, getVotesDataForAllEvents, getVotesDataForComparison, getMainParties} from \"./race-for-votes\"\nexport {getTurnoutData, getTurnoutDataForOneEvent, getTurnoutDataForAllEvents} from \"./turnout\"\nexport {getSpoiltData} from \"./spoilt\"\nexport {getProgressVotesCount} from \"./prog-votescount\"\n\nexport function getElectionEvents() {\n  return client.query({\n    query: gql`\n    {\n      allEvents {\n        description\n        eventType {\n          description\n        }\n      }\n    }\n    `\n  })\n}\n\nexport function getPartyColors() {\n  return client.query({\n    query: gql`\n    {\n      allParties {\n        edges{\n          node{\n            name\n            abbreviation\n            colour\n            iecId\n          }\n        }\n      }\n    }\n    `\n  })\n}\n\nexport function getProvincesData() {\n  var provincesData = [\n      {\n          \"name\": \"Limpopo\",\n          \"abbreviation\": \"LIM\",\n          \"munis\": [{\"provinceName\":\"Limpopo\",\"muniName\":\"LIM331 - Greater Giyani [Giyani]\",\"muniCode\":\"LIM331\"},{\"provinceName\":\"Limpopo\",\"muniName\":\"LIM332 - Greater Letaba [Duiwelskloof]\",\"muniCode\":\"LIM332\"},{\"provinceName\":\"Limpopo\",\"muniName\":\"LIM333 - Greater Tzaneen [Tzaneen]\",\"muniCode\":\"LIM333\"},{\"provinceName\":\"Limpopo\",\"muniName\":\"LIM334 - Ba-Phalaborwa [Phalaborwa]\",\"muniCode\":\"LIM334\"},{\"provinceName\":\"Limpopo\",\"muniName\":\"LIM335 - Maruleng [Hoedspruit]\",\"muniCode\":\"LIM335\"},{\"provinceName\":\"Limpopo\",\"muniName\":\"LIM341 - Musina [Messina]\",\"muniCode\":\"LIM341\"},{\"provinceName\":\"Limpopo\",\"muniName\":\"LIM342 - Mutale [Mutale-Masisi]\",\"muniCode\":\"LIM342\"},{\"provinceName\":\"Limpopo\",\"muniName\":\"LIM343 - Thulamela [Thohoyandou]\",\"muniCode\":\"LIM343\"},{\"provinceName\":\"Limpopo\",\"muniName\":\"LIM344 - Makhado [Louis Trichardt]\",\"muniCode\":\"LIM344\"},{\"provinceName\":\"Limpopo\",\"muniName\":\"LIM351 - Blouberg [Bochum/My Darling]\",\"muniCode\":\"LIM351\"},{\"provinceName\":\"Limpopo\",\"muniName\":\"LIM352 - Aganang [Moletji/Matlala]\",\"muniCode\":\"LIM352\"},{\"provinceName\":\"Limpopo\",\"muniName\":\"LIM353 - Molemole [Dendron/Dikgale]\",\"muniCode\":\"LIM353\"},{\"provinceName\":\"Limpopo\",\"muniName\":\"LIM354 - Polokwane [Pietersburg]\",\"muniCode\":\"LIM354\"},{\"provinceName\":\"Limpopo\",\"muniName\":\"LIM355 - Lepele-Nkumpi [Lebowakgomo]\",\"muniCode\":\"LIM355\"},{\"provinceName\":\"Limpopo\",\"muniName\":\"LIM361 - Thabazimbi [Thabazimbi]\",\"muniCode\":\"LIM361\"},{\"provinceName\":\"Limpopo\",\"muniName\":\"LIM362 - Lephalale [Ellisras]\",\"muniCode\":\"LIM362\"},{\"provinceName\":\"Limpopo\",\"muniName\":\"LIM364 - Mookgopong [Naboomspruit]\",\"muniCode\":\"LIM364\"},{\"provinceName\":\"Limpopo\",\"muniName\":\"LIM365 - Modimolle [Nylstroom]\",\"muniCode\":\"LIM365\"},{\"provinceName\":\"Limpopo\",\"muniName\":\"LIM366 - Bela-Bela [Warmbad]\",\"muniCode\":\"LIM366\"},{\"provinceName\":\"Limpopo\",\"muniName\":\"LIM367 - Mogalakwena [Potgietersrus]\",\"muniCode\":\"LIM367\"},{\"provinceName\":\"Limpopo\",\"muniName\":\"LIM471 - Ephraim Mogale [Marble Hall]\",\"muniCode\":\"LIM471\"},{\"provinceName\":\"Limpopo\",\"muniName\":\"LIM472 - Elias Motsoaledi [Groblersdal]\",\"muniCode\":\"LIM472\"},{\"provinceName\":\"Limpopo\",\"muniName\":\"LIM473 - Makhuduthamaga [Ngwaritsi]\",\"muniCode\":\"LIM473\"},{\"provinceName\":\"Limpopo\",\"muniName\":\"LIM474 - Fetakgomo [Fetakgomo ]\",\"muniCode\":\"LIM474\"},{\"provinceName\":\"Limpopo\",\"muniName\":\"LIM475 - Greater Tubatse [Burgersfort/Ohrigstad/Eastern Tubatse]\",\"muniCode\":\"LIM475\"}]\n      },\n      {\n          \"name\": \"Mpumalanga\",\n          \"abbreviation\": \"MP\",\n          \"munis\": [{\"provinceName\":\"Mpumalanga\",\"muniName\":\"MP301 - Albert Luthuli [Elukwatini/Carolina]\",\"muniCode\":\"MP301\"},{\"provinceName\":\"Mpumalanga\",\"muniName\":\"MP302 - Msukaligwa [Ermelo]\",\"muniCode\":\"MP302\"},{\"provinceName\":\"Mpumalanga\",\"muniName\":\"MP303 - Mkhondo [Piet Retief]\",\"muniCode\":\"MP303\"},{\"provinceName\":\"Mpumalanga\",\"muniName\":\"MP304 - Pixley Ka Seme [Volksrust]\",\"muniCode\":\"MP304\"},{\"provinceName\":\"Mpumalanga\",\"muniName\":\"MP305 - Lekwa [Standerton]\",\"muniCode\":\"MP305\"},{\"provinceName\":\"Mpumalanga\",\"muniName\":\"MP306 - Dipaleseng [Balfour]\",\"muniCode\":\"MP306\"},{\"provinceName\":\"Mpumalanga\",\"muniName\":\"MP307 - Govan Mbeki [Highveld Ridge]\",\"muniCode\":\"MP307\"},{\"provinceName\":\"Mpumalanga\",\"muniName\":\"MP311 - Delmas [Delmas]\",\"muniCode\":\"MP311\"},{\"provinceName\":\"Mpumalanga\",\"muniName\":\"MP312 - Emalahleni [Witbank]\",\"muniCode\":\"MP312\"},{\"provinceName\":\"Mpumalanga\",\"muniName\":\"MP313 - Steve Tshwete [Middelburg]\",\"muniCode\":\"MP313\"},{\"provinceName\":\"Mpumalanga\",\"muniName\":\"MP314 - Emakhazeni [Belfast]\",\"muniCode\":\"MP314\"},{\"provinceName\":\"Mpumalanga\",\"muniName\":\"MP315 - Thembisile [KwaMhlanga]\",\"muniCode\":\"MP315\"},{\"provinceName\":\"Mpumalanga\",\"muniName\":\"MP316 - Dr JS Moroka [Mdutjana]\",\"muniCode\":\"MP316\"},{\"provinceName\":\"Mpumalanga\",\"muniName\":\"MP321 - Thaba Chweu [Sabie]\",\"muniCode\":\"MP321\"},{\"provinceName\":\"Mpumalanga\",\"muniName\":\"MP322 - Mbombela [Nelspruit]\",\"muniCode\":\"MP322\"},{\"provinceName\":\"Mpumalanga\",\"muniName\":\"MP323 - Umjindi [Barberton]\",\"muniCode\":\"MP323\"},{\"provinceName\":\"Mpumalanga\",\"muniName\":\"MP324 - Nkomazi [Nkomazi]\",\"muniCode\":\"MP324\"},{\"provinceName\":\"Mpumalanga\",\"muniName\":\"MP325 - Bushbuckridge [Bushbuckridge]\",\"muniCode\":\"MP325\"}]\n      },\n      {\n          \"name\": \"Gauteng\",\n          \"abbreviation\": \"GT\",\n          \"munis\": [{\"provinceName\":\"Gauteng\",\"muniName\":\"EKU - Ekurhuleni [East Rand]\",\"muniCode\":\"EKU\"},{\"provinceName\":\"Gauteng\",\"muniName\":\"GT421 - Emfuleni [Vereeniging]\",\"muniCode\":\"GT421\"},{\"provinceName\":\"Gauteng\",\"muniName\":\"GT422 - Midvaal [Meyerton]\",\"muniCode\":\"GT422\"},{\"provinceName\":\"Gauteng\",\"muniName\":\"GT423 - Lesedi [Heidelberg]\",\"muniCode\":\"GT423\"},{\"provinceName\":\"Gauteng\",\"muniName\":\"GT481 - Mogale City [Krugersdorp]\",\"muniCode\":\"GT481\"},{\"provinceName\":\"Gauteng\",\"muniName\":\"GT482 - Randfontein [Randfontein]\",\"muniCode\":\"GT482\"},{\"provinceName\":\"Gauteng\",\"muniName\":\"GT483 - Westonaria [Westonaria]\",\"muniCode\":\"GT483\"},{\"provinceName\":\"Gauteng\",\"muniName\":\"GT484 - Merafong City [Carletonville]\",\"muniCode\":\"GT484\"},{\"provinceName\":\"Gauteng\",\"muniName\":\"JHB - City of Johannesburg [Johannesburg]\",\"muniCode\":\"JHB\"},{\"provinceName\":\"Gauteng\",\"muniName\":\"TSH - Tshwane Metro [Pretoria]\",\"muniCode\":\"TSH\"}]\n      },\n      {\n          \"name\": \"KwaZulu-Natal\",\n          \"abbreviation\": \"KZN\",\n          \"munis\": [{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"ETH - eThekwini [Durban Metro]\",\"muniCode\":\"ETH\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN211 - Vulamehlo [Dududu]\",\"muniCode\":\"KZN211\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN212 - Umdoni [Scottburgh]\",\"muniCode\":\"KZN212\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN213 - Umzumbe [Umzumbe]\",\"muniCode\":\"KZN213\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN214 - UMuziwabantu [Harding]\",\"muniCode\":\"KZN214\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN215 - Ezinqoleni [Izinqolweni]\",\"muniCode\":\"KZN215\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN216 - Hibiscus Coast [Port Shepstone]\",\"muniCode\":\"KZN216\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN221 - uMshwathi [Wartburg]\",\"muniCode\":\"KZN221\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN222 - uMngeni [Howick]\",\"muniCode\":\"KZN222\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN223 - Mooi Mpofana [Mooirivier]\",\"muniCode\":\"KZN223\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN224 - Impendle [Impendle]\",\"muniCode\":\"KZN224\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN225 - Msunduzi [Pietermaritzburg]\",\"muniCode\":\"KZN225\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN226 - Mkhambathini [Camperdown]\",\"muniCode\":\"KZN226\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN227 - Richmond [Richmond]\",\"muniCode\":\"KZN227\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN232 - Emnambithi/Ladysmith [Ladysmith]\",\"muniCode\":\"KZN232\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN233 - Indaka [Waaihoek]\",\"muniCode\":\"KZN233\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN234 - Umtshezi [Estcourt]\",\"muniCode\":\"KZN234\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN235 - Okhahlamba [Bergville]\",\"muniCode\":\"KZN235\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN236 - Imbabazane [Loskop]\",\"muniCode\":\"KZN236\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN241 - Endumeni [Dundee]\",\"muniCode\":\"KZN241\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN242 - Nqutu [Nqutu]\",\"muniCode\":\"KZN242\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN244 - Msinga [Pomeroy]\",\"muniCode\":\"KZN244\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN245 - Umvoti [Greytown]\",\"muniCode\":\"KZN245\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN252 - Newcastle [Newcastle]\",\"muniCode\":\"KZN252\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN253 - eMadlangeni [Utrecht]\",\"muniCode\":\"KZN253\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN254 - Dannhauser [Durnacol]\",\"muniCode\":\"KZN254\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN261 - eDumbe [Paulpietersburg]\",\"muniCode\":\"KZN261\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN262 - UPhongolo [Pongola]\",\"muniCode\":\"KZN262\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN263 - Abaqulusi [Vryheid]\",\"muniCode\":\"KZN263\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN265 - Nongoma [Nongoma]\",\"muniCode\":\"KZN265\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN266 - Ulundi [Ulundi]\",\"muniCode\":\"KZN266\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN271 - Umhlabuyalingana [Emangusi]\",\"muniCode\":\"KZN271\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN272 - Jozini [Mkuze]\",\"muniCode\":\"KZN272\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN273 - The Big 5 False Bay [Hluhluwe]\",\"muniCode\":\"KZN273\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN274 - Hlabisa [Somkele]\",\"muniCode\":\"KZN274\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN275 - Mtubatuba [Mtubatuba]\",\"muniCode\":\"KZN275\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN281 - Mfolozi [KwaMbonambi]\",\"muniCode\":\"KZN281\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN282 - uMhlathuze [Richards Bay]\",\"muniCode\":\"KZN282\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN283 - Ntambana [Ntambana]\",\"muniCode\":\"KZN283\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN284 - uMlalazi [Eshowe]\",\"muniCode\":\"KZN284\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN285 - Mthonjaneni [Melmoth]\",\"muniCode\":\"KZN285\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN286 - Nkandla [Nkandla]\",\"muniCode\":\"KZN286\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN291 - Mandeni [Mandeni]\",\"muniCode\":\"KZN291\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN292 - KwaDukuza [Stanger]\",\"muniCode\":\"KZN292\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN293 - Ndwedwe [Ndwedwe]\",\"muniCode\":\"KZN293\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN294 - Maphumulo [Maphumulo]\",\"muniCode\":\"KZN294\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN431 - Ingwe [Creighton]\",\"muniCode\":\"KZN431\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN432 - Kwa Sani [Underberg]\",\"muniCode\":\"KZN432\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN433 - Greater Kokstad [Kokstad]\",\"muniCode\":\"KZN433\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN434 - Ubuhlebezwe [Ixopo]\",\"muniCode\":\"KZN434\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN435 - Umzimkhulu [Umzimkulu]\",\"muniCode\":\"KZN435\"}]\n      },\n      {\n          \"name\": \"North West\",\n          \"abbreviation\": \"NW\",\n          \"munis\": [{\"provinceName\":\"North West\",\"muniName\":\"NW371 - Moretele [Makapanstad]\",\"muniCode\":\"NW371\"},{\"provinceName\":\"North West\",\"muniName\":\"NW372 - Madibeng [Brits]\",\"muniCode\":\"NW372\"},{\"provinceName\":\"North West\",\"muniName\":\"NW373 - Rustenburg [Rustenburg]\",\"muniCode\":\"NW373\"},{\"provinceName\":\"North West\",\"muniName\":\"NW374 - Kgetlengrivier [Koster]\",\"muniCode\":\"NW374\"},{\"provinceName\":\"North West\",\"muniName\":\"NW375 - Moses Kotane [Mogwase]\",\"muniCode\":\"NW375\"},{\"provinceName\":\"North West\",\"muniName\":\"NW381 - Ratlou [Setlagole]\",\"muniCode\":\"NW381\"},{\"provinceName\":\"North West\",\"muniName\":\"NW382 - Tswaing [Delareyville]\",\"muniCode\":\"NW382\"},{\"provinceName\":\"North West\",\"muniName\":\"NW383 - Mafikeng [Mafikeng]\",\"muniCode\":\"NW383\"},{\"provinceName\":\"North West\",\"muniName\":\"NW384 - Ditsobotla [Lichtenburg]\",\"muniCode\":\"NW384\"},{\"provinceName\":\"North West\",\"muniName\":\"NW385 - Ramotshere Moiloa [Zeerust]\",\"muniCode\":\"NW385\"},{\"provinceName\":\"North West\",\"muniName\":\"NW392 - Naledi [Vryburg]\",\"muniCode\":\"NW392\"},{\"provinceName\":\"North West\",\"muniName\":\"NW393 - Mamusa [Schweizer-Reneke]\",\"muniCode\":\"NW393\"},{\"provinceName\":\"North West\",\"muniName\":\"NW394 - Greater Taung [Reivilo]\",\"muniCode\":\"NW394\"},{\"provinceName\":\"North West\",\"muniName\":\"NW396 - Lekwa-Teemane [Christiana]\",\"muniCode\":\"NW396\"},{\"provinceName\":\"North West\",\"muniName\":\"NW397 - NW397 Local Municipality [Ganyesa/Pomfret]\",\"muniCode\":\"NW397\"},{\"provinceName\":\"North West\",\"muniName\":\"NW401 - Ventersdorp [Ventersdorp]\",\"muniCode\":\"NW401\"},{\"provinceName\":\"North West\",\"muniName\":\"NW402 - Tlokwe [Potchefstroom]\",\"muniCode\":\"NW402\"},{\"provinceName\":\"North West\",\"muniName\":\"NW403 - Matlosana [Klerksdorp]\",\"muniCode\":\"NW403\"},{\"provinceName\":\"North West\",\"muniName\":\"NW404 - Maquassi Hills [Wolmaransstad]\",\"muniCode\":\"NW404\"}]\n      },\n      {\n          \"name\": \"Free State\",\n          \"abbreviation\": \"FS\",\n          \"munis\": [{\"provinceName\":\"Free State\",\"muniName\":\"FS161 - Letsemeng [Koffiefontein]\",\"muniCode\":\"FS161\"},{\"provinceName\":\"Free State\",\"muniName\":\"FS162 - Kopanong [Trompsburg]\",\"muniCode\":\"FS162\"},{\"provinceName\":\"Free State\",\"muniName\":\"FS163 - Mohokare [Zastron]\",\"muniCode\":\"FS163\"},{\"provinceName\":\"Free State\",\"muniName\":\"FS164 - Naledi [Dewetsdorp]\",\"muniCode\":\"FS164\"},{\"provinceName\":\"Free State\",\"muniName\":\"FS181 - Masilonyana [Theunissen]\",\"muniCode\":\"FS181\"},{\"provinceName\":\"Free State\",\"muniName\":\"FS182 - Tokologo [Dealesville]\",\"muniCode\":\"FS182\"},{\"provinceName\":\"Free State\",\"muniName\":\"FS183 - Tswelopele [Hoopstad]\",\"muniCode\":\"FS183\"},{\"provinceName\":\"Free State\",\"muniName\":\"FS184 - Matjhabeng [Welkom]\",\"muniCode\":\"FS184\"},{\"provinceName\":\"Free State\",\"muniName\":\"FS185 - Nala [Bothaville]\",\"muniCode\":\"FS185\"},{\"provinceName\":\"Free State\",\"muniName\":\"FS191 - Setsoto [Senekal]\",\"muniCode\":\"FS191\"},{\"provinceName\":\"Free State\",\"muniName\":\"FS192 - Dihlabeng [Bethlehem]\",\"muniCode\":\"FS192\"},{\"provinceName\":\"Free State\",\"muniName\":\"FS193 - Nketoana [Reitz]\",\"muniCode\":\"FS193\"},{\"provinceName\":\"Free State\",\"muniName\":\"FS194 - Maluti a Phofung [Qwa-Qwa]\",\"muniCode\":\"FS194\"},{\"provinceName\":\"Free State\",\"muniName\":\"FS195 - Phumelela [Vrede]\",\"muniCode\":\"FS195\"},{\"provinceName\":\"Free State\",\"muniName\":\"FS196 - Mantsopa [Ladybrand]\",\"muniCode\":\"FS196\"},{\"provinceName\":\"Free State\",\"muniName\":\"FS201 - Moqhaka [Kroonstad]\",\"muniCode\":\"FS201\"},{\"provinceName\":\"Free State\",\"muniName\":\"FS203 - Ngwathe [Parys]\",\"muniCode\":\"FS203\"},{\"provinceName\":\"Free State\",\"muniName\":\"FS204 - Metsimaholo [Sasolburg]\",\"muniCode\":\"FS204\"},{\"provinceName\":\"Free State\",\"muniName\":\"FS205 - Mafube [Frankfort]\",\"muniCode\":\"FS205\"},{\"provinceName\":\"Free State\",\"muniName\":\"MAN - Mangaung [Bloemfontein]\",\"muniCode\":\"MAN\"}]\n      },\n      {\n          \"name\": \"Eastern Cape\",\n          \"abbreviation\": \"EC\",\n          \"munis\": [{\"provinceName\":\"Eastern Cape\",\"muniName\":\"BUF - Buffalo City [East London]\",\"muniCode\":\"BUF\"},{\"provinceName\":\"Eastern Cape\",\"muniName\":\"EC101 - Camdeboo [Graaff-Reinet]\",\"muniCode\":\"EC101\"},{\"provinceName\":\"Eastern Cape\",\"muniName\":\"EC102 - Blue Crane Route [Somerset East]\",\"muniCode\":\"EC102\"},{\"provinceName\":\"Eastern Cape\",\"muniName\":\"EC103 - Ikwezi [Jansenville]\",\"muniCode\":\"EC103\"},{\"provinceName\":\"Eastern Cape\",\"muniName\":\"EC104 - Makana [Grahamstown]\",\"muniCode\":\"EC104\"},{\"provinceName\":\"Eastern Cape\",\"muniName\":\"EC105 - Ndlambe [Port Alfred]\",\"muniCode\":\"EC105\"},{\"provinceName\":\"Eastern Cape\",\"muniName\":\"EC106 - Sundays River Valley [Kirkwood]\",\"muniCode\":\"EC106\"},{\"provinceName\":\"Eastern Cape\",\"muniName\":\"EC107 - Baviaans [Willowmore]\",\"muniCode\":\"EC107\"},{\"provinceName\":\"Eastern Cape\",\"muniName\":\"EC108 - Kouga [Humansdorp]\",\"muniCode\":\"EC108\"},{\"provinceName\":\"Eastern Cape\",\"muniName\":\"EC109 - Kou-Kamma [Kareedouw]\",\"muniCode\":\"EC109\"},{\"provinceName\":\"Eastern Cape\",\"muniName\":\"EC121 - Mbhashe [Idutywa]\",\"muniCode\":\"EC121\"},{\"provinceName\":\"Eastern Cape\",\"muniName\":\"EC122 - Mnquma [Butterworth]\",\"muniCode\":\"EC122\"},{\"provinceName\":\"Eastern Cape\",\"muniName\":\"EC123 - Great Kei [Komga]\",\"muniCode\":\"EC123\"},{\"provinceName\":\"Eastern Cape\",\"muniName\":\"EC124 - Amahlathi [Stutterheim]\",\"muniCode\":\"EC124\"},{\"provinceName\":\"Eastern Cape\",\"muniName\":\"EC126 - Ngqushwa [Peddie]\",\"muniCode\":\"EC126\"},{\"provinceName\":\"Eastern Cape\",\"muniName\":\"EC127 - Nkonkobe [Alice]\",\"muniCode\":\"EC127\"},{\"provinceName\":\"Eastern Cape\",\"muniName\":\"EC128 - Nxuba [Adelaide]\",\"muniCode\":\"EC128\"},{\"provinceName\":\"Eastern Cape\",\"muniName\":\"EC131 - Inxuba Yethemba [Cradock]\",\"muniCode\":\"EC131\"},{\"provinceName\":\"Eastern Cape\",\"muniName\":\"EC132 - Tsolwana [Tarkastad]\",\"muniCode\":\"EC132\"},{\"provinceName\":\"Eastern Cape\",\"muniName\":\"EC133 - Inkwanca [Molteno]\",\"muniCode\":\"EC133\"},{\"provinceName\":\"Eastern Cape\",\"muniName\":\"EC134 - Lukhanji [Queenstown]\",\"muniCode\":\"EC134\"},{\"provinceName\":\"Eastern Cape\",\"muniName\":\"EC135 - Intsika Yethu [Cofimvaba]\",\"muniCode\":\"EC135\"},{\"provinceName\":\"Eastern Cape\",\"muniName\":\"EC136 - Emalahleni [Lady Frere]\",\"muniCode\":\"EC136\"},{\"provinceName\":\"Eastern Cape\",\"muniName\":\"EC137 - Engcobo [Engcobo]\",\"muniCode\":\"EC137\"},{\"provinceName\":\"Eastern Cape\",\"muniName\":\"EC138 - Sakhisizwe [Elliot]\",\"muniCode\":\"EC138\"},{\"provinceName\":\"Eastern Cape\",\"muniName\":\"EC141 - Elundini [Mount Fletcher]\",\"muniCode\":\"EC141\"},{\"provinceName\":\"Eastern Cape\",\"muniName\":\"EC142 - Senqu [Lady Grey]\",\"muniCode\":\"EC142\"},{\"provinceName\":\"Eastern Cape\",\"muniName\":\"EC143 - Maletswai [Aliwal North]\",\"muniCode\":\"EC143\"},{\"provinceName\":\"Eastern Cape\",\"muniName\":\"EC144 - Gariep [Burgersdorp]\",\"muniCode\":\"EC144\"},{\"provinceName\":\"Eastern Cape\",\"muniName\":\"EC153 - Ngquza Hill [Flagstaff]\",\"muniCode\":\"EC153\"},{\"provinceName\":\"Eastern Cape\",\"muniName\":\"EC154 - Port St Johns [Port St Johns]\",\"muniCode\":\"EC154\"},{\"provinceName\":\"Eastern Cape\",\"muniName\":\"EC155 - Nyandeni [Libode]\",\"muniCode\":\"EC155\"},{\"provinceName\":\"Eastern Cape\",\"muniName\":\"EC156 - Mhlontlo [Qumbu]\",\"muniCode\":\"EC156\"},{\"provinceName\":\"Eastern Cape\",\"muniName\":\"EC157 - King Sabata Dalindyebo [Umtata]\",\"muniCode\":\"EC157\"},{\"provinceName\":\"Eastern Cape\",\"muniName\":\"EC441 - Matatiele [Matatiele]\",\"muniCode\":\"EC441\"},{\"provinceName\":\"Eastern Cape\",\"muniName\":\"EC442 - Umzimvubu [Mount Ayliff]\",\"muniCode\":\"EC442\"},{\"provinceName\":\"Eastern Cape\",\"muniName\":\"EC443 - Mbizana [Bizana]\",\"muniCode\":\"EC443\"},{\"provinceName\":\"Eastern Cape\",\"muniName\":\"EC444 - Ntabankulu [Ntabankulu]\",\"muniCode\":\"EC444\"},{\"provinceName\":\"Eastern Cape\",\"muniName\":\"NMA - Nelson Mandela Bay [Port Elizabeth]\",\"muniCode\":\"NMA\"}]\n      },\n      {\n          \"name\": \"Northern Cape\",\n          \"abbreviation\": \"NC\",\n          \"munis\": [{\"provinceName\":\"Northern Cape\",\"muniName\":\"NC061 - RICHTERSVELD [Port Nolloth]\",\"muniCode\":\"NC061\"},{\"provinceName\":\"Northern Cape\",\"muniName\":\"NC062 - NAMA KHOI [Springbok]\",\"muniCode\":\"NC062\"},{\"provinceName\":\"Northern Cape\",\"muniName\":\"NC064 - KAMIESBERG [Garies]\",\"muniCode\":\"NC064\"},{\"provinceName\":\"Northern Cape\",\"muniName\":\"NC065 - HANTAM [Calvinia]\",\"muniCode\":\"NC065\"},{\"provinceName\":\"Northern Cape\",\"muniName\":\"NC066 - KAROO HOOGLAND [Fraserburg]\",\"muniCode\":\"NC066\"},{\"provinceName\":\"Northern Cape\",\"muniName\":\"NC067 - KHI-MA [Pofadder]\",\"muniCode\":\"NC067\"},{\"provinceName\":\"Northern Cape\",\"muniName\":\"NC071 - UBUNTU [Victoria West]\",\"muniCode\":\"NC071\"},{\"provinceName\":\"Northern Cape\",\"muniName\":\"NC072 - UMSOBOMVU [Colesberg]\",\"muniCode\":\"NC072\"},{\"provinceName\":\"Northern Cape\",\"muniName\":\"NC073 - EMTHANJENI [De Aar]\",\"muniCode\":\"NC073\"},{\"provinceName\":\"Northern Cape\",\"muniName\":\"NC074 - KAREEBERG [Carnarvon]\",\"muniCode\":\"NC074\"},{\"provinceName\":\"Northern Cape\",\"muniName\":\"NC075 - RENOSTERBERG [Phillipstown]\",\"muniCode\":\"NC075\"},{\"provinceName\":\"Northern Cape\",\"muniName\":\"NC076 - THEMBELIHLE [Hopetown]\",\"muniCode\":\"NC076\"},{\"provinceName\":\"Northern Cape\",\"muniName\":\"NC077 - SIYATHEMBA [Prieska]\",\"muniCode\":\"NC077\"},{\"provinceName\":\"Northern Cape\",\"muniName\":\"NC078 - SIYANCUMA [Griekwastad]\",\"muniCode\":\"NC078\"},{\"provinceName\":\"Northern Cape\",\"muniName\":\"NC081 - MIER [Mier]\",\"muniCode\":\"NC081\"},{\"provinceName\":\"Northern Cape\",\"muniName\":\"NC082 - KAI !GARIB [Keimoes]\",\"muniCode\":\"NC082\"},{\"provinceName\":\"Northern Cape\",\"muniName\":\"NC083 - KHARA HAIS [Upington]\",\"muniCode\":\"NC083\"},{\"provinceName\":\"Northern Cape\",\"muniName\":\"NC084 - !KHEIS [Groblershoop]\",\"muniCode\":\"NC084\"},{\"provinceName\":\"Northern Cape\",\"muniName\":\"NC085 - TSANTSABANE [Postmasburg]\",\"muniCode\":\"NC085\"},{\"provinceName\":\"Northern Cape\",\"muniName\":\"NC086 - KGATELOPELE [Danielskuil]\",\"muniCode\":\"NC086\"},{\"provinceName\":\"Northern Cape\",\"muniName\":\"NC091 - Sol Plaatje [Kimberley]\",\"muniCode\":\"NC091\"},{\"provinceName\":\"Northern Cape\",\"muniName\":\"NC092 - Dikgatlong [Barkley West]\",\"muniCode\":\"NC092\"},{\"provinceName\":\"Northern Cape\",\"muniName\":\"NC093 - Magareng [Warrenton]\",\"muniCode\":\"NC093\"},{\"provinceName\":\"Northern Cape\",\"muniName\":\"NC094 - Phokwane [Hartswater]\",\"muniCode\":\"NC094\"},{\"provinceName\":\"Northern Cape\",\"muniName\":\"NC451 - Joe Morolong [Kgalagadi]\",\"muniCode\":\"NC451\"},{\"provinceName\":\"Northern Cape\",\"muniName\":\"NC452 - GA-SEGONYANA [Kuruman]\",\"muniCode\":\"NC452\"},{\"provinceName\":\"Northern Cape\",\"muniName\":\"NC453 - GAMAGARA [Kathu]\",\"muniCode\":\"NC453\"}]\n      },\n      {\n          \"name\": \"Western Cape\",\n          \"abbreviation\": \"WC\",\n          \"munis\": [{\"provinceName\":\"Western Cape\",\"muniName\":\"CPT - City of Cape Town [Cape Town]\",\"muniCode\":\"CPT\"},{\"provinceName\":\"Western Cape\",\"muniName\":\"WC011 - Matzikama [Vredendal]\",\"muniCode\":\"WC011\"},{\"provinceName\":\"Western Cape\",\"muniName\":\"WC012 - Cederberg [Citrusdal]\",\"muniCode\":\"WC012\"},{\"provinceName\":\"Western Cape\",\"muniName\":\"WC013 - Bergrivier [Velddrif]\",\"muniCode\":\"WC013\"},{\"provinceName\":\"Western Cape\",\"muniName\":\"WC014 - Saldanha Bay [West Coast Peninsula]\",\"muniCode\":\"WC014\"},{\"provinceName\":\"Western Cape\",\"muniName\":\"WC015 - Swartland [Malmesbury]\",\"muniCode\":\"WC015\"},{\"provinceName\":\"Western Cape\",\"muniName\":\"WC022 - Witzenberg [Ceres]\",\"muniCode\":\"WC022\"},{\"provinceName\":\"Western Cape\",\"muniName\":\"WC023 - Drakenstein [Paarl]\",\"muniCode\":\"WC023\"},{\"provinceName\":\"Western Cape\",\"muniName\":\"WC024 - Stellenbosch [Stellenbosch]\",\"muniCode\":\"WC024\"},{\"provinceName\":\"Western Cape\",\"muniName\":\"WC025 - Breede Valley [Worcester]\",\"muniCode\":\"WC025\"},{\"provinceName\":\"Western Cape\",\"muniName\":\"WC026 - Langeberg [Robertson]\",\"muniCode\":\"WC026\"},{\"provinceName\":\"Western Cape\",\"muniName\":\"WC031 - Theewaterskloof [Caledon]\",\"muniCode\":\"WC031\"},{\"provinceName\":\"Western Cape\",\"muniName\":\"WC032 - Overstrand [Greater Hermanus]\",\"muniCode\":\"WC032\"},{\"provinceName\":\"Western Cape\",\"muniName\":\"WC033 - Cape Agulhas [Bredasdorp]\",\"muniCode\":\"WC033\"},{\"provinceName\":\"Western Cape\",\"muniName\":\"WC034 - Swellendam [Barrydale/Swellendam ]\",\"muniCode\":\"WC034\"},{\"provinceName\":\"Western Cape\",\"muniName\":\"WC041 - Kannaland [Ladismith]\",\"muniCode\":\"WC041\"},{\"provinceName\":\"Western Cape\",\"muniName\":\"WC042 - Hessequa [Heidelberg/Riversdale]\",\"muniCode\":\"WC042\"},{\"provinceName\":\"Western Cape\",\"muniName\":\"WC043 - Mossel Bay [Mossel Bay]\",\"muniCode\":\"WC043\"},{\"provinceName\":\"Western Cape\",\"muniName\":\"WC044 - George [George]\",\"muniCode\":\"WC044\"},{\"provinceName\":\"Western Cape\",\"muniName\":\"WC045 - Oudtshoorn [Oudtshoorn]\",\"muniCode\":\"WC045\"},{\"provinceName\":\"Western Cape\",\"muniName\":\"WC047 - Bitou [Greater Plettenberg Bay]\",\"muniCode\":\"WC047\"},{\"provinceName\":\"Western Cape\",\"muniName\":\"WC048 - Knysna [Knysna]\",\"muniCode\":\"WC048\"},{\"provinceName\":\"Western Cape\",\"muniName\":\"WC051 - Laingsburg [Laingsburg]\",\"muniCode\":\"WC051\"},{\"provinceName\":\"Western Cape\",\"muniName\":\"WC052 - Prince Albert [Prins Albert]\",\"muniCode\":\"WC052\"},{\"provinceName\":\"Western Cape\",\"muniName\":\"WC053 - Beaufort West [Beaufort West]\",\"muniCode\":\"WC053\"}]\n      }\n  ]\n  provincesData.sort(function(a, b) {\n    return ('' + a.name).localeCompare(b.name);\n  })\n  return provincesData;\n}\n\nexport function getMetrosData() {\n  var metrosData = [\n    {\"provinceName\":\"Eastern Cape\",\"muniName\":\"BUF - Buffalo City [East London]\",\"muniCode\":\"BUF\"},\n    {\"provinceName\":\"Western Cape\",\"muniName\":\"CPT - City of Cape Town [Cape Town]\",\"muniCode\":\"CPT\"},\n    {\"provinceName\":\"Gauteng\",\"muniName\":\"JHB - City of Johannesburg [Johannesburg]\",\"muniCode\":\"JHB\"},\n    {\"provinceName\":\"Gauteng\",\"muniName\":\"TSH - Tshwane Metro [Pretoria]\",\"muniCode\":\"TSH\"},\n    {\"provinceName\":\"Gauteng\",\"muniName\":\"EKU - Ekurhuleni [East Rand]\",\"muniCode\":\"EKU\"},\n    {\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"ETH - eThekwini [Durban Metro]\",\"muniCode\":\"ETH\"},\n    {\"provinceName\":\"Free State\",\"muniName\":\"MAN - Mangaung [Bloemfontein]\",\"muniCode\":\"MAN\"},\n    {\"provinceName\":\"Eastern Cape\",\"muniName\":\"NMA - Nelson Mandela Bay [Port Elizabeth]\",\"muniCode\":\"NMA\"}\n  ]\n  return metrosData;\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ELVIZ_percentage-label\":\"barchart_ELVIZ_percentage-label__11KBU\",\"ELVIZ_tooltip\":\"barchart_ELVIZ_tooltip__1VYEb\",\"ELVIZ_grouprect\":\"barchart_ELVIZ_grouprect__cJukT\",\"ELVIZ_barchart\":\"barchart_ELVIZ_barchart__2b9Oe\",\"ELVIZ_stylesheet-tv\":\"barchart_ELVIZ_stylesheet-tv__1lclY\",\"ELVIZ_chart-title\":\"barchart_ELVIZ_chart-title__1mhdP\",\"ELVIZ_chart-body\":\"barchart_ELVIZ_chart-body__1VZnA\",\"ELVIZ_groupbarchart\":\"barchart_ELVIZ_groupbarchart__3gmZo\",\"ELVIZ_deltabarchart\":\"barchart_ELVIZ_deltabarchart__ag53R\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"embedcode\":\"barchartEmbed_embedcode__PswXQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ELVIZ_tooltip\":\"barchartMap_ELVIZ_tooltip__1F46X\",\"barchart-map\":\"barchartMap_barchart-map__2u5lR\",\"ELVIZ_stylesheet-tv\":\"barchartMap_ELVIZ_stylesheet-tv__1-UbB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"embedcode\":\"barchartMapEmbed_embedcode__2_Wo2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ELVIZ_map-title\":\"map_ELVIZ_map-title__KNJ39\",\"ELVIZ_loading-spinner\":\"map_ELVIZ_loading-spinner__2GzFO\",\"ELVIZ_tooltip\":\"map_ELVIZ_tooltip__3YG38\",\"map-widget\":\"map_map-widget__1YpIc\",\"ELVIZ_stylesheet-tv\":\"map_ELVIZ_stylesheet-tv__2wWa7\",\"legend\":\"map_legend__1asN6\",\"ELVIZ_stylesheet-web\":\"map_ELVIZ_stylesheet-web__306Nb\",\"ELVIZ_stylesheet-none\":\"map_ELVIZ_stylesheet-none__2s44d\",\"map-controls\":\"map_map-controls__Oq8G1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"embedcode\":\"mapEmbed_embedcode__2g8_I\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ELVIZ_menu-widget\":\"navbar_ELVIZ_menu-widget__2UYFB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ELVIZ_chart-title\":\"piechart_ELVIZ_chart-title__2oxiY\",\"piechart\":\"piechart_piechart__2tkNw\",\"ELVIZ_stylesheet-tv\":\"piechart_ELVIZ_stylesheet-tv__1Sy81\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"embedcode\":\"piechartEmbed_embedcode__1_IsI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ELVIZ_tooltip\":\"quickResultsWidget_ELVIZ_tooltip__Bsr0u\",\"ELVIZ_component-transition-menu\":\"quickResultsWidget_ELVIZ_component-transition-menu__3N2HT\",\"label\":\"quickResultsWidget_label__3pk0G\",\"active\":\"quickResultsWidget_active__3aFN4\",\"quickresultswidget\":\"quickResultsWidget_quickresultswidget__1x9Ta\",\"ELVIZ_stylesheet-tv\":\"quickResultsWidget_ELVIZ_stylesheet-tv__1Nxtj\",\"quick-results-title\":\"quickResultsWidget_quick-results-title__3pCUn\",\"race-for-seats\":\"quickResultsWidget_race-for-seats__3EH6s\",\"ELVIZ_row\":\"quickResultsWidget_ELVIZ_row__2DmsC\",\"ELVIZ_col-md-2\":\"quickResultsWidget_ELVIZ_col-md-2__3ze8n\",\"ELVIZ_col-md-4\":\"quickResultsWidget_ELVIZ_col-md-4__3-2wP\",\"ELVIZ_col-md-8\":\"quickResultsWidget_ELVIZ_col-md-8__3xjQ7\",\"ELVIZ_current-progress\":\"quickResultsWidget_ELVIZ_current-progress__1LisK\",\"ELVIZ_current-turnout\":\"quickResultsWidget_ELVIZ_current-turnout__1GWzr\",\"ELVIZ_current-counting-progress\":\"quickResultsWidget_ELVIZ_current-counting-progress__1FcXo\",\"ELVIZ_current-spoilt-votes\":\"quickResultsWidget_ELVIZ_current-spoilt-votes__2Z2aT\",\"ELVIZ_leadingmap-title-container\":\"quickResultsWidget_ELVIZ_leadingmap-title-container__E0HcX\",\"ELVIZ_leading-parties\":\"quickResultsWidget_ELVIZ_leading-parties__2ngL5\",\"ELVIZ_helper-text\":\"quickResultsWidget_ELVIZ_helper-text__1s8c2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"embedcode\":\"quickResultsWidgetEmbed_embedcode__1Rhdr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"embedcode\":\"barchartEmbed_embedcode__2fRjA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ELVIZ_chart-title\":\"piechart_ELVIZ_chart-title__3Buem\",\"ELVIZ_tooltip\":\"piechart_ELVIZ_tooltip__yC8kA\",\"donutchart\":\"piechart_donutchart__ZTyvg\",\"ELVIZ_stylesheet-tv\":\"piechart_ELVIZ_stylesheet-tv__1Lomg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"embedcode\":\"piechartEmbed_embedcode__2Lc6O\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"embedcode\":\"barchartEmbed_embedcode__3-Yfc\",\"multievent-container\":\"barchartEmbed_multievent-container__3pAXZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ELVIZ_chart-title\":\"horseshoe_ELVIZ_chart-title__2LEig\",\"ELVIZ_tooltip\":\"horseshoe_ELVIZ_tooltip__1oNUW\",\"horseshoechart\":\"horseshoe_horseshoechart__1EvOs\",\"ELVIZ_stylesheet-tv\":\"horseshoe_ELVIZ_stylesheet-tv__4J58K\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"embedcode\":\"horseshoeEmbed_embedcode__3Da6m\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"embedcode\":\"barchartEmbed_embedcode__jSgq1\",\"multievent-container\":\"barchartEmbed_multievent-container__K8YGQ\",\"multiparties-container\":\"barchartEmbed_multiparties-container__1K3Ei\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"embedcode\":\"barchartEmbed_embedcode__2P1A1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"embedcode\":\"barchartEmbed_embedcode__-0R0Q\",\"multievent-container\":\"barchartEmbed_multievent-container__cY35Q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"embedcode\":\"barchartEmbed_embedcode__-1k1S\",\"multievent-container\":\"barchartEmbed_multievent-container__YZQwz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"embedcode\":\"barchartEmbed_embedcode__2ig81\",\"multievent-container\":\"barchartEmbed_multievent-container__2fDyw\",\"multiparties-container\":\"barchartEmbed_multiparties-container__CqxMC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"embedcode\":\"barchartEmbed_embedcode__1Z7jS\",\"multievent-container\":\"barchartEmbed_multievent-container__3WXCe\",\"multiparties-container\":\"barchartEmbed_multiparties-container__bBj1f\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"embedcode\":\"barchartEmbed_embedcode__26LtM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"embedcode\":\"mapEmbed_embedcode__g7FGq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"embedcode\":\"barchartEmbed_embedcode__2b7PV\",\"multievent-container\":\"barchartEmbed_multievent-container__2pcWk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ELVIZ_chart-title\":\"voteprediction_ELVIZ_chart-title__3Igd5\",\"ELVIZ_tooltip\":\"voteprediction_ELVIZ_tooltip__6F4Bm\",\"ELVIZ_vote-prediction-title\":\"voteprediction_ELVIZ_vote-prediction-title__22uW8\",\"ELVIZ_projected-turnout\":\"voteprediction_ELVIZ_projected-turnout__4jxv3\",\"ELVIZ_prediction-time\":\"voteprediction_ELVIZ_prediction-time__1OI8T\",\"ELVIZ_CSIR-bottom-label\":\"voteprediction_ELVIZ_CSIR-bottom-label__2bvs8\",\"votepredictionlinechart\":\"voteprediction_votepredictionlinechart__2xkJf\",\"line-container\":\"voteprediction_line-container__wVs44\",\"graph-points\":\"voteprediction_graph-points__2LPGi\",\"axes\":\"voteprediction_axes__3LSHC\",\"axis-text\":\"voteprediction_axis-text__9PTvd\",\"graph-labels\":\"voteprediction_graph-labels__1IU05\",\"line\":\"voteprediction_line__1JDOR\",\"ELVIZ_stylesheet-tv\":\"voteprediction_ELVIZ_stylesheet-tv__327Z7\"};","import React, { Component } from \"react\";\n\nimport {\n    loadScriptsForEmbedMode\n} from \"../utils\";\n\nexport default class EmbedBase extends Component {\n    constructor(props) {\n        super(props);\n        loadScriptsForEmbedMode();\n    }\n\n    render () {\n        return (\n            <div></div>\n        )\n    }\n}","import React, {Component} from \"react\";\nimport EmbedBase from \"../embedBase\";\nimport config from \"../../config\";\nimport bootstrapStyles from \"bootstrap/dist/css/bootstrap.min.css\";\nimport styles from \"./barchartEmbed.css\";\nimport events from \"../../events\";\nimport {\n    getElectionEvents,\n    getProvincesData\n} from \"../../api\";\n\nimport {\n    triggerCustomEvent,\n    nationalEventSelected\n} from \"../../utils\";\n\nvar provincesData = getProvincesData();\n\nfunction className(originClassName) {\n    return bootstrapStyles[originClassName] || styles[originClassName] || originClassName;\n}\n\nclass BarChartEmbed extends EmbedBase {\n    \n    constructor(props) {\n        super(props);\n        this.state = {\n            elementId: \"root\",\n            eventDescription: \"2014 National Election\",\n            regionType: \"province\",\n            provinceName: \"Western Cape\",\n            muniName: \"\",\n            muniCode: \"\",\n            iecId: \"\",\n            numParties: 5,\n\n            electionEvents: [],\n            stylesheetFor: \"web\",\n            componentID: 1\n        }\n    }\n\n    componentDidMount() {\n        var self = this;\n        getElectionEvents()\n            .then(function(data) {\n                var electionEvents = data[\"data\"][\"allEvents\"]\n                self.setState({electionEvents});\n            }).catch(error => console.error(error));\n    }\n\n    componentDidUpdate() {\n    }\n\n    onEventDescriptionChange(e) {\n        if (e.target.value.toLowerCase().indexOf(\"national\") == -1 &&\n                this.state.regionType == \"national\") {\n            this.setState({eventDescription: e.target.value, regionType: \"province\", provinceName: \"Western Cape\"});\n        } else {\n            this.setState({eventDescription: e.target.value });\n        }\n    }\n\n    onRegionTypeChange(e) {\n        var newState = {regionType: e.target.value};\n        this.setState(newState);\n    }\n\n    onPreview(e) {\n        triggerCustomEvent(events.CHART_PREVIEW, this.state);\n    }\n\n    onExportAsPNG(e) {\n        triggerCustomEvent(events.EXPORT_PNG, this.state);\n    }\n      \n    render () {\n        var DOMAIN = config.DOMAIN;\n        var {\n            elementId,\n            stylesheetFor,\n            eventDescription,\n            regionType,            \n            provinceName,\n            muniName,\n            muniCode,\n            iecId,\n            numParties,\n            electionEvents\n        } = this.state;\n\n        var curProvinceData = provincesData.filter(item => item.name == provinceName)[0];\n        return (\n          <div>\n            <h3> Race For Votes Bar Chart Embed Script Generation </h3>\n            <div className={className(\"form-group\")}>\n                <label>Element ID </label>\n                <input \n                    type=\"text\" \n                    className={className(\"form-control\")} \n                    placeholder=\"chart-container\"\n                    onChange={e => this.setState({elementId: e.target.value})}\n                    />\n            </div>\n            <div className={className(\"form-group\")}>\n                  <label>Stylesheet</label>\n                  <select className={className(\"form-control\")} \n                     value={stylesheetFor}\n                     onChange={e => this.setState({stylesheetFor: e.target.value})}>\n                        <option value=\"tv\">TV</option>\n                        <option value=\"web\">Web</option>\n                        <option value=\"none\">None</option>\n                  </select>\n            </div>\n              <div className={className(\"form-group\")}>\n                  <label>Event </label>\n                  <select className={className(\"form-control\")} \n                     value={eventDescription}\n                     onChange={this.onEventDescriptionChange.bind(this)}>\n                        {\n                            electionEvents.map(item => {\n                                return (<option key={item.description} value={item.description}>{item.description}</option>)\n                            })\n                        }\n                  </select>\n              </div>\n              <div className={className(\"form-group\")}>\n                  <label>Region Type </label>\n                  <select className={className(\"form-control\")} \n                     value={regionType}\n                     onChange={this.onRegionTypeChange.bind(this)}>\n                        { \n                            nationalEventSelected(this.state) && \n                            <option value=\"national\">national</option>\n                        }\n                        <option value=\"province\">province</option>\n                        <option value=\"municipality\">municipality</option>\n                        <option value=\"municipality-vd\">voting district</option>\n                  </select>\n              </div>\n              {\n                  (regionType != \"national\") && \n                    <div className={className(\"form-group\")}>\n                        <label>Province Name</label>\n                        <select className={className(\"form-control\")} \n                            value={provinceName}\n                            onChange={e => this.setState({provinceName: e.target.value})} >\n                            <option value=\"\">Select ...</option>\n                            {\n                                provincesData && provincesData.map(province => {\n                                    return <option key={province.name} value={province.name}>{province.name}</option>\n                                })\n                            }\n                        </select>\n                    </div>\n              }\n              {\n                  (regionType == \"municipality\") &&\n                    <div className={className(\"form-group\")}>\n                        <label>Municipality Name</label>\n                        <select className={className(\"form-control\")} \n                            value={muniName}\n                            onChange={e => this.setState({muniName: e.target.value})} >\n                            <option value=\"\">Select ...</option>\n                            {\n                                curProvinceData && curProvinceData.munis.map(muni => {\n                                    return <option key={muni.muniName} value={muni.muniName}>{muni.muniName}</option>\n                                })\n                            }\n                        </select>\n                    </div>\n              }\n              {\n                  (regionType == \"municipality-vd\") &&\n                    <div className={className(\"form-group\")}>\n                        <label>Municipality Code</label>\n                        <input \n                            type=\"text\" \n                            className={className(\"form-control\")} \n                            placeholder=\"CPT\"\n                            value={muniCode}\n                            onChange={e => this.setState({muniCode: e.target.value})} \n                            />\n                    </div>\n              }\n              {\n                  (regionType == \"municipality-vd\") &&\n                    <div className={className(\"form-group\")}>\n                        <label>Voting District Number</label>\n                        <input \n                            type=\"text\" \n                            className={className(\"form-control\")} \n                            placeholder=\"97860055\"\n                            value={iecId}\n                            onChange={e => this.setState({iecId: e.target.value})} \n                            />\n                    </div>\n              }\n              <div className={className(\"form-group\")}>\n                  <label>Number Of Parties</label>\n                  <input \n                    type=\"number\" \n                    className={className(\"form-control\")} \n                    placeholder=\"5\"\n                    value={numParties}\n                    onChange={e => this.setState({numParties: e.target.value})} />\n              </div>\n              <div className={className(\"form-group\")}>\n                <button type=\"button\" onClick={this.onPreview.bind(this)} className={className(\"btn\") + \" \" + className(\"btn-primary\") }>Preview</button>\n              </div>\n              <div className={className(\"form-group\")}>\n                <button type=\"button\" \n                    onClick={this.onExportAsPNG.bind(this)} \n                    className={className(\"btn\") + \" \" + className(\"btn-primary\") }>Export As PNG</button>\n              </div>\n              <div className={className(\"form-group\")}>\n                  <label>Embed Code</label>\n                  <div className={className(\"embedcode\")}>\n                    <span>{`\n                    <div id=\"${elementId}\"></div>\n                    <script src=\"${DOMAIN}/embed/embed.js\"></script>\n                    <script>showBarChart(\n                        document.getElementById(\"${elementId}\"),\n                        {\n                            stylesheetFor: \"${stylesheetFor}\",\n                            eventDescription: \"${eventDescription}\",\n                            regionType: \"${regionType}\",\n                            provinceName: \"${provinceName}\",\n                            muniName: \"${muniName}\",\n                            muniCode: \"${muniCode}\",\n                            iecId: \"${iecId}\",\n                            numParties: \"${numParties}\"\n                        });</script>`.replace(/(\\r\\n|\\n|\\r)/gm, \"\")}</span>\n                  </div>\n              </div>\n          </div>\n        )\n    }\n}\nexport default BarChartEmbed;","import React, {Component} from \"react\";\nimport EmbedBase from \"../embedBase\";\nimport config from \"../../config\";\nimport bootstrapStyles from \"bootstrap/dist/css/bootstrap.min.css\";\nimport styles from \"./barchartEmbed.css\";\nimport events from \"../../events\";\nimport {\n    getElectionEvents,\n    getProvincesData\n} from \"../../api\";\nimport {\n    triggerCustomEvent,\n    nationalEventSelected\n} from \"../../utils\";\n\nvar provincesData = getProvincesData();\n\nfunction className(originClassName) {\n    return bootstrapStyles[originClassName] || styles[originClassName] || originClassName;\n}\n\nclass BarChartEmbed extends EmbedBase {\n    \n    constructor(props) {\n        super(props);\n        this.state = {\n            elementId: \"root\",\n            eventDescription: \"2014 National Election\",\n            regionType: \"national\",\n            provinceName: \"\",\n            muniName: \"\",\n            muniCode: \"\",\n            iecId: \"\",\n            numParties: 5,\n\n            electionEvents: [],\n            stylesheetFor: \"web\",\n            componentID: 6\n        }\n    }\n\n    componentDidMount() {\n        var self = this;\n        getElectionEvents()\n            .then(function(data) {\n                var electionEvents = data[\"data\"][\"allEvents\"]\n                self.setState({electionEvents});\n            }).catch(error => console.error(error));\n    }\n\n    componentDidUpdate() {\n    }\n\n    onEventDescriptionChange(e) {\n        if (e.target.value.toLowerCase().indexOf(\"national\") == -1 &&\n                this.state.regionType == \"national\") {\n            this.setState({eventDescription: e.target.value, regionType: \"province\", provinceName: \"Western Cape\"});\n        } else {\n            this.setState({eventDescription: e.target.value });\n        }\n    }\n\n    onRegionTypeChange(e) {\n        var newState = {regionType: e.target.value};\n        this.setState(newState);\n    }\n\n    onPreview(e) {\n        triggerCustomEvent(events.CHART_PREVIEW, this.state);\n    }\n    \n    onExportAsPNG(e) {\n        triggerCustomEvent(events.EXPORT_PNG, this.state);\n    }\n\n    render () {\n        var DOMAIN = config.DOMAIN;\n        var {\n            elementId,\n            stylesheetFor,\n            eventDescription,\n            regionType,            \n            provinceName,\n            muniName,\n            muniCode,\n            iecId,\n            numParties,\n            electionEvents\n        } = this.state;\n\n        var curProvinceData = provincesData.filter(item => item.name == provinceName)[0];\n        return (\n          <div>\n            <h3> Race For Seat Bar Chart Embed Script Generation </h3>\n            <div className={className(\"form-group\")}>\n                <label>Element ID </label>\n                <input \n                    type=\"text\" \n                    className={className(\"form-control\")} \n                    placeholder=\"chart-container\"\n                    onChange={e => this.setState({elementId: e.target.value})}\n                    />\n            </div>\n            <div className={className(\"form-group\")}>\n                  <label>Stylesheet</label>\n                  <select className={className(\"form-control\")} \n                     value={stylesheetFor}\n                     onChange={e => this.setState({stylesheetFor: e.target.value})}>\n                        <option value=\"tv\">TV</option>\n                        <option value=\"web\">Web</option>\n                        <option value=\"none\">None</option>\n                  </select>\n            </div>\n              <div className={className(\"form-group\")}>\n                  <label>Event </label>\n                  <select className={className(\"form-control\")} \n                     value={eventDescription}\n                     onChange={this.onEventDescriptionChange.bind(this)}>\n                        {\n                            electionEvents.map(item => {\n                                return (<option key={item.description} value={item.description}>{item.description}</option>)\n                            })\n                        }\n                  </select>\n              </div>\n              <div className={className(\"form-group\")}>\n                  <label>Region Type </label>\n                  <select className={className(\"form-control\")} \n                     value={regionType}\n                     onChange={this.onRegionTypeChange.bind(this)}>\n                        { \n                            nationalEventSelected(this.state) && \n                            <option value=\"national\">national</option>\n                        }\n                        <option value=\"province\">province</option>\n                  </select>\n              </div>\n              {\n                  (regionType != \"national\") && \n                    <div className={className(\"form-group\")}>\n                        <label>Province Name</label>\n                        <select className={className(\"form-control\")} \n                            value={provinceName}\n                            onChange={e => this.setState({provinceName: e.target.value})} >\n                            <option value=\"\">Select ...</option>\n                            {\n                                provincesData && provincesData.map(province => {\n                                    return <option key={province.name} value={province.name}>{province.name}</option>\n                                })\n                            }\n                        </select>\n                    </div>\n              }\n              {\n                  (regionType == \"municipality\") &&\n                    <div className={className(\"form-group\")}>\n                        <label>Municipality Name</label>\n                        <select className={className(\"form-control\")} \n                            value={muniName}\n                            onChange={e => this.setState({muniName: e.target.value})} >\n                            <option value=\"\">Select ...</option>\n                            {\n                                curProvinceData && curProvinceData.munis.map(muni => {\n                                    return <option key={muni.muniName} value={muni.muniName}>{muni.muniName}</option>\n                                })\n                            }\n                        </select>\n                    </div>\n              }\n              {\n                  (regionType == \"municipality-vd\") &&\n                    <div className={className(\"form-group\")}>\n                        <label>Municipality Code</label>\n                        <input \n                            type=\"text\" \n                            className={className(\"form-control\")} \n                            placeholder=\"CPT\"\n                            value={muniCode}\n                            onChange={e => this.setState({muniCode: e.target.value})} \n                            disabled={(regionType==\"national\")}/>\n                    </div>\n              }\n              {\n                  (regionType == \"municipality-vd\") &&\n                    <div className={className(\"form-group\")}>\n                        <label>Voting District Number</label>\n                        <input \n                            type=\"text\" \n                            className={className(\"form-control\")} \n                            placeholder=\"97860055\"\n                            value={iecId}\n                            onChange={e => this.setState({iecId: e.target.value})} \n                            disabled={(regionType==\"national\")}/>\n                    </div>\n              }\n              <div className={className(\"form-group\")}>\n                  <label>Number Of Parties</label>\n                  <input \n                    type=\"number\" \n                    className={className(\"form-control\")} \n                    placeholder=\"5\"\n                    value={numParties}\n                    onChange={e => this.setState({numParties: e.target.value})} />\n              </div>\n              <div className={className(\"form-group\")}>\n                <button type=\"button\" onClick={this.onPreview.bind(this)} className={className(\"btn\") + \" \" + className(\"btn-primary\") }>Preview</button>\n              </div>\n              <div className={className(\"form-group\")}>\n                <button type=\"button\" \n                    onClick={this.onExportAsPNG.bind(this)} \n                    className={className(\"btn\") + \" \" + className(\"btn-primary\") }>Export As PNG</button>\n              </div>\n              <div className={className(\"form-group\")}>\n                  <label>Embed Code</label>\n                  <div className={className(\"embedcode\")}>\n                    <span>{`\n                    <div id=\"${elementId}\"></div>\n                    <script src=\"${DOMAIN}/embed/embed.js\"></script>\n                    <script>showRaceForSeatsBarChart(\n                        document.getElementById(\"${elementId}\"),\n                        {\n                            stylesheetFor: \"${stylesheetFor}\",\n                            eventDescription: \"${eventDescription}\",\n                            regionType: \"${regionType}\",\n                            provinceName: \"${provinceName}\",\n                            muniName: \"${muniName}\",\n                            muniCode: \"${muniCode}\",\n                            iecId: \"${iecId}\",\n                            numParties: \"${numParties}\"\n                        });</script>`.replace(/(\\r\\n|\\n|\\r)/gm, \"\")}</span>\n                  </div>\n              </div>\n          </div>\n        )\n    }\n}\nexport default BarChartEmbed;","import React, {Component} from \"react\";\nimport EmbedBase from \"../embedBase\";\nimport config from \"../../config\";\nimport bootstrapStyles from \"bootstrap/dist/css/bootstrap.min.css\";\nimport styles from \"./barchartEmbed.css\";\nimport events from \"../../events\";\nimport {\n    getElectionEvents,\n    getProvincesData\n} from \"../../api\";\n\nimport {\n    triggerCustomEvent,\n    nationalEventSelected\n} from \"../../utils\";\n\nvar provincesData = getProvincesData();\n\nfunction className(originClassName) {\n    return bootstrapStyles[originClassName] || styles[originClassName] || originClassName;\n}\n\nclass BarChartEmbed extends EmbedBase {\n    \n    constructor(props) {\n        super(props);\n        this.state = {\n            elementId: \"root\",\n            eventDescription: \"2014 National Election\",\n            regionType: \"national\",\n            provinceName: \"\",\n            muniName: \"\",\n            muniCode: \"\",\n            iecId: \"\",\n\n            electionEvents: [],\n            stylesheetFor: \"web\",\n            componentID: 9\n        }\n    }\n\n    componentDidMount() {\n        var self = this;\n        getElectionEvents()\n            .then(function(data) {\n                var electionEvents = data[\"data\"][\"allEvents\"]\n                self.setState({electionEvents});\n            }).catch(error => console.error(error));\n    }\n\n    componentDidUpdate() {\n    }\n\n    onEventDescriptionChange(e) {\n        if (e.target.value.toLowerCase().indexOf(\"national\") == -1 &&\n                this.state.regionType == \"national\") {\n            this.setState({eventDescription: e.target.value, regionType: \"province\", provinceName: \"Western Cape\"});\n        } else {\n            this.setState({eventDescription: e.target.value });\n        }\n    }\n\n    onRegionTypeChange(e) {\n        var newState = {regionType: e.target.value};\n        this.setState(newState);\n    }\n\n    onPreview(e) {\n        triggerCustomEvent(events.CHART_PREVIEW, this.state);\n    }\n\n    onExportAsPNG(e) {\n        triggerCustomEvent(events.EXPORT_PNG, this.state);\n    }\n      \n    render () {\n        var DOMAIN = config.DOMAIN;\n        var {\n            elementId,\n            stylesheetFor,\n            eventDescription,\n            regionType,            \n            provinceName,\n            muniName,\n            muniCode,\n            iecId,\n            electionEvents\n        } = this.state;\n\n        var curProvinceData = provincesData.filter(item => item.name == provinceName)[0];\n        return (\n          <div>\n            <h3> Race For Seat Bar Chart Embed Script Generation </h3>\n            <div className={className(\"form-group\")}>\n                <label>Element ID </label>\n                <input \n                    type=\"text\" \n                    className={className(\"form-control\")} \n                    placeholder=\"chart-container\"\n                    onChange={e => this.setState({elementId: e.target.value})}\n                    />\n            </div>\n\n            <div className={className(\"form-group\")}>\n                  <label>Stylesheet</label>\n                  <select className={className(\"form-control\")} \n                     value={stylesheetFor}\n                     onChange={e => this.setState({stylesheetFor: e.target.value})}>\n                        <option value=\"tv\">TV</option>\n                        <option value=\"web\">Web</option>\n                        <option value=\"none\">None</option>\n                  </select>\n            </div>\n              <div className={className(\"form-group\")}>\n                  <label>Event </label>\n                  <select className={className(\"form-control\")} \n                     value={eventDescription}\n                     onChange={this.onEventDescriptionChange.bind(this)}>\n                        {\n                            electionEvents.map(item => {\n                                return (<option key={item.description} value={item.description}>{item.description}</option>)\n                            })\n                        }\n                  </select>\n              </div>\n              <div className={className(\"form-group\")}>\n                  <label>Region Type </label>\n                  <select className={className(\"form-control\")} \n                     value={regionType}\n                     onChange={this.onRegionTypeChange.bind(this)}>\n                        { \n                            nationalEventSelected(this.state) && \n                            <option value=\"national\">national</option>\n                        }\n                        <option value=\"province\">province</option>\n                        <option value=\"municipality\">municipality</option>\n                        <option value=\"municipality-vd\">voting district</option>\n                  </select>\n              </div>\n              {\n                  (regionType != \"national\") && \n                    <div className={className(\"form-group\")}>\n                        <label>Province Name</label>\n                        <select className={className(\"form-control\")} \n                            value={provinceName}\n                            onChange={e => this.setState({provinceName: e.target.value})} >\n                            <option value=\"\">Select ...</option>\n                            {\n                                provincesData && provincesData.map(province => {\n                                    return <option key={province.name} value={province.name}>{province.name}</option>\n                                })\n                            }\n                        </select>\n                    </div>\n              }\n              {\n                  (regionType == \"municipality\") &&\n                    <div className={className(\"form-group\")}>\n                        <label>Municipality Name</label>\n                        <select className={className(\"form-control\")} \n                            value={muniName}\n                            onChange={e => this.setState({muniName: e.target.value})} >\n                            <option value=\"\">Select ...</option>\n                            {\n                                curProvinceData && curProvinceData.munis.map(muni => {\n                                    return <option key={muni.muniName} value={muni.muniName}>{muni.muniName}</option>\n                                })\n                            }\n                        </select>\n                    </div>\n              }\n              {\n                  (regionType == \"municipality-vd\") &&\n                    <div className={className(\"form-group\")}>\n                        <label>Municipality Code</label>\n                        <input \n                            type=\"text\" \n                            className={className(\"form-control\")} \n                            placeholder=\"CPT\"\n                            value={muniCode}\n                            onChange={e => this.setState({muniCode: e.target.value})} \n                            disabled={(regionType==\"national\")}/>\n                    </div>\n              }\n              {\n                  (regionType == \"municipality-vd\") &&\n                    <div className={className(\"form-group\")}>\n                        <label>Voting District Number</label>\n                        <input \n                            type=\"text\" \n                            className={className(\"form-control\")} \n                            placeholder=\"97860055\"\n                            value={iecId}\n                            onChange={e => this.setState({iecId: e.target.value})} \n                            disabled={(regionType==\"national\")}/>\n                    </div>\n              }\n              <div className={className(\"form-group\")}>\n                <button type=\"button\" onClick={this.onPreview.bind(this)} className={className(\"btn\") + \" \" + className(\"btn-primary\") }>Preview</button>\n              </div>\n              <div className={className(\"form-group\")}>\n                <button type=\"button\" \n                    onClick={this.onExportAsPNG.bind(this)} \n                    className={className(\"btn\") + \" \" + className(\"btn-primary\") }>Export As PNG</button>\n              </div>\n              <div className={className(\"form-group\")}>\n                  <label>Embed Code</label>\n                  <div className={className(\"embedcode\")}>\n                    <span>{`\n                    <div id=\"${elementId}\"></div>\n                    <script src=\"${DOMAIN}/embed/embed.js\"></script>\n                    <script>showSpoiltBarChart(\n                        document.getElementById(\"${elementId}\"),\n                        {\n                            stylesheetFor: \"${stylesheetFor}\",\n                            eventDescription: \"${eventDescription}\",\n                            regionType: \"${regionType}\",\n                            provinceName: \"${provinceName}\",\n                            muniName: \"${muniName}\",\n                            muniCode: \"${muniCode}\",\n                            iecId: \"${iecId}\"\n                        });</script>`.replace(/(\\r\\n|\\n|\\r)/gm, \"\")}</span>\n                  </div>\n              </div>\n          </div>\n        )\n    }\n}\nexport default BarChartEmbed;","import React, {Component} from \"react\";\nimport EmbedBase from \"../embedBase\";\nimport bootstrapStyles from \"bootstrap/dist/css/bootstrap.min.css\";\nimport styles from \"./mapEmbed.css\";\nimport config from \"../../config\";\nimport events from \"../../events\";\n\nimport {\n    getElectionEvents,\n    getProvincesData\n} from \"../../api\";\n\nimport {\n    triggerCustomEvent,\n    loadCanvg\n} from \"../../utils\";\n\nvar provincesData = getProvincesData();\nfunction className(originClassName) {\n    return bootstrapStyles[originClassName] || styles[originClassName] || originClassName;\n}\n\nclass MapEmbed extends EmbedBase {\n    \n    constructor(props) {\n        super(props);\n        this.state = {\n            elementId: \"root\",\n            disableNavigation: false, //checkbox\n            eventDescription: \"2014 National Election\",\n            regionType: \"province\",\n            provinceName: \"Western Cape\",\n            muniName: \"\",\n            electionEvents: [],\n            stylesheetFor: \"web\",\n            componentID: 3\n        }\n    }\n\n    componentDidMount() {\n        loadCanvg();        \n        var self = this;\n        getElectionEvents()\n            .then(function(data) {\n                var electionEvents = data[\"data\"][\"allEvents\"]\n                self.setState({electionEvents});\n            }).catch(error => console.error(error));\n    }\n\n    componentDidUpdate() {\n    }\n\n    onEventDescriptionChange(e) {\n        if (e.target.value.toLowerCase().indexOf(\"national\") == -1 &&\n                this.state.regionType == \"national\") {\n            this.setState({eventDescription: e.target.value, regionType: \"province\", provinceName: \"Western Cape\"});\n        } else {\n            this.setState({eventDescription: e.target.value });\n        }\n    }\n\n    onRegionTypeChange(e) {\n        var newState = {regionType: e.target.value};\n        this.setState(newState);\n    }\n\n    onPreview(e) {\n        triggerCustomEvent(events.MAP_PREVIEW, this.state);\n    }\n      \n    onExportAsPNG(e) {\n        triggerCustomEvent(events.EXPORT_PNG, this.state);\n    }\n    \n    render () {\n        var DOMAIN = config.DOMAIN;\n        var {\n            elementId,  \n            stylesheetFor,    \n            eventDescription,      \n            disableNavigation,\n            regionType,\n            provinceName,\n            muniName,\n            electionEvents,\n        } = this.state;\n        var curProvinceData = provincesData.filter(item => item.name == provinceName)[0];\n        return (\n          <div>\n            <h3> Map Embed Script Generation </h3>\n            <div className={className(\"form-group\")}>\n                <label>Element ID </label>\n                <input \n                    type=\"text\" \n                    className={className(\"form-control\")} \n                    placeholder=\"chart-container\"\n                    onChange={e => this.setState({elementId: e.target.value})}\n                    />\n            </div>\n            <div className={className(\"form-group\")}>\n                  <label>Stylesheet</label>\n                  <select className={className(\"form-control\")} \n                     value={stylesheetFor}\n                     onChange={e => this.setState({stylesheetFor: e.target.value})}>\n                        <option value=\"tv\">TV</option>\n                        <option value=\"web\">Web</option>\n                        <option value=\"none\">None</option>\n                  </select>\n            </div>\n            <div className={className(\"form-group\")}>\n                  <label>Event </label>\n                  <select className={className(\"form-control\")} \n                     value={eventDescription}\n                     onChange={this.onEventDescriptionChange.bind(this)}>\n                        {\n                            electionEvents.map(item => {\n                                return (<option key={item.description} value={item.description}>{item.description}</option>)\n                            })\n                        }\n                  </select>\n            </div>\n            <div className={className(\"form-group\")}>\n                  <label>Region Type </label>\n                  <select className={className(\"form-control\")} \n                     value={regionType}\n                     onChange={this.onRegionTypeChange.bind(this)}>\n                        <option value=\"national\">national</option>\n                        <option value=\"province\">province</option>\n                        <option value=\"municipality\">municipality</option>\n                  </select>\n              </div>\n              {\n                  (regionType != \"national\") && \n                    <div className={className(\"form-group\")}>\n                        <label>Province Name</label>\n                        <select className={className(\"form-control\")} \n                            value={provinceName}\n                            onChange={e => this.setState({provinceName: e.target.value})} >\n                            <option value=\"\">Select ...</option>\n                            {\n                                provincesData && provincesData.map(province => {\n                                    return <option key={province.name} value={province.name}>{province.name}</option>\n                                })\n                            }\n                        </select>\n                    </div>\n              }\n              {\n                  (regionType == \"municipality\") &&\n                    <div className={className(\"form-group\")}>\n                        <label>Municipality Name</label>\n                        <select className={className(\"form-control\")} \n                            value={muniName}\n                            onChange={e => this.setState({muniName: e.target.value})} >\n                            <option value=\"\">Select ...</option>\n                            {\n                                curProvinceData && curProvinceData.munis.map(muni => {\n                                    return <option key={muni.muniName} value={muni.muniName}>{muni.muniName}</option>\n                                })\n                            }\n                        </select>\n                    </div>\n              }\n\n              <div className={className(\"form-check\")}>\n                \n                <label className={className(\"form-check-label\")}>\n                    <input \n                        type=\"checkbox\" \n                        className={className(\"form-check-input\")} \n                        value={disableNavigation}\n                        onChange={e => this.setState({disableNavigation: e.target.checked})} \n                        />\n                    &nbsp;&nbsp;Disable Navigation\n                </label>\n              </div>\n              <div className={className(\"form-group\")}>\n                <button type=\"button\" onClick={this.onPreview.bind(this)} className={className(\"btn\") + \" \" + className(\"btn-primary\") }>Preview</button>\n              </div>\n              <div className={className(\"form-group\")}>\n                <button type=\"button\" \n                    onClick={this.onExportAsPNG.bind(this)} \n                    className={className(\"btn\") + \" \" + className(\"btn-primary\") }>Export As PNG</button>\n              </div>\n            <div className={className(\"form-group\")}>\n                <label>Embed Code</label>\n                <div className={className(\"embedcode\")}>\n                    <span>{`\n                    <div id=\"${elementId}\"></div>\n                    <script src=\"${DOMAIN}/embed/embed.js\"></script>\n                    <script>\n                        showMap(document.getElementById(\"${elementId}\"),{\n                            stylesheetFor: \"${stylesheetFor}\",\n                            disableNavigation: ${disableNavigation},\n                            regionType: \"${regionType}\",\n                            provinceName: \"${provinceName}\",\n                            muniName: \"${muniName}\",\n                        });</script>`.replace(/(\\r\\n|\\n|\\r)/gm, \"\")}\n                    </span>\n                </div>\n            </div>\n          </div>\n        )\n    }\n}\nexport default MapEmbed;\n\n\n","import React, {Component} from \"react\";\nimport EmbedBase from \"../embedBase\";\nimport bootstrapStyles from \"bootstrap/dist/css/bootstrap.min.css\";\nimport styles from \"./mapEmbed.css\";\nimport config from \"../../config\";\nimport events from \"../../events\";\n\nimport {\n    getElectionEvents,\n    getProvincesData\n} from \"../../api\";\n\nimport {\n    loadCanvg,\n    triggerCustomEvent,\n    nationalEventSelected\n} from \"../../utils\";\n\nvar provincesData = getProvincesData();\nfunction className(originClassName) {\n    return bootstrapStyles[originClassName] || styles[originClassName] || originClassName;\n}\n\nclass MapEmbed extends EmbedBase {\n    \n    constructor(props) {\n        super(props);\n        this.state = {\n            elementId: \"root\",\n            disableNavigation: false, //checkbox\n            eventDescription: \"2014 National Election\",\n            regionType: \"province\",\n            provinceName: \"Western Cape\",\n            muniName: \"\",\n            electionEvents: [],\n            stylesheetFor: \"web\",\n            componentID: 11\n        }\n    }\n\n    componentDidMount() {\n        loadCanvg();\n        var self = this;\n        getElectionEvents()\n            .then(function(data) {\n                var electionEvents = data[\"data\"][\"allEvents\"]\n                self.setState({electionEvents});\n            }).catch(error => console.error(error));\n    }\n\n    componentDidUpdate() {\n    }\n\n    onEventDescriptionChange(e) {\n        if (e.target.value.toLowerCase().indexOf(\"national\") == -1 &&\n                this.state.regionType == \"national\") {\n            this.setState({eventDescription: e.target.value, regionType: \"province\", provinceName: \"Western Cape\"});\n        } else {\n            this.setState({eventDescription: e.target.value });\n        }\n    }\n\n    onRegionTypeChange(e) {\n        var newState = {regionType: e.target.value};\n        this.setState(newState);\n    }\n\n    onPreview(e) {\n        triggerCustomEvent(events.MAP_PREVIEW, this.state);\n    }\n\n    onExportAsPNG(e) {\n        triggerCustomEvent(events.EXPORT_PNG, this.state);\n    }\n      \n    render () {\n        var DOMAIN = config.DOMAIN;\n        var {\n            elementId,       \n            stylesheetFor,     \n            disableNavigation,\n            eventDescription,\n            regionType,\n            provinceName,\n            muniName,\n            electionEvents\n        } = this.state;\n        var curProvinceData = provincesData.filter(item => item.name == provinceName)[0];\n        return (\n          <div>\n            <h3> Map Embed Script Generation </h3>\n            <div className={className(\"form-group\")}>\n                <label>Element ID </label>\n                <input \n                    type=\"text\" \n                    className={className(\"form-control\")} \n                    placeholder=\"chart-container\"\n                    onChange={e => this.setState({elementId: e.target.value})}\n                    />\n            </div>\n            <div className={className(\"form-group\")}>\n                  <label>Stylesheet</label>\n                  <select className={className(\"form-control\")} \n                     value={stylesheetFor}\n                     onChange={e => this.setState({stylesheetFor: e.target.value})}>\n                        <option value=\"tv\">TV</option>\n                        <option value=\"web\">Web</option>\n                        <option value=\"none\">None</option>\n                  </select>\n            </div>\n              <div className={className(\"form-group\")}>\n                  <label>Event </label>\n                  <select className={className(\"form-control\")} \n                     value={eventDescription}\n                     onChange={this.onEventDescriptionChange.bind(this)}>\n                        {\n                            electionEvents.map(item => {\n                                return (<option key={item.description} value={item.description}>{item.description}</option>)\n                            })\n                        }\n                  </select>\n              </div>\n            <div className={className(\"form-group\")}>\n                  <label>Region Type </label>\n                  <select className={className(\"form-control\")} \n                     value={regionType}\n                     onChange={this.onRegionTypeChange.bind(this)}>\n                        { \n                            nationalEventSelected(this.state) && \n                            <option value=\"national\">national</option>\n                        }\n                        <option value=\"province\">province</option>\n                        <option value=\"municipality\">municipality</option>\n                  </select>\n              </div>\n              {\n                  (regionType != \"national\") && \n                    <div className={className(\"form-group\")}>\n                        <label>Province Name</label>\n                        <select className={className(\"form-control\")} \n                            value={provinceName}\n                            onChange={e => this.setState({provinceName: e.target.value})} >\n                            <option value=\"\">Select ...</option>\n                            {\n                                provincesData && provincesData.map(province => {\n                                    return <option key={province.name} value={province.name}>{province.name}</option>\n                                })\n                            }\n                        </select>\n                    </div>\n              }\n              {\n                  (regionType == \"municipality\") &&\n                    <div className={className(\"form-group\")}>\n                        <label>Municipality Name</label>\n                        <select className={className(\"form-control\")} \n                            value={muniName}\n                            onChange={e => this.setState({muniName: e.target.value})} >\n                            <option value=\"\">Select ...</option>\n                            {\n                                curProvinceData && curProvinceData.munis.map(muni => {\n                                    return <option key={muni.muniName} value={muni.muniName}>{muni.muniName}</option>\n                                })\n                            }\n                        </select>\n                    </div>\n              }\n\n              <div className={className(\"form-check\")}>\n                \n                <label className={className(\"form-check-label\")}>\n                    <input \n                        type=\"checkbox\" \n                        className={className(\"form-check-input\")} \n                        value={disableNavigation}\n                        onChange={e => this.setState({disableNavigation: e.target.checked})} \n                        />\n                    &nbsp;&nbsp;Disable Navigation\n                </label>\n              </div>\n              <div className={className(\"form-group\")}>\n                <button type=\"button\" onClick={this.onPreview.bind(this)} className={className(\"btn\") + \" \" + className(\"btn-primary\") }>Preview</button>\n              </div>\n              <div className={className(\"form-group\")}>\n                <button type=\"button\" \n                    onClick={this.onExportAsPNG.bind(this)} \n                    className={className(\"btn\") + \" \" + className(\"btn-primary\") }>Export As PNG</button>\n              </div>\n            <div className={className(\"form-group\")}>\n                <label>Embed Code</label>\n                <div className={className(\"embedcode\")}>\n                    <span>{`\n                    <div id=\"${elementId}\"></div>\n                    <script src=\"${DOMAIN}/embed/embed.js\"></script>\n                    <script>\n                        showTurnoutMap(document.getElementById(\"${elementId}\"),{\n                            stylesheetFor: \"${stylesheetFor}\",\n                            disableNavigation: ${disableNavigation},\n                            regionType: \"${regionType}\",\n                            provinceName: \"${provinceName}\",\n                            muniName: \"${muniName}\",\n                        });</script>`.replace(/(\\r\\n|\\n|\\r)/gm, \"\")}\n                    </span>\n                </div>\n            </div>\n          </div>\n        )\n    }\n}\nexport default MapEmbed;\n\n\n","import React, {Component} from \"react\";\nimport EmbedBase from \"../embedBase\";\nimport config from \"../../config\";\nimport bootstrapStyles from \"bootstrap/dist/css/bootstrap.min.css\";\nimport styles from \"./barchartEmbed.css\";\nimport events from \"../../events\";\nimport {\n    getElectionEvents,\n    getProvincesData\n} from \"../../api\";\n\nimport {\n    triggerCustomEvent\n} from \"../../utils\";\n\nvar provincesData = getProvincesData();\n\nfunction className(originClassName) {\n    return bootstrapStyles[originClassName] || styles[originClassName] || originClassName;\n}\n\nclass BarChartEmbed extends EmbedBase {\n    \n    constructor(props) {\n        super(props);\n        this.state = {\n            elementId: \"root\",\n            eventType: \"national\",\n            regionType: \"national\",\n            provinceName: \"\",\n            muniName: \"\",\n            muniCode: \"\",\n            iecId: \"\",\n\n            electionEvents: [],\n            stylesheetFor: \"web\",\n            componentID: 10\n        }\n    }\n\n    componentDidMount() {\n        var self = this;\n        getElectionEvents()\n            .then(function(data) {\n                var electionEvents = data[\"data\"][\"allEvents\"]\n                self.setState({electionEvents});\n            }).catch(error => console.error(error));\n    }\n\n    componentDidUpdate() {\n    }\n\n    onRegionTypeChange(e) {\n        var newState = {regionType: e.target.value};\n        this.setState(newState);\n    }\n\n    onPreview(e) {\n        triggerCustomEvent(events.CHART_PREVIEW, this.state);\n    }\n\n    onExportAsPNG(e) {\n        triggerCustomEvent(events.EXPORT_PNG, this.state);\n    }\n      \n    render () {\n        var DOMAIN = config.DOMAIN;\n        var {\n            elementId,\n            stylesheetFor,\n            eventType,\n            regionType,            \n            provinceName,\n            muniName,\n            muniCode,\n            iecId,\n            electionEvents\n        } = this.state;\n\n        var curProvinceData = provincesData.filter(item => item.name == provinceName)[0];\n        return (\n          <div>\n            <h3> Race For Seat Bar Chart Embed Script Generation </h3>\n            <div className={className(\"form-group\")}>\n                <label>Element ID </label>\n                <input \n                    type=\"text\" \n                    className={className(\"form-control\")} \n                    placeholder=\"chart-container\"\n                    onChange={e => this.setState({elementId: e.target.value})}\n                    />\n            </div>\n            <div className={className(\"form-group\")}>\n                  <label>Stylesheet</label>\n                  <select className={className(\"form-control\")} \n                     value={stylesheetFor}\n                     onChange={e => this.setState({stylesheetFor: e.target.value})}>\n                        <option value=\"tv\">TV</option>\n                        <option value=\"web\">Web</option>\n                        <option value=\"none\">None</option>\n                  </select>\n            </div>\n              <div className={className(\"form-group\")}>\n                  <label>Event Type</label>\n                  <select className={className(\"form-control\")} \n                     value={eventType}\n                     onChange={(e) => this.setState({eventType: e.target.value})}>\n                        <option value=\"national\">National</option>\n                        <option value=\"provincial\">Provincial</option>\n                  </select>\n              </div>\n              <div className={className(\"form-group\")}>\n                  <label>Region Type </label>\n                  <select className={className(\"form-control\")} \n                     value={regionType}\n                     onChange={this.onRegionTypeChange.bind(this)}>\n                        <option value=\"\">Select ...</option>\n                        { \n                            eventType == \"national\" && \n                            <option value=\"national\">national</option>\n                        }\n                        <option value=\"province\">province</option>\n                        <option value=\"municipality\">municipality</option>\n                        <option value=\"municipality-vd\">voting district</option>\n                  </select>\n              </div>\n              {\n                  (regionType != \"national\") && \n                    <div className={className(\"form-group\")}>\n                        <label>Province Name</label>\n                        <select className={className(\"form-control\")} \n                            value={provinceName}\n                            onChange={e => this.setState({provinceName: e.target.value})} >\n                            <option value=\"\">Select ...</option>\n                            {\n                                provincesData && provincesData.map(province => {\n                                    return <option key={province.name} value={province.name}>{province.name}</option>\n                                })\n                            }\n                        </select>\n                    </div>\n              }\n              {\n                  (regionType == \"municipality\") &&\n                    <div className={className(\"form-group\")}>\n                        <label>Municipality Name</label>\n                        <select className={className(\"form-control\")} \n                            value={muniName}\n                            onChange={e => this.setState({muniName: e.target.value})} >\n                            <option value=\"\">Select ...</option>\n                            {\n                                curProvinceData && curProvinceData.munis.map(muni => {\n                                    return <option key={muni.muniName} value={muni.muniName}>{muni.muniName}</option>\n                                })\n                            }\n                        </select>\n                    </div>\n              }\n              {\n                  (regionType == \"municipality-vd\") &&\n                    <div className={className(\"form-group\")}>\n                        <label>Municipality Code</label>\n                        <input \n                            type=\"text\" \n                            className={className(\"form-control\")} \n                            placeholder=\"CPT\"\n                            value={muniCode}\n                            onChange={e => this.setState({muniCode: e.target.value})} \n                            disabled={(regionType==\"national\")}/>\n                    </div>\n              }\n              {\n                  (regionType == \"municipality-vd\") &&\n                    <div className={className(\"form-group\")}>\n                        <label>Voting District Number</label>\n                        <input \n                            type=\"text\" \n                            className={className(\"form-control\")} \n                            placeholder=\"97860055\"\n                            value={iecId}\n                            onChange={e => this.setState({iecId: e.target.value})} \n                            disabled={(regionType==\"national\")}/>\n                    </div>\n              }\n              <div className={className(\"form-group\")}>\n                <button type=\"button\" onClick={this.onPreview.bind(this)} className={className(\"btn\") + \" \" + className(\"btn-primary\") }>Preview</button>\n              </div>\n              <div className={className(\"form-group\")}>\n                <button type=\"button\" \n                    onClick={this.onExportAsPNG.bind(this)} \n                    className={className(\"btn\") + \" \" + className(\"btn-primary\") }>Export As PNG</button>\n              </div>\n              <div className={className(\"form-group\")}>\n                  <label>Embed Code</label>\n                  <div className={className(\"embedcode\")}>\n                    <span>{`\n                    <div id=\"${elementId}\"></div>\n                    <script src=\"${DOMAIN}/embed/embed.js\"></script>\n                    <script>showTurnoutBarChart(\n                        document.getElementById(\"${elementId}\"),\n                        {\n                            stylesheetFor: \"${stylesheetFor}\",\n                            eventType: \"${eventType}\",\n                            regionType: \"${regionType}\",\n                            provinceName: \"${provinceName}\",\n                            muniName: \"${muniName}\",\n                            muniCode: \"${muniCode}\",\n                            iecId: \"${iecId}\"\n                        });</script>`.replace(/(\\r\\n|\\n|\\r)/gm, \"\")}</span>\n                  </div>\n              </div>\n          </div>\n        )\n    }\n}\nexport default BarChartEmbed;","import React, {Component} from \"react\";\nimport EmbedBase from \"../embedBase\";\nimport config from \"../../config\";\nimport bootstrapStyles from \"bootstrap/dist/css/bootstrap.min.css\";\nimport styles from \"./barchartMapEmbed.css\";\nimport events from \"../../events\";\nimport {\n    getElectionEvents,\n    getProvincesData\n} from \"../../api\";\n\nimport {\n    triggerCustomEvent,\n    nationalEventSelected\n} from \"../../utils\";\n\nvar provincesData = getProvincesData();\n\nfunction className(originClassName) {\n    return bootstrapStyles[originClassName] || styles[originClassName] || originClassName;\n}\n\nclass BarChartWithNavMapEmbed extends EmbedBase {\n    \n    constructor(props) {\n        super(props);\n        var self = this;\n        this.state = {\n            elementId: \"root\",\n            eventDescription: \"2014 National Election\",\n            regionType: \"national\",\n            provinceName: \"\",\n            muniName: \"\",\n            muniCode: \"\",\n            iecId: \"\",\n            numParties: 5,\n\n            electionEvents: [],\n            stylesheetFor: \"web\",\n            componentID: 2\n        }\n        getElectionEvents()\n            .then(function(data) {\n                var electionEvents = data[\"data\"][\"allEvents\"]\n                self.setState({electionEvents});\n            }).catch(error => console.error(error));\n    }\n\n    componentDidMount() {\n    }\n\n    componentDidUpdate() {\n    }\n\n    onEventDescriptionChange(e) {\n        if (e.target.value.toLowerCase().indexOf(\"national\") == -1 &&\n                this.state.regionType == \"national\") {\n            this.setState({eventDescription: e.target.value, regionType: \"province\", provinceName: \"Western Cape\"});\n        } else {\n            this.setState({eventDescription: e.target.value });\n        }\n    }\n\n    onRegionTypeChange(e) {\n        var newState = {regionType: e.target.value};\n        this.setState(newState);\n    }\n\n    onPreview(e) {\n        var newState = JSON.parse(JSON.stringify(this.state));\n        newState.componentID = -1000;\n        triggerCustomEvent(events.CHART_PREVIEW, newState);\n        triggerCustomEvent(events.MAP_PREVIEW, newState);\n    }\n\n    onExportAsPNG(e) {\n        triggerCustomEvent(events.EXPORT_SUPERWIDGET_PNG, this.state);\n    }\n      \n    render () {\n        var DOMAIN = config.DOMAIN;\n        var {\n            elementId,\n            stylesheetFor,\n            eventDescription,\n            regionType,            \n            provinceName,\n            muniName,\n            muniCode,\n            iecId,\n            numParties,\n            electionEvents\n        } = this.state;\n        var curProvinceData = provincesData.filter(item => item.name == provinceName)[0];\n        return (\n          <div>\n            <h3> Map + Barchart Embed Script Generation </h3>\n            <div className={className(\"form-group\")}>\n                <label>Element ID </label>\n                <input \n                    type=\"text\" \n                    className={className(\"form-control\")} \n                    placeholder=\"chart-container\"\n                    onChange={e => this.setState({elementId: e.target.value})}\n                    />\n            </div>\n            <div className={className(\"form-group\")}>\n                  <label>Stylesheet</label>\n                  <select className={className(\"form-control\")} \n                     value={stylesheetFor}\n                     onChange={e => this.setState({stylesheetFor: e.target.value})}>\n                        <option value=\"tv\">TV</option>\n                        <option value=\"web\">Web</option>\n                        <option value=\"none\">None</option>\n                  </select>\n            </div>\n            <div>\n                Way to customize size and position of Bar Chart and Map.<br/>\n                For bar chart, you can use .barchart-container\n                <div className={className(\"embedcode\")}>\n                    {`.barchart-container {\n                        width: 1000px;\n                        height: 300px;\n                        margin-left: 100px;\n                    }`}\n                </div>\n                For Map, you can use .map-container\n                <div className={className(\"embedcode\")}>\n                    {`.map-container {\n                        width: 1000px;\n                        height: 300px;\n                        margin-left: 100px;\n                    }`}\n                </div>\n            </div>\n              <div className={className(\"form-group\")}>\n                  <label>Event </label>\n                  <select className={className(\"form-control\")} \n                     value={eventDescription}\n                     onChange={this.onEventDescriptionChange.bind(this)}>\n                        {\n                            electionEvents.map(item => {\n                                return (<option key={item.description} value={item.description}>{item.description}</option>)\n                            })\n                        }\n                  </select>\n              </div>\n              <div className={className(\"form-group\")}>\n                  <label>Region Type </label>\n                  <select className={className(\"form-control\")} \n                     value={regionType}\n                     onChange={this.onRegionTypeChange.bind(this)}>\n                        { \n                            nationalEventSelected(this.state) && \n                            <option value=\"national\">national</option>\n                        }\n                        <option value=\"province\">province</option>\n                        <option value=\"municipality\">municipality</option>\n                  </select>\n              </div>\n              {\n                  (regionType != \"national\") && \n                    <div className={className(\"form-group\")}>\n                        <label>Province Name</label>\n                        <select className={className(\"form-control\")} \n                            value={provinceName}\n                            onChange={e => this.setState({provinceName: e.target.value})} >\n                            <option value=\"\">Select ...</option>\n                            {\n                                provincesData && provincesData.map(province => {\n                                    return <option key={province.name} value={province.name}>{province.name}</option>\n                                })\n                            }\n                        </select>\n                    </div>\n              }\n              {\n                  (regionType == \"municipality\") &&\n                    <div className={className(\"form-group\")}>\n                        <label>Municipality Name</label>\n                        <select className={className(\"form-control\")} \n                            value={muniName}\n                            onChange={e => this.setState({muniName: e.target.value})} >\n                            <option value=\"\">Select ...</option>\n                            {\n                                curProvinceData && curProvinceData.munis.map(muni => {\n                                    return <option key={muni.muniName} value={muni.muniName}>{muni.muniName}</option>\n                                })\n                            }\n                        </select>\n                    </div>\n              }\n              <div className={className(\"form-group\")}>\n                  <label>Number Of Parties</label>\n                  <input \n                    type=\"number\" \n                    className={className(\"form-control\")} \n                    placeholder=\"5\"\n                    value={numParties}\n                    onChange={e => this.setState({numParties: e.target.value})} />\n              </div>\n              <div className={className(\"form-group\")}>\n                <button type=\"button\" onClick={this.onPreview.bind(this)} className={className(\"btn\") + \" \" + className(\"btn-primary\") }>Preview</button>\n              </div>\n              <div className={className(\"form-group\")}>\n                <button type=\"button\" \n                    onClick={this.onExportAsPNG.bind(this)} \n                    className={className(\"btn\") + \" \" + className(\"btn-primary\") }>Export As PNG</button>\n              </div>\n              <div className={className(\"form-group\")}>\n                  <label>Embed Code</label>\n                  <div className={className(\"embedcode\")}>\n                    <span>{`\n                    <div id=\"${elementId}\"></div>\n                    <script src=\"${DOMAIN}/embed/embed.js\"></script>\n                    <script>showBarchartWithNavMap(\n                        document.getElementById(\"${elementId}\"),\n                        {\n                            stylesheetFor: \"${stylesheetFor}\",\n                            eventDescription: \"${eventDescription}\",\n                            regionType: \"${regionType}\",\n                            provinceName: \"${provinceName}\",\n                            muniName: \"${muniName}\",\n                            muniCode: \"${muniCode}\",\n                            iecId: \"${iecId}\",\n                            numParties: \"${numParties}\"\n                        });</script>`.replace(/(\\r\\n|\\n|\\r)/gm, \"\")}</span>\n                  </div>\n              </div>\n          </div>\n        )\n    }\n}\nexport default BarChartWithNavMapEmbed;","import React, {Component} from \"react\";\nimport EmbedBase from \"../embedBase\";\nimport config from \"../../config\";\nimport bootstrapStyles from \"bootstrap/dist/css/bootstrap.min.css\";\nimport styles from \"./quickResultsWidgetEmbed.css\";\nimport events from \"../../events\";\nimport {\n    getElectionEvents,\n    getProvincesData\n} from \"../../api\";\n\nimport {\n    triggerCustomEvent,\n    nationalEventSelected\n} from \"../../utils\";\n\nvar provincesData = getProvincesData();\n\nfunction className(originClassName) {\n    return bootstrapStyles[originClassName] || styles[originClassName] || originClassName;\n}\n\nclass QuickResultsWidgetEmbed extends EmbedBase {\n    \n    constructor(props) {\n        super(props);\n        this.state = {\n            elementId: \"root\",\n            eventDescription: \"2014 National Election\",\n            regionType: \"national\",\n            provinceName: \"\",\n            muniName: \"\",\n            muniCode: \"\",\n            iecId: \"\",\n            stylesheetFor: \"none\",\n            numParties: 5,\n\n            electionYear: 2014,\n\n            nationalEventDescription: \"2014 National Election\",\n            provincialEventDescription: \"2014 Provincial Election\",\n            eventDescriptionsSplitNatProv: [\n                // \"National Elections 1999\",\n                // \"Provincial Elections 1999\",\n                // \"14 Apr 2004 National Election\",\n                // \"14 Apr 2004 Provincial Election\",\n                \"22 Apr 2009 National Election\",\n                \"22 Apr 2009 Provincial Election\",\n                \"2014 National Election\",\n                \"2014 Provincial Election\",\n                // \"2019 NATIONAL ELECTION\",\n                // \"2019 PROVINCIAL ELECTION\",\n            ],\n            electionYearsSplitNatProv: [2009, 2014],\n\n            electionEvents: [],\n            electionYears: [],\n            componentID: 5\n        }\n    }\n\n    componentDidMount() {\n        var self = this;\n        getElectionEvents()\n            .then(function(data) {\n                var electionEvents = data[\"data\"][\"allEvents\"];\n                var electionYears = [];\n                electionEvents.forEach((item) => {\n                    var eventDescription = item.description;\n                    var year = /(19|20)\\d{2}/g.exec(eventDescription)[0];\n                    item.year = year;\n                    if (electionYears.indexOf(year) == -1) {\n                        electionYears.push(year);\n                    }\n                })\n                self.setState({electionEvents, electionYears});\n            }).catch(error => console.error(error));\n    }\n\n    componentDidUpdate() {\n    }\n\n    onNatEventDescriptionChange(e) {\n        this.setState({nationalEventDescription: e.target.value, eventDescription: e.target.value });\n    }\n\n    onProvEventDescriptionChange(e) {\n        this.setState({provincialEventDescription: e.target.value });\n    }\n\n    onEventYearSplitNatProvChange(e) {\n        var {electionEvents} = this.state;\n        var options = e.target.options;\n        var values = [];\n        for (var i = 0, l = options.length; i < l; i++) {\n          if (options[i].selected) {\n            values.push(options[i].value);\n          }\n        }\n        var yearFilter = electionEvents.filter(item => values.indexOf(item.year) != -1);\n        this.setState({\n            electionYearsSplitNatProv: values,\n            eventDescriptionsSplitNatProv: yearFilter.map(item => item.description)\n        });\n        // console.log(\"yearFilter.map(item => item.description)\", yearFilter.map(item => item.description));\n    }\n\n    onEventYearChange(e) {\n        var electionYear = e.target.value;\n        var nationalEventDescription, provincialEventDescription;\n        var {\n            electionEvents\n        } = this.state;\n\n        var yearFilter = electionEvents.filter(item => item.year == electionYear);\n        var nationalFilter = yearFilter.filter(item => item.eventType.description == \"National Election\");\n        var provincialFilter = yearFilter.filter(item => item.eventType.description != \"National Election\");\n\n\n        if (nationalFilter.length) {\n            nationalEventDescription = nationalFilter[0].description;\n        } else {\n            nationalEventDescription = yearFilter[0].description;\n        }\n        if (provincialFilter.length) {\n            provincialEventDescription = provincialFilter[0].description;\n        } else {\n            provincialEventDescription = yearFilter[0].description;\n        }\n\n        this.setState({\n            electionYear, \n            nationalEventDescription, \n            provincialEventDescription,\n            eventDescription: nationalEventDescription\n         });\n    }\n\n    onRegionTypeChange(e) {\n        var newState = {regionType: e.target.value};\n        this.setState(newState);\n    }\n\n    onPreview(e) {\n        triggerCustomEvent(events.QUICK_RESULTS_PREVIEW, this.state);\n    }    \n    \n    onExportAsPNG(e) {\n        triggerCustomEvent(events.EXPORT_SUPERWIDGET_PNG, this.state);\n    }\n      \n    render () {\n        var DOMAIN = config.DOMAIN;\n        var {\n            elementId,\n            stylesheetFor,\n            eventDescription,\n            nationalEventDescription,\n            provincialEventDescription,\n            regionType,            \n            provinceName,\n            muniName,\n            muniCode,\n            iecId,\n            numParties,\n            electionEvents,\n            electionYears,\n            electionYear,\n            electionYearsSplitNatProv\n        } = this.state;\n        var curProvinceData = provincesData.filter(item => item.name == provinceName)[0];\n        return (\n          <div>\n            <h3> Quick Results Embed Script Generation </h3>\n            <div className={className(\"form-group\")}>\n                <label>Element ID </label>\n                <input \n                    type=\"text\" \n                    className={className(\"form-control\")} \n                    placeholder=\"chart-container\"\n                    onChange={e => this.setState({elementId: e.target.value})}\n                    />\n            </div>\n            <div className={className(\"form-group\")}>\n                  <label>Stylesheet</label>\n                  <select className={className(\"form-control\")} \n                     value={stylesheetFor}\n                     onChange={e => this.setState({stylesheetFor: e.target.value})}>\n                        <option value=\"tv\">TV</option>\n                        <option value=\"web\">Web</option>\n                        <option value=\"none\">None</option>\n                  </select>\n            </div>\n              <div className={className(\"form-group\")}>\n                  <label>Election Year </label>\n                  <select className={className(\"form-control\")} \n                     value={electionYear}\n                     onChange={this.onEventYearChange.bind(this)}>\n                        {\n                            electionYears.map(item => {\n                                return (<option key={item} value={item}>{item}</option>)\n                            })\n                        }\n                  </select>\n              </div>\n              <div className={className(\"form-group\")}>\n                  <label>National Event </label>\n                  <select className={className(\"form-control\")} \n                     value={nationalEventDescription}\n                     onChange={this.onNatEventDescriptionChange.bind(this)}>\n                        {\n                            electionEvents\n                            .filter(item => item.year == electionYear)\n                            .map(item => {\n                                return (<option key={item.description} value={item.description}>{item.description}</option>)\n                            })\n                        }\n                  </select>\n              </div>\n              <div className={className(\"form-group\")}>\n                  <label>Provincial Event </label>\n                  <select className={className(\"form-control\")} \n                     value={provincialEventDescription}\n                     onChange={this.onProvEventDescriptionChange.bind(this)}>\n                        {\n                            electionEvents\n                            .filter(item => item.year == electionYear)\n                            .map(item => {\n                                return (<option key={item.description} value={item.description}>{item.description}</option>)\n                            })\n                        }\n                  </select>\n              </div>\n              <div className={className(\"form-group\")}>\n                  <label>Region Type </label>\n                  <select className={className(\"form-control\")} \n                     value={regionType}\n                     onChange={this.onRegionTypeChange.bind(this)}>\n                        { \n                            nationalEventSelected(this.state) && \n                            <option value=\"national\">national</option>\n                        }\n                        <option value=\"province\">province</option>\n                        <option value=\"municipality\">municipality</option>\n                  </select>\n              </div>\n              {\n                  (regionType != \"national\") && \n                    <div className={className(\"form-group\")}>\n                        <label>Province Name</label>\n                        <select className={className(\"form-control\")} \n                            value={provinceName}\n                            onChange={e => this.setState({provinceName: e.target.value})} >\n                            <option value=\"\">Select ...</option>\n                            {\n                                provincesData && provincesData.map(province => {\n                                    return <option key={province.name} value={province.name}>{province.name}</option>\n                                })\n                            }\n                        </select>\n                    </div>\n              }\n              {\n                  (regionType == \"municipality\") &&\n                    <div className={className(\"form-group\")}>\n                        <label>Municipality Name</label>\n                        <select className={className(\"form-control\")} \n                            value={muniName}\n                            onChange={e => this.setState({muniName: e.target.value})} >\n                            <option value=\"\">Select ...</option>\n                            {\n                                curProvinceData && curProvinceData.munis.map(muni => {\n                                    return <option key={muni.muniName} value={muni.muniName}>{muni.muniName}</option>\n                                })\n                            }\n                        </select>\n                    </div>\n              }\n              <div className={className(\"form-group\")}>\n                  <label>Number Of Parties for Bar Chart</label>\n                  <input \n                    type=\"number\" \n                    className={className(\"form-control\")} \n                    placeholder=\"5\"\n                    value={numParties}\n                    onChange={e => this.setState({numParties: e.target.value})} />\n              </div>\n              <div className={className(\"form-group\")}>\n                  <label>Election Year For Split (Nat/Prov)</label>\n                  <select multiple className={className(\"form-control\")} \n                     value={electionYearsSplitNatProv}\n                     onChange={this.onEventYearSplitNatProvChange.bind(this)}>\n                        {\n                            electionYears.map(item => {\n                                return (<option key={item} value={item}>{item}</option>)\n                            })\n                        }\n                  </select>\n              </div>\n              <div className={className(\"form-group\")}>\n                <button type=\"button\" onClick={this.onPreview.bind(this)} className={className(\"btn\") + \" \" + className(\"btn-primary\") }>Preview</button>\n              </div>              \n              <div className={className(\"form-group\")}>\n                <button type=\"button\" \n                    onClick={this.onExportAsPNG.bind(this)} \n                    className={className(\"btn\") + \" \" + className(\"btn-primary\") }>Export As PNG</button>\n              </div>\n              <div className={className(\"form-group\")}>\n                  <label>Embed Code</label>\n                  <div className={className(\"embedcode\")}>\n                    <span>{`\n                    <div id=\"${elementId}\"></div>\n                    <script src=\"${DOMAIN}/embed/embed.js\"></script>\n                    <script>showQuickResultsWidget(\n                        document.getElementById(\"${elementId}\"),\n                        {\n                            stylesheetFor: \"${stylesheetFor}\",\n                            eventDescription: \"${eventDescription}\",\n                            regionType: \"${regionType}\",\n                            provinceName: \"${provinceName}\",\n                            muniName: \"${muniName}\",\n                            muniCode: \"${muniCode}\",\n                            iecId: \"${iecId}\",\n                            numParties: \"${numParties}\"\n                        });</script>`.replace(/(\\r\\n|\\n|\\r)/gm, \"\")}</span>\n                  </div>\n              </div>\n          </div>\n        )\n    }\n}\nexport default QuickResultsWidgetEmbed;\n","import React, {Component} from \"react\";\nimport EmbedBase from \"../embedBase\";\nimport config from \"../../config\";\nimport bootstrapStyles from \"bootstrap/dist/css/bootstrap.min.css\";\nimport styles from \"./piechartEmbed.css\";\nimport events from \"../../events\";\nimport {\n    getElectionEvents,\n    getProvincesData\n} from \"../../api\";\n\nimport {\n    triggerCustomEvent,\n    nationalEventSelected\n} from \"../../utils\";\n\nvar provincesData = getProvincesData();\n\nfunction className(originClassName) {\n    return bootstrapStyles[originClassName] || styles[originClassName] || originClassName;\n}\n\nclass PieChartEmbed extends EmbedBase {\n    \n    constructor(props) {\n        super(props);\n        this.state = {\n            elementId: \"root\",\n            eventDescription: \"2014 National Election\",\n            regionType: \"national\",\n            provinceName: \"\",\n            muniName: \"\",\n            muniCode: \"\",\n            iecId: \"\",\n\n            electionEvents: [],\n            stylesheetFor: \"web\",\n            componentID: 4\n        }\n    }\n\n    componentDidMount() {\n        var self = this;\n        getElectionEvents()\n            .then(function(data) {\n                var electionEvents = data[\"data\"][\"allEvents\"]\n                self.setState({electionEvents});\n            }).catch(error => console.error(error));\n    }\n\n    componentDidUpdate() {\n    }\n\n    onEventDescriptionChange(e) {\n        if (e.target.value.toLowerCase().indexOf(\"national\") == -1 &&\n                this.state.regionType == \"national\") {\n            this.setState({eventDescription: e.target.value, regionType: \"province\", provinceName: \"Western Cape\"});\n        } else {\n            this.setState({eventDescription: e.target.value });\n        }\n    }\n\n    onRegionTypeChange(e) {\n        var newState = {regionType: e.target.value};\n        this.setState(newState);\n    }\n\n    onPreview(e) {\n        triggerCustomEvent(events.CHART_PREVIEW, this.state);\n    }\n\n    onExportAsPNG(e) {\n        triggerCustomEvent(events.EXPORT_PNG, this.state);\n    }\n      \n    render () {\n        var DOMAIN = config.DOMAIN;\n        var {\n            elementId,\n            stylesheetFor,\n            eventDescription,\n            regionType,            \n            provinceName,\n            muniName,\n            muniCode,\n            iecId,\n            electionEvents\n        } = this.state;\n\n        var curProvinceData = provincesData.filter(item => item.name == provinceName)[0];\n        return (\n          <div>\n            <h3> Progress on Votes Count Embed Script Generation </h3>\n            <div className={className(\"form-group\")}>\n                <label>Element ID </label>\n                <input \n                    type=\"text\" \n                    className={className(\"form-control\")} \n                    placeholder=\"chart-container\"\n                    onChange={e => this.setState({elementId: e.target.value})}\n                    />\n            </div>\n            <div className={className(\"form-group\")}>\n                  <label>Stylesheet</label>\n                  <select className={className(\"form-control\")} \n                     value={stylesheetFor}\n                     onChange={e => this.setState({stylesheetFor: e.target.value})}>\n                        <option value=\"tv\">TV</option>\n                        <option value=\"web\">Web</option>\n                        <option value=\"none\">None</option>\n                  </select>\n            </div>\n              <div className={className(\"form-group\")}>\n                  <label>Event </label>\n                  <select className={className(\"form-control\")} \n                     value={eventDescription}\n                     onChange={this.onEventDescriptionChange.bind(this)}>\n                        {\n                            electionEvents.map(item => {\n                                return (<option key={item.description} value={item.description}>{item.description}</option>)\n                            })\n                        }\n                  </select>\n              </div>\n              <div className={className(\"form-group\")}>\n                  <label>Region Type </label>\n                  <select className={className(\"form-control\")} \n                     value={regionType}\n                     onChange={this.onRegionTypeChange.bind(this)}>\n                        { \n                            nationalEventSelected(this.state) && \n                            <option value=\"national\">national</option>\n                        }\n                        <option value=\"province\">province</option>\n                        <option value=\"municipality\">municipality</option>\n                        <option value=\"municipality-vd\">voting district</option>\n                  </select>\n              </div>\n              {\n                  (regionType != \"national\") && \n                    <div className={className(\"form-group\")}>\n                        <label>Province Name</label>\n                        <select className={className(\"form-control\")} \n                            value={provinceName}\n                            onChange={e => this.setState({provinceName: e.target.value})} >\n                            <option value=\"\">Select ...</option>\n                            {\n                                provincesData && provincesData.map(province => {\n                                    return <option key={province.name} value={province.name}>{province.name}</option>\n                                })\n                            }\n                        </select>\n                    </div>\n              }\n              {\n                  (regionType == \"municipality\") &&\n                    <div className={className(\"form-group\")}>\n                        <label>Municipality Name</label>\n                        <select className={className(\"form-control\")} \n                            value={muniName}\n                            onChange={e => this.setState({muniName: e.target.value})} >\n                            <option value=\"\">Select ...</option>\n                            {\n                                curProvinceData && curProvinceData.munis.map(muni => {\n                                    return <option key={muni.muniName} value={muni.muniName}>{muni.muniName}</option>\n                                })\n                            }\n                        </select>\n                    </div>\n              }\n              {\n                  (regionType == \"municipality-vd\") &&\n                    <div className={className(\"form-group\")}>\n                        <label>Municipality Code</label>\n                        <input \n                            type=\"text\" \n                            className={className(\"form-control\")} \n                            placeholder=\"CPT\"\n                            value={muniCode}\n                            onChange={e => this.setState({muniCode: e.target.value})} \n                            disabled={(regionType==\"national\")}/>\n                    </div>\n              }\n              {\n                  (regionType == \"municipality-vd\") &&\n                    <div className={className(\"form-group\")}>\n                        <label>Voting District Number</label>\n                        <input \n                            type=\"text\" \n                            className={className(\"form-control\")} \n                            placeholder=\"97860055\"\n                            value={iecId}\n                            onChange={e => this.setState({iecId: e.target.value})} \n                            disabled={(regionType==\"national\")}/>\n                    </div>\n              }\n              <div className={className(\"form-group\")}>\n                <button type=\"button\" onClick={this.onPreview.bind(this)} className={className(\"btn\") + \" \" + className(\"btn-primary\") }>Preview</button>\n              </div>\n              <div className={className(\"form-group\")}>\n                <button type=\"button\" \n                    onClick={this.onExportAsPNG.bind(this)} \n                    className={className(\"btn\") + \" \" + className(\"btn-primary\") }>Export As PNG</button>\n              </div>\n              <div className={className(\"form-group\")}>\n                  <label>Embed Code</label>\n                  <div className={className(\"embedcode\")}>\n                    <span>{`\n                    <div id=\"${elementId}\"></div>\n                    <script src=\"${DOMAIN}/embed/embed.js\"></script>\n                    <script>showProgVotesPiechart(\n                        document.getElementById(\"${elementId}\"),\n                        {\n                            stylesheetFor: \"${stylesheetFor}\",\n                            eventDescription: \"${eventDescription}\",\n                            regionType: \"${regionType}\",\n                            provinceName: \"${provinceName}\",\n                            muniName: \"${muniName}\",\n                            muniCode: \"${muniCode}\",\n                            iecId: \"${iecId}\"\n                        });</script>`.replace(/(\\r\\n|\\n|\\r)/gm, \"\")}</span>\n                  </div>\n              </div>\n          </div>\n        )\n    }\n}\nexport default PieChartEmbed;","import React, {Component} from \"react\";\nimport EmbedBase from \"../embedBase\";\nimport config from \"../../config\";\nimport bootstrapStyles from \"bootstrap/dist/css/bootstrap.min.css\";\nimport styles from \"./barchartEmbed.css\";\nimport events from \"../../events\";\nimport {\n    getElectionEvents,\n    getProvincesData,\n    getPartyColors,\n} from \"../../api\";\n\nimport {\n    triggerCustomEvent\n} from \"../../utils\";\n\n\nvar provincesData = getProvincesData();\n\nfunction className(originClassName) {\n    return bootstrapStyles[originClassName] || styles[originClassName] || originClassName;\n}\n\nclass BarChartEmbed extends EmbedBase {\n    \n    constructor(props) {\n        super(props);\n        this.state = {\n            elementId: \"root\",\n            eventDescriptions: [\n                \"National Elections 1999\",\n                // \"Provincial Elections 1999\",\n                \"14 Apr 2004 National Election\",\n                // \"14 Apr 2004 Provincial Election\",\n                \"22 Apr 2009 National Election\",\n                // \"22 Apr 2009 Provincial Election\",\n                \"2014 National Election\",\n                // \"2014 Provincial Election\",\n                \"2019 NATIONAL ELECTION\",\n                // \"2019 PROVINCIAL ELECTION\",\n            ],\n            regionType: \"national\",\n            provinceName: \"Western Cape\",\n            muniName: \"\",\n            muniCode: \"\",\n            iecId: \"\",\n            partyAbbr: \"ANC\",\n            partyIecId: null,\n\n            electionEvents: [],\n            allParties: [],\n            stylesheetFor: \"web\",\n            componentID: 7\n        }\n    }\n\n    componentDidMount() {\n        var self = this;\n        getElectionEvents()\n            .then(function(data) {\n                var electionEvents = data[\"data\"][\"allEvents\"]\n                self.setState({electionEvents});\n            }).catch(error => console.error(error));\n        getPartyColors()\n            .then(function(data) {\n                var allParties = data[\"data\"][\"allParties\"][\"edges\"].map(edge => edge[\"node\"])\n                allParties = allParties\n                // .filter(party => party.event.description == )\n                .filter((thing, index, self) =>\n                    index === self.findIndex((t) => (\n                        t.iecId == thing.iecId\n                    ))\n                )\n                self.setState({allParties});         \n            }).catch(error => console.error(error))\n    }\n\n    componentDidUpdate() {\n    }\n\n    onEventDescriptionChange(e) {\n        var options = e.target.options;\n        var values = [];\n        for (var i = 0, l = options.length; i < l; i++) {\n          if (options[i].selected) {\n            values.push(options[i].value);\n          }\n        }\n        this.setState({\n            eventDescriptions: values \n        })\n    }\n\n    onRegionTypeChange(e) {\n        var newState = {regionType: e.target.value};\n        this.setState(newState);\n    }\n\n    onPreview(e) {\n        triggerCustomEvent(events.CHART_PREVIEW, this.state);\n    }\n\n    onExportAsPNG(e) {\n        triggerCustomEvent(events.EXPORT_PNG, this.state);\n    }\n      \n    render () {\n        var DOMAIN = config.DOMAIN;\n        var {\n            elementId,\n            stylesheetFor,\n            eventDescriptions,\n            regionType,            \n            provinceName,\n            muniName,\n            muniCode,\n            iecId,\n            partyAbbr,\n            partyIecId,\n            electionEvents,\n            allParties\n        } = this.state;\n\n        var curProvinceData = provincesData.filter(item => item.name == provinceName)[0];\n        return (\n          <div>\n            <h3> Race For Seats Comparison Bar Chart Embed Script Generation </h3>\n            <div className={className(\"form-group\")}>\n                <label>Element ID </label>\n                <input \n                    type=\"text\" \n                    className={className(\"form-control\")} \n                    placeholder=\"chart-container\"\n                    onChange={e => this.setState({elementId: e.target.value})}\n                    />\n            </div>\n\n            <div className={className(\"form-group\")}>\n                  <label>Stylesheet</label>\n                  <select className={className(\"form-control\")} \n                     value={stylesheetFor}\n                     onChange={e => this.setState({stylesheetFor: e.target.value})}>\n                        <option value=\"tv\">TV</option>\n                        <option value=\"web\">Web</option>\n                        <option value=\"none\">None</option>\n                  </select>\n            </div>\n              <div className={className(\"form-group\")}>\n                  <label>Region Type </label>\n                  <select className={className(\"form-control\")} \n                     value={regionType}\n                     onChange={this.onRegionTypeChange.bind(this)}>\n                        <option value=\"national\">national</option>\n                        <option value=\"province\">province</option>\n                        <option value=\"municipality\">municipality</option>\n                        <option value=\"municipality-vd\">voting district</option>\n                  </select>\n              </div>\n              <div className={className(\"form-group\")}>\n                  <label>Event </label>\n                  <select multiple className={className(\"form-control\")+\" \"+className(\"multievent-container\")} \n                     value={eventDescriptions}\n                     onChange={this.onEventDescriptionChange.bind(this)}>\n                        {\n                            electionEvents\n                            .filter(item => item.eventType.description.toLowerCase().indexOf(regionType==\"national\"?\"national\":\"provincial\") != -1)\n                            .map(item => {\n                                return (<option key={item.description} value={item.description}>{item.description}</option>)\n                            })\n                        }\n                  </select>\n              </div>\n              {\n                  (regionType != \"national\") && \n                    <div className={className(\"form-group\")}>\n                        <label>Province Name</label>\n                        <select className={className(\"form-control\")} \n                            value={provinceName}\n                            onChange={e => this.setState({provinceName: e.target.value})} >\n                            <option value=\"\">Select ...</option>\n                            {\n                                provincesData && provincesData.map(province => {\n                                    return <option key={province.name} value={province.name}>{province.name}</option>\n                                })\n                            }\n                        </select>\n                    </div>\n              }\n              {\n                  (regionType == \"municipality\") &&\n                    <div className={className(\"form-group\")}>\n                        <label>Municipality Name</label>\n                        <select className={className(\"form-control\")} \n                            value={muniName}\n                            onChange={e => this.setState({muniName: e.target.value})} >\n                            <option value=\"\">Select ...</option>\n                            {\n                                curProvinceData && curProvinceData.munis.map(muni => {\n                                    return <option key={muni.muniName} value={muni.muniName}>{muni.muniName}</option>\n                                })\n                            }\n                        </select>\n                    </div>\n              }\n              {\n                  (regionType == \"municipality-vd\") &&\n                    <div className={className(\"form-group\")}>\n                        <label>Municipality Code</label>\n                        <input \n                            type=\"text\" \n                            className={className(\"form-control\")} \n                            placeholder=\"CPT\"\n                            value={muniCode}\n                            onChange={e => this.setState({muniCode: e.target.value})} \n                            />\n                    </div>\n              }\n              {\n                  (regionType == \"municipality-vd\") &&\n                    <div className={className(\"form-group\")}>\n                        <label>Voting District Number</label>\n                        <input \n                            type=\"text\" \n                            className={className(\"form-control\")} \n                            placeholder=\"97860055\"\n                            value={iecId}\n                            onChange={e => this.setState({iecId: e.target.value})} \n                            />\n                    </div>\n              }\n              <div className={className(\"form-group\")}>\n                  <label>Party Name</label>\n                  \n                  <select className={className(\"form-control\")} \n                        value={partyAbbr+\"\\x22\"+partyIecId}\n                        onChange={e => this.setState({\n                            partyAbbr: e.target.value.split(\"\\x22\")[0],\n                            partyIecId: e.target.value.split(\"\\x22\")[1],\n                        })} >\n                        <option value=\"\">Select ...</option>\n                        {\n                            allParties && allParties.map(party => {\n                                return <option \n                                            key={party[\"name\"]} \n                                            value={party[\"abbreviation\"] + \"\\x22\" + party[\"iecId\"]}>\n                                                {party[\"name\"]}\n                                        </option>\n                            })\n                        }\n                  </select>\n              </div>\n              <div className={className(\"form-group\")}>\n                <button type=\"button\" onClick={this.onPreview.bind(this)} className={className(\"btn\") + \" \" + className(\"btn-primary\") }>Preview</button>\n              </div>\n              <div className={className(\"form-group\")}>\n                <button type=\"button\" \n                    onClick={this.onExportAsPNG.bind(this)} \n                    className={className(\"btn\") + \" \" + className(\"btn-primary\") }>Export As PNG</button>\n              </div>\n              <div className={className(\"form-group\")}>\n                  <label>Embed Code</label>\n                  <div className={className(\"embedcode\")}>\n                    <span>{`                 \n                    <div id=\"${elementId}\"></div>\n                    <script src=\"${DOMAIN}/embed/embed.js\"></script>\n                    <script>showSeatsComparisonBarChart(\n                        document.getElementById(\"${elementId}\"),\n                        {\n                            stylesheetFor: \"${stylesheetFor}\",\n                            eventDescriptions: ${JSON.stringify(eventDescriptions)},\n                            regionType: \"${regionType}\",\n                            provinceName: \"${provinceName}\",\n                            muniName: \"${muniName}\",\n                            muniCode: \"${muniCode}\",\n                            iecId: \"${iecId}\",\n                            partyAbbr: \"${partyAbbr}\",\n                            partyIecId: ${partyIecId}\n                        });</script>`.replace(/(\\r\\n|\\n|\\r)/gm, \"\")}</span>\n                  </div>\n              </div>\n          </div>\n        )\n    }\n}\nexport default BarChartEmbed;","import React, {Component} from \"react\";\nimport EmbedBase from \"../embedBase\";\nimport config from \"../../config\";\nimport bootstrapStyles from \"bootstrap/dist/css/bootstrap.min.css\";\nimport styles from \"./horseshoeEmbed.css\";\nimport events from \"../../events\";\nimport {\n    getElectionEvents,\n    getProvincesData\n} from \"../../api\";\nimport {\n    triggerCustomEvent\n} from \"../../utils\";\n\nvar provincesData = getProvincesData();\n\nfunction className(originClassName) {\n    return bootstrapStyles[originClassName] || styles[originClassName] || originClassName;\n}\n\nclass HorseShoeEmbed extends EmbedBase {\n    \n    constructor(props) {\n        super(props);\n        this.state = {\n            elementId: \"root\",\n            eventDescription: \"2019 National Election\",\n            regionType: \"national\",\n            provinceName: \"\",\n            muniName: \"\",\n            muniCode: \"\",\n            iecId: \"\",\n\n            electionEvents: [],\n            stylesheetFor: \"web\",\n            componentID: 8\n        }\n    }\n\n    componentDidMount() {\n        var self = this;\n        getElectionEvents()\n            .then(function(data) {\n                var electionEvents = data[\"data\"][\"allEvents\"]\n                self.setState({electionEvents});\n            }).catch(error => console.error(error));\n    }\n\n    componentDidUpdate() {\n    }\n\n    onEventDescriptionChange(e) {\n        if (e.target.value.toLowerCase().indexOf(\"national\") == -1) {\n            this.setState({eventDescription: e.target.value, regionType: \"province\", provinceName: \"Western Cape\"});\n        } else {\n            this.setState({\n                eventDescription: e.target.value,\n                regionType: \"national\"\n            });\n        }\n    }\n\n    onRegionTypeChange(e) {\n        var newState = {regionType: e.target.value};\n        this.setState(newState);\n    }\n\n    onPreview(e) {\n        triggerCustomEvent(events.CHART_PREVIEW, this.state);\n    }\n    \n    onExportAsPNG(e) {\n        triggerCustomEvent(events.EXPORT_PNG, this.state);\n    }\n\n    render () {\n        var DOMAIN = config.DOMAIN;\n        var {\n            elementId,\n            stylesheetFor,\n            eventDescription,\n            regionType,            \n            provinceName,\n            muniName,\n            muniCode,\n            iecId,\n            electionEvents\n        } = this.state;\n\n        var curProvinceData = provincesData.filter(item => item.name == provinceName)[0];\n        return (\n          <div>\n            <h3> Race For Seat Bar Chart Embed Script Generation </h3>\n            <div className={className(\"form-group\")}>\n                <label>Element ID </label>\n                <input \n                    type=\"text\" \n                    className={className(\"form-control\")} \n                    placeholder=\"chart-container\"\n                    onChange={e => this.setState({elementId: e.target.value})}\n                    />\n            </div>\n            <div className={className(\"form-group\")}>\n                  <label>Stylesheet</label>\n                  <select className={className(\"form-control\")} \n                     value={stylesheetFor}\n                     onChange={e => this.setState({stylesheetFor: e.target.value})}>\n                        <option value=\"tv\">TV</option>\n                        <option value=\"web\">Web</option>\n                        <option value=\"none\">None</option>\n                  </select>\n            </div>\n              <div className={className(\"form-group\")}>\n                  <label>Event </label>\n                  <select className={className(\"form-control\")} \n                     value={eventDescription}\n                     onChange={this.onEventDescriptionChange.bind(this)}>\n                        {\n                            electionEvents.map(item => {\n                                return (<option key={item.description} value={item.description}>{item.description}</option>)\n                            })\n                        }\n                  </select>\n              </div>\n              {\n                  (regionType != \"national\") && \n                    <div className={className(\"form-group\")}>\n                        <label>Province Name</label>\n                        <select className={className(\"form-control\")} \n                            value={provinceName}\n                            onChange={e => this.setState({provinceName: e.target.value})} >\n                            <option value=\"\">Select ...</option>\n                            {\n                                provincesData && provincesData.map(province => {\n                                    return <option key={province.name} value={province.name}>{province.name}</option>\n                                })\n                            }\n                        </select>\n                    </div>\n              }\n              {\n                  (regionType == \"municipality\") &&\n                    <div className={className(\"form-group\")}>\n                        <label>Municipality Name</label>\n                        <select className={className(\"form-control\")} \n                            value={muniName}\n                            onChange={e => this.setState({muniName: e.target.value})} >\n                            <option value=\"\">Select ...</option>\n                            {\n                                curProvinceData && curProvinceData.munis.map(muni => {\n                                    return <option key={muni.muniName} value={muni.muniName}>{muni.muniName}</option>\n                                })\n                            }\n                        </select>\n                    </div>\n              }\n              {\n                  (regionType == \"municipality-vd\") &&\n                    <div className={className(\"form-group\")}>\n                        <label>Municipality Code</label>\n                        <input \n                            type=\"text\" \n                            className={className(\"form-control\")} \n                            placeholder=\"CPT\"\n                            value={muniCode}\n                            onChange={e => this.setState({muniCode: e.target.value})} \n                            disabled={(regionType==\"national\")}/>\n                    </div>\n              }\n              {\n                  (regionType == \"municipality-vd\") &&\n                    <div className={className(\"form-group\")}>\n                        <label>Voting District Number</label>\n                        <input \n                            type=\"text\" \n                            className={className(\"form-control\")} \n                            placeholder=\"97860055\"\n                            value={iecId}\n                            onChange={e => this.setState({iecId: e.target.value})} \n                            disabled={(regionType==\"national\")}/>\n                    </div>\n              }\n              <div className={className(\"form-group\")}>\n                <button type=\"button\" onClick={this.onPreview.bind(this)} className={className(\"btn\") + \" \" + className(\"btn-primary\") }>Preview</button>\n              </div>\n              <div className={className(\"form-group\")}>\n                <button type=\"button\" \n                    onClick={this.onExportAsPNG.bind(this)} \n                    className={className(\"btn\") + \" \" + className(\"btn-primary\") }>Export As PNG</button>\n              </div>\n              <div className={className(\"form-group\")}>\n                  <label>Embed Code</label>\n                  <div className={className(\"embedcode\")}>\n                    <span>{`\n                    <div id=\"${elementId}\"></div>\n                    <script src=\"${DOMAIN}/embed/embed.js\"></script>\n                    <script>showSeatHorseShoeChart(\n                        document.getElementById(\"${elementId}\"),\n                        {\n                            stylesheetFor: \"${stylesheetFor}\",\n                            eventDescription: \"${eventDescription}\",\n                            regionType: \"${regionType}\",\n                            provinceName: \"${provinceName}\",\n                            muniName: \"${muniName}\",\n                            muniCode: \"${muniCode}\",\n                            iecId: \"${iecId}\"\n                        });</script>`.replace(/(\\r\\n|\\n|\\r)/gm, \"\")}</span>\n                  </div>\n              </div>\n          </div>\n        )\n    }\n}\nexport default HorseShoeEmbed;\n","import React, {Component} from \"react\";\nimport EmbedBase from \"../embedBase\";\nimport config from \"../../config\";\nimport bootstrapStyles from \"bootstrap/dist/css/bootstrap.min.css\";\nimport styles from \"./barchartEmbed.css\";\nimport events from \"../../events\";\nimport {\n    getElectionEvents,\n    getProvincesData,\n    getPartyColors,\n} from \"../../api\";\n\nimport {\n    triggerCustomEvent\n} from \"../../utils\";\n\n\nvar provincesData = getProvincesData();\n\nfunction className(originClassName) {\n    return bootstrapStyles[originClassName] || styles[originClassName] || originClassName;\n}\n\nclass BarChartEmbed extends EmbedBase {\n    \n    constructor(props) {\n        super(props);\n        this.state = {\n            elementId: \"root\",\n            eventDescriptions: [\n                \"National Elections 1999\",\n                // \"Provincial Elections 1999\",\n                \"14 Apr 2004 National Election\",\n                // \"14 Apr 2004 Provincial Election\",\n                \"22 Apr 2009 National Election\",\n                // \"22 Apr 2009 Provincial Election\",\n                \"2014 National Election\",\n                // \"2014 Provincial Election\",\n                \"2019 NATIONAL ELECTION\",\n                // \"2019 PROVINCIAL ELECTION\",\n            ],\n            regionType: \"province\",\n            provinceName: \"Western Cape\",\n            muniName: \"\",\n            muniCode: \"\",\n            iecId: \"\",\n            partyAbbr: \"ANC\",\n            partyIecId: null,\n\n            electionEvents: [],\n            allParties: [],\n            stylesheetFor: \"web\",\n            componentID: 16\n        }\n    }\n\n    componentDidMount() {\n        var self = this;\n        getElectionEvents()\n            .then(function(data) {\n                var electionEvents = data[\"data\"][\"allEvents\"]\n                self.setState({electionEvents});\n            }).catch(error => console.error(error));\n        getPartyColors()\n            .then(function(data) {\n                var allParties = data[\"data\"][\"allParties\"][\"edges\"].map(edge => edge[\"node\"])\n                allParties = allParties.filter((thing, index, self) =>\n                    index === self.findIndex((t) => (\n                        t.iecId == thing.iecId\n                    ))\n                )\n                self.setState({allParties});         \n            }).catch(error => console.error(error))\n    }\n\n    componentDidUpdate() {\n    }\n\n    onEventDescriptionChange(e) {\n        var options = e.target.options;\n        var values = [];\n        for (var i = 0, l = options.length; i < l; i++) {\n          if (options[i].selected) {\n            values.push(options[i].value);\n          }\n        }\n        this.setState({\n            eventDescriptions: values \n        })\n    }\n\n    onRegionTypeChange(e) {\n        var newState = {regionType: e.target.value};\n        this.setState(newState);\n    }\n\n    onPreview(e) {\n        triggerCustomEvent(events.CHART_PREVIEW, this.state);\n    }\n\n    onExportAsPNG(e) {\n        triggerCustomEvent(events.EXPORT_PNG, this.state);\n    }\n      \n    render () {\n        var DOMAIN = config.DOMAIN;\n        var {\n            elementId,\n            stylesheetFor,\n            eventDescriptions,\n            regionType,            \n            provinceName,\n            muniName,\n            muniCode,\n            iecId,\n            partyAbbr,\n            partyIecId,\n            electionEvents,\n            allParties\n        } = this.state;\n\n        var curProvinceData = provincesData.filter(item => item.name == provinceName)[0];\n        return (\n          <div>\n            <h3> Race For Votes Comparison Bar Chart Embed Script Generation </h3>\n            <div className={className(\"form-group\")}>\n                <label>Element ID </label>\n                <input \n                    type=\"text\" \n                    className={className(\"form-control\")} \n                    placeholder=\"chart-container\"\n                    onChange={e => this.setState({elementId: e.target.value})}\n                    />\n            </div>\n\n            <div className={className(\"form-group\")}>\n                  <label>Stylesheet</label>\n                  <select className={className(\"form-control\")} \n                     value={stylesheetFor}\n                     onChange={e => this.setState({stylesheetFor: e.target.value})}>\n                        <option value=\"tv\">TV</option>\n                        <option value=\"web\">Web</option>\n                        <option value=\"none\">None</option>\n                  </select>\n            </div>\n              <div className={className(\"form-group\")}>\n                  <label>Event </label>\n                  <select multiple className={className(\"form-control\")+\" \"+className(\"multievent-container\")} \n                     value={eventDescriptions}\n                     onChange={this.onEventDescriptionChange.bind(this)}>\n                        {\n                            electionEvents.map(item => {\n                                return (<option key={item.description} value={item.description}>{item.description}</option>)\n                            })\n                        }\n                  </select>\n              </div>\n              <div className={className(\"form-group\")}>\n                  <label>Region Type </label>\n                  <select className={className(\"form-control\")} \n                     value={regionType}\n                     onChange={this.onRegionTypeChange.bind(this)}>\n                        <option value=\"national\">national</option>\n                        <option value=\"province\">province</option>\n                        <option value=\"municipality\">municipality</option>\n                        <option value=\"municipality-vd\">voting district</option>\n                  </select>\n              </div>\n              {\n                  (regionType != \"national\") && \n                    <div className={className(\"form-group\")}>\n                        <label>Province Name</label>\n                        <select className={className(\"form-control\")} \n                            value={provinceName}\n                            onChange={e => this.setState({provinceName: e.target.value})} >\n                            <option value=\"\">Select ...</option>\n                            {\n                                provincesData && provincesData.map(province => {\n                                    return <option key={province.name} value={province.name}>{province.name}</option>\n                                })\n                            }\n                        </select>\n                    </div>\n              }\n              {\n                  (regionType == \"municipality\") &&\n                    <div className={className(\"form-group\")}>\n                        <label>Municipality Name</label>\n                        <select className={className(\"form-control\")} \n                            value={muniName}\n                            onChange={e => this.setState({muniName: e.target.value})} >\n                            <option value=\"\">Select ...</option>\n                            {\n                                curProvinceData && curProvinceData.munis.map(muni => {\n                                    return <option key={muni.muniName} value={muni.muniName}>{muni.muniName}</option>\n                                })\n                            }\n                        </select>\n                    </div>\n              }\n              {\n                  (regionType == \"municipality-vd\") &&\n                    <div className={className(\"form-group\")}>\n                        <label>Municipality Code</label>\n                        <input \n                            type=\"text\" \n                            className={className(\"form-control\")} \n                            placeholder=\"CPT\"\n                            value={muniCode}\n                            onChange={e => this.setState({muniCode: e.target.value})} \n                            />\n                    </div>\n              }\n              {\n                  (regionType == \"municipality-vd\") &&\n                    <div className={className(\"form-group\")}>\n                        <label>Voting District Number</label>\n                        <input \n                            type=\"text\" \n                            className={className(\"form-control\")} \n                            placeholder=\"97860055\"\n                            value={iecId}\n                            onChange={e => this.setState({iecId: e.target.value})} \n                            />\n                    </div>\n              }\n              <div className={className(\"form-group\")}>\n                  <label>Party Name</label>\n                  \n                  <select className={className(\"form-control\")} \n                        value={partyAbbr+\"\\x22\"+partyIecId}\n                        onChange={e => this.setState({\n                            partyAbbr: e.target.value.split(\"\\x22\")[0],\n                            partyIecId: e.target.value.split(\"\\x22\")[1],\n                        })} >\n                        <option value=\"\">Select ...</option>\n                        {\n                            allParties && allParties.map(party => {\n                                return <option \n                                            key={party[\"name\"]} \n                                            value={party[\"abbreviation\"] + \"\\x22\" + party[\"iecId\"]}>\n                                                {party[\"name\"]}\n                                        </option>\n                            })\n                        }\n                  </select>\n              </div>\n              <div className={className(\"form-group\")}>\n                <button type=\"button\" onClick={this.onPreview.bind(this)} className={className(\"btn\") + \" \" + className(\"btn-primary\") }>Preview</button>\n              </div>\n              <div className={className(\"form-group\")}>\n                <button type=\"button\" \n                    onClick={this.onExportAsPNG.bind(this)} \n                    className={className(\"btn\") + \" \" + className(\"btn-primary\") }>Export As PNG</button>\n              </div>\n              <div className={className(\"form-group\")}>\n                  <label>Embed Code</label>\n                  <div className={className(\"embedcode\")}>\n                    <span>{`\n                    <div id=\"${elementId}\"></div>\n                    <script src=\"${DOMAIN}/embed/embed.js\"></script>\n                    <script>showVoteComparisonBarchart(\n                        document.getElementById(\"${elementId}\"),\n                        {\n                            stylesheetFor: \"${stylesheetFor}\",\n                            eventDescriptions: ${JSON.stringify(eventDescriptions)},\n                            regionType: \"${regionType}\",\n                            provinceName: \"${provinceName}\",\n                            muniName: \"${muniName}\",\n                            muniCode: \"${muniCode}\",\n                            iecId: \"${iecId}\",\n                            partyAbbr: \"${partyAbbr}\",\n                            partyIecId: ${partyIecId}\n                        });</script>`.replace(/(\\r\\n|\\n|\\r)/gm, \"\")}</span>\n                  </div>\n              </div>\n          </div>\n        )\n    }\n}\nexport default BarChartEmbed;","import React, {Component} from \"react\";\nimport EmbedBase from \"../embedBase\";\nimport config from \"../../config\";\nimport bootstrapStyles from \"bootstrap/dist/css/bootstrap.min.css\";\nimport styles from \"./barchartEmbed.css\";\nimport events from \"../../events\";\nimport {\n    getElectionEvents,\n    getProvincesData,\n    getPartyColors,\n} from \"../../api\";\n\nimport {\n    triggerCustomEvent,\n    formatPartyName,\n    onPartyAbbrsChange\n} from \"../../utils\";\n\n\nvar provincesData = getProvincesData();\n\nfunction className(originClassName) {\n    return bootstrapStyles[originClassName] || styles[originClassName] || originClassName;\n}\n\nclass BarChartEmbed extends EmbedBase {\n    \n    constructor(props) {\n        super(props);\n        this.state = {\n            elementId: \"root\",\n            eventDescriptions: [\n                \"National Elections 1999\",\n                // \"Provincial Elections 1999\",\n                \"14 Apr 2004 National Election\",\n                // \"14 Apr 2004 Provincial Election\",\n                \"22 Apr 2009 National Election\",\n                // \"22 Apr 2009 Provincial Election\",\n                \"2014 National Election\",\n                // \"2014 Provincial Election\",\n                \"2019 NATIONAL ELECTION\",\n                // \"2019 PROVINCIAL ELECTION\",\n            ],\n            regionType: \"national\",\n            provinceName: \"Western Cape\",\n            muniName: \"\",\n            muniCode: \"\",\n            iecId: \"\",\n            partyAbbrs: [\"ANC\", \"DA\", \"EFF\"],\n            partyIecIds: [null, null, null],\n\n            electionEvents: [],\n            allParties: [],\n            stylesheetFor: \"web\",\n            componentID: 12\n        }\n    }\n\n    componentDidMount() {\n        var self = this;\n        getElectionEvents()\n            .then(function(data) {\n                var electionEvents = data[\"data\"][\"allEvents\"]\n                self.setState({electionEvents});\n            }).catch(error => console.error(error));\n        getPartyColors()\n            .then(function(data) {\n                var allParties = data[\"data\"][\"allParties\"][\"edges\"].map(edge => edge[\"node\"])\n                allParties = allParties.filter((thing, index, self) =>\n                    index === self.findIndex((t) => (\n                        t.iecId == thing.iecId\n                    ))\n                )\n                self.setState({allParties});         \n            }).catch(error => console.error(error))\n    }\n\n    componentDidUpdate() {\n    }\n\n    onEventDescriptionChange(e) {\n        var options = e.target.options;\n        var values = [];\n        for (var i = 0, l = options.length; i < l; i++) {\n          if (options[i].selected) {\n            values.push(options[i].value);\n          }\n        }\n        values = values.slice(0, 4);\n        this.setState({\n            eventDescriptions: values \n        })\n    }\n\n    onRegionTypeChange(e) {\n        var newState = {regionType: e.target.value};\n        this.setState(newState);\n    }\n\n    onPreview(e) {\n        triggerCustomEvent(events.CHART_PREVIEW, this.state);\n    }\n\n    onExportAsPNG(e) {\n        triggerCustomEvent(events.EXPORT_PNG, this.state);\n    }\n      \n    render () {\n        var DOMAIN = config.DOMAIN;\n        var {\n            elementId,\n            stylesheetFor,\n            eventDescriptions,\n            regionType,            \n            provinceName,\n            muniName,\n            muniCode,\n            iecId,\n            partyAbbrs,\n            partyIecIds,\n            electionEvents,\n            allParties\n        } = this.state;\n\n        var curProvinceData = provincesData.filter(item => item.name == provinceName)[0];\n        return (\n          <div>\n            <h3> Race For Seats Comparison Bar Chart Embed Script Generation </h3>\n            <div className={className(\"form-group\")}>\n                <label>Element ID </label>\n                <input \n                    type=\"text\" \n                    className={className(\"form-control\")} \n                    placeholder=\"chart-container\"\n                    onChange={e => this.setState({elementId: e.target.value})}\n                    />\n            </div>\n            <div className={className(\"form-group\")}>\n                  <label>Stylesheet</label>\n                  <select className={className(\"form-control\")} \n                     value={stylesheetFor}\n                     onChange={e => this.setState({stylesheetFor: e.target.value})}>\n                        <option value=\"tv\">TV</option>\n                        <option value=\"web\">Web</option>\n                        <option value=\"none\">None</option>\n                  </select>\n            </div>\n              <div className={className(\"form-group\")}>\n                  <label>Region Type </label>\n                  <select className={className(\"form-control\")} \n                     value={regionType}\n                     onChange={this.onRegionTypeChange.bind(this)}>\n                        <option value=\"national\">national</option>\n                        <option value=\"province\">province</option>\n                  </select>\n              </div>\n              <div className={className(\"form-group\")}>\n                  <label>Events </label>\n                  <select multiple className={className(\"form-control\")+\" \"+className(\"multievent-container\")} \n                     value={eventDescriptions}\n                     onChange={this.onEventDescriptionChange.bind(this)}>\n                        {\n                            electionEvents\n                            .filter(item => item.eventType.description.toLowerCase().indexOf(regionType==\"national\"?\"national\":\"provincial\") != -1)\n                            .map(item => {\n                                return (<option key={item.description} value={item.description}>{item.description}</option>)\n                            })\n                        }\n                  </select>\n              </div>\n              {\n                  (regionType != \"national\") && \n                    <div className={className(\"form-group\")}>\n                        <label>Province Name</label>\n                        <select className={className(\"form-control\")} \n                            value={provinceName}\n                            onChange={e => this.setState({provinceName: e.target.value})} >\n                            <option value=\"\">Select ...</option>\n                            {\n                                provincesData && provincesData.map(province => {\n                                    return <option key={province.name} value={province.name}>{province.name}</option>\n                                })\n                            }\n                        </select>\n                    </div>\n              }\n              {\n                  (regionType == \"municipality\") &&\n                    <div className={className(\"form-group\")}>\n                        <label>Municipality Name</label>\n                        <select className={className(\"form-control\")} \n                            value={muniName}\n                            onChange={e => this.setState({muniName: e.target.value})} >\n                            <option value=\"\">Select ...</option>\n                            {\n                                curProvinceData && curProvinceData.munis.map(muni => {\n                                    return <option key={muni.muniName} value={muni.muniName}>{muni.muniName}</option>\n                                })\n                            }\n                        </select>\n                    </div>\n              }\n              {\n                  (regionType == \"municipality-vd\") &&\n                    <div className={className(\"form-group\")}>\n                        <label>Municipality Code</label>\n                        <input \n                            type=\"text\" \n                            className={className(\"form-control\")} \n                            placeholder=\"CPT\"\n                            value={muniCode}\n                            onChange={e => this.setState({muniCode: e.target.value})} \n                            />\n                    </div>\n              }\n              {\n                  (regionType == \"municipality-vd\") &&\n                    <div className={className(\"form-group\")}>\n                        <label>Voting District Number</label>\n                        <input \n                            type=\"text\" \n                            className={className(\"form-control\")} \n                            placeholder=\"97860055\"\n                            value={iecId}\n                            onChange={e => this.setState({iecId: e.target.value})} \n                            />\n                    </div>\n              }\n              <div className={className(\"form-group\")}>\n                  <label>Party Names</label>\n                  <select multiple className={className(\"form-control\")+\" \"+className(\"multiparties-container\")} \n                        value={partyAbbrs.map((partyAbbr, partyIdx) => partyAbbr+\"\\x22\"+partyIecIds[partyIdx])}\n                        onChange={onPartyAbbrsChange.bind(this)} >\n                        {\n                            allParties && allParties.map((party, partyIdx) => {\n                                return <option \n                                            key={partyIdx} \n                                            value={party[\"abbreviation\"]+ \"\\x22\" + party[\"iecId\"]}>\n                                                {formatPartyName(party[\"name\"])}\n                                    </option>\n                            })\n                        }\n                  </select>\n              </div>\n              <div className={className(\"form-group\")}>\n                <button type=\"button\" onClick={this.onPreview.bind(this)} className={className(\"btn\") + \" \" + className(\"btn-primary\") }>Preview</button>\n              </div>\n              <div className={className(\"form-group\")}>\n                <button type=\"button\" \n                    onClick={this.onExportAsPNG.bind(this)} \n                    className={className(\"btn\") + \" \" + className(\"btn-primary\") }>Export As PNG</button>\n              </div>\n              <div className={className(\"form-group\")}>\n                  <label>Embed Code</label>\n                  <div className={className(\"embedcode\")}>\n                    <span>{`\n                    <div id=\"${elementId}\"></div>\n                    <script src=\"${DOMAIN}/embed/embed.js\"></script>\n                    <script>showTVSeatCompBarchart(\n                        document.getElementById(\"${elementId}\"),\n                        {\n                            stylesheetFor: \"${stylesheetFor}\",\n                            eventDescriptions: ${JSON.stringify(eventDescriptions)},\n                            regionType: \"${regionType}\",\n                            provinceName: \"${provinceName}\",\n                            muniName: \"${muniName}\",\n                            muniCode: \"${muniCode}\",\n                            iecId: \"${iecId}\",\n                            partyAbbrs: ${JSON.stringify(partyAbbrs)},\n                            partyIecIds: ${JSON.stringify(partyIecIds)}\n                        });</script>`.replace(/(\\r\\n|\\n|\\r)/gm, \"\")}</span>\n                  </div>\n              </div> \n          </div>\n        )\n    }\n}\nexport default BarChartEmbed;\n","import React, {Component} from \"react\";\nimport EmbedBase from \"../embedBase\";\nimport config from \"../../config\";\nimport bootstrapStyles from \"bootstrap/dist/css/bootstrap.min.css\";\nimport styles from \"./barchartEmbed.css\";\nimport events from \"../../events\";\nimport {\n    getElectionEvents,\n    getProvincesData,\n    getPartyColors,\n} from \"../../api\";\n\nimport {\n    triggerCustomEvent,\n    formatPartyName,\n    onPartyAbbrsChange\n} from \"../../utils\";\n\n\nvar provincesData = getProvincesData();\n\nfunction className(originClassName) {\n    return bootstrapStyles[originClassName] || styles[originClassName] || originClassName;\n}\n\nclass BarChartEmbed extends EmbedBase {\n    \n    constructor(props) {\n        super(props);\n        this.state = {\n            elementId: \"root\",\n            eventDescriptions: [\n                // \"National Elections 1999\",\n                // \"Provincial Elections 1999\",\n                // \"14 Apr 2004 National Election\",\n                // \"14 Apr 2004 Provincial Election\",\n                \"22 Apr 2009 National Election\",\n                // \"22 Apr 2009 Provincial Election\",\n                \"2014 National Election\",\n                // \"2014 Provincial Election\",\n                // \"2019 NATIONAL ELECTION\",\n                // \"2019 PROVINCIAL ELECTION\",\n            ],\n            regionType: \"national\",\n            provinceName: \"Western Cape\",\n            muniName: \"\",\n            muniCode: \"\",\n            iecId: \"\",\n            partyAbbrs: [\"ANC\", \"DA\", \"EFF\"],\n            partyIecIds: [null, null, null],\n\n            electionEvents: [],\n            allParties: [],\n            stylesheetFor: \"web\",\n            componentID: 13\n        }\n    }\n\n    componentDidMount() {\n        var self = this;\n        getElectionEvents()\n            .then(function(data) {\n                var electionEvents = data[\"data\"][\"allEvents\"]\n                self.setState({electionEvents});\n            }).catch(error => console.error(error));\n        getPartyColors()\n            .then(function(data) {\n                var allParties = data[\"data\"][\"allParties\"][\"edges\"].map(edge => edge[\"node\"])\n                allParties = allParties.filter((thing, index, self) =>\n                    index === self.findIndex((t) => (\n                        t.iecId == thing.iecId\n                    ))\n                )\n                self.setState({allParties});         \n            }).catch(error => console.error(error))\n    }\n\n    componentDidUpdate() {\n    }\n\n    onRegionTypeChange(e) {\n        var newState = {regionType: e.target.value};\n        this.setState(newState);\n    }\n\n    onPreview(e) {\n        triggerCustomEvent(events.CHART_PREVIEW, this.state);\n    }\n\n    onExportAsPNG(e) {\n        triggerCustomEvent(events.EXPORT_PNG, this.state);\n    }\n      \n    render () {\n        var DOMAIN = config.DOMAIN;\n        var {\n            elementId,\n            stylesheetFor,\n            eventDescriptions,\n            regionType,            \n            provinceName,\n            muniName,\n            muniCode,\n            iecId,\n            partyAbbrs,\n            partyIecIds,\n            electionEvents,\n            allParties\n        } = this.state;\n\n        var curProvinceData = provincesData.filter(item => item.name == provinceName)[0];\n        return (\n          <div>\n            <h3> Race For Seats Comparison Bar Chart Embed Script Generation </h3>\n            <div className={className(\"form-group\")}>\n                <label>Element ID </label>\n                <input \n                    type=\"text\" \n                    className={className(\"form-control\")} \n                    placeholder=\"chart-container\"\n                    onChange={e => this.setState({elementId: e.target.value})}\n                    />\n            </div>\n            <div className={className(\"form-group\")}>\n                  <label>Stylesheet</label>\n                  <select className={className(\"form-control\")} \n                     value={stylesheetFor}\n                     onChange={e => this.setState({stylesheetFor: e.target.value})}>\n                        <option value=\"tv\">TV</option>\n                        <option value=\"web\">Web</option>\n                        <option value=\"none\">None</option>\n                  </select>\n            </div>\n              <div className={className(\"form-group\")}>\n                  <label>Region Type </label>\n                  <select className={className(\"form-control\")} \n                     value={regionType}\n                     onChange={this.onRegionTypeChange.bind(this)}>\n                        <option value=\"national\">national</option>\n                        <option value=\"province\">province</option>\n                  </select>\n              </div>\n              <div className={className(\"form-group\")}>\n                  <label>First Event </label>\n                  <select className={className(\"form-control\")} \n                     value={eventDescriptions[0]}\n                     onChange={(event) => {\n                        this.setState({eventDescriptions: [event.target.value, eventDescriptions[1]]})\n                    }}>\n                        {\n                            electionEvents.map(item => {\n                                return (<option key={item.description} value={item.description}>{item.description}</option>)\n                            })\n                        }\n                  </select>\n              </div>\n              <div className={className(\"form-group\")}>\n                  <label>Second Event </label>\n                  <select className={className(\"form-control\")} \n                     value={eventDescriptions[1]}\n                     onChange={(event) => {\n                         this.setState({eventDescriptions: [eventDescriptions[0], event.target.value]})\n                     }}>\n                        {\n                            electionEvents.map(item => {\n                                return (<option key={item.description} value={item.description}>{item.description}</option>)\n                            })\n                        }\n                  </select>\n              </div>\n              {\n                  (regionType != \"national\") && \n                    <div className={className(\"form-group\")}>\n                        <label>Province Name</label>\n                        <select className={className(\"form-control\")} \n                            value={provinceName}\n                            onChange={e => this.setState({provinceName: e.target.value})} >\n                            <option value=\"\">Select ...</option>\n                            {\n                                provincesData && provincesData.map(province => {\n                                    return <option key={province.name} value={province.name}>{province.name}</option>\n                                })\n                            }\n                        </select>\n                    </div>\n              }\n              {\n                  (regionType == \"municipality\") &&\n                    <div className={className(\"form-group\")}>\n                        <label>Municipality Name</label>\n                        <select className={className(\"form-control\")} \n                            value={muniName}\n                            onChange={e => this.setState({muniName: e.target.value})} >\n                            <option value=\"\">Select ...</option>\n                            {\n                                curProvinceData && curProvinceData.munis.map(muni => {\n                                    return <option key={muni.muniName} value={muni.muniName}>{muni.muniName}</option>\n                                })\n                            }\n                        </select>\n                    </div>\n              }\n              {\n                  (regionType == \"municipality-vd\") &&\n                    <div className={className(\"form-group\")}>\n                        <label>Municipality Code</label>\n                        <input \n                            type=\"text\" \n                            className={className(\"form-control\")} \n                            placeholder=\"CPT\"\n                            value={muniCode}\n                            onChange={e => this.setState({muniCode: e.target.value})} \n                            />\n                    </div>\n              }\n              {\n                  (regionType == \"municipality-vd\") &&\n                    <div className={className(\"form-group\")}>\n                        <label>Voting District Number</label>\n                        <input \n                            type=\"text\" \n                            className={className(\"form-control\")} \n                            placeholder=\"97860055\"\n                            value={iecId}\n                            onChange={e => this.setState({iecId: e.target.value})} \n                            />\n                    </div>\n              }\n              <div className={className(\"form-group\")}>\n                  <label>Party Names</label>\n                  <select multiple className={className(\"form-control\")+\" \"+className(\"multiparties-container\")} \n                        value={partyAbbrs.map((partyAbbr, partyIdx) => partyAbbr+\"\\x22\"+partyIecIds[partyIdx])}\n                        onChange={onPartyAbbrsChange.bind(this)} >\n                        {\n                            allParties && allParties.map((party, partyIdx) => {\n                                return <option \n                                            key={partyIdx} \n                                            value={party[\"abbreviation\"]+ \"\\x22\" + party[\"iecId\"]}>\n                                                {formatPartyName(party[\"name\"])}\n                                    </option>\n                            })\n                        }\n                  </select>\n              </div>\n              <div className={className(\"form-group\")}>\n                <button type=\"button\" onClick={this.onPreview.bind(this)} className={className(\"btn\") + \" \" + className(\"btn-primary\") }>Preview</button>\n              </div>\n              <div className={className(\"form-group\")}>\n                <button type=\"button\" \n                    onClick={this.onExportAsPNG.bind(this)} \n                    className={className(\"btn\") + \" \" + className(\"btn-primary\") }>Export As PNG</button>\n              </div>\n              <div className={className(\"form-group\")}>\n                  <label>Embed Code</label>\n                  <div className={className(\"embedcode\")}>\n                    <span>{`\n                    <div id=\"${elementId}\"></div>\n                    <script src=\"${DOMAIN}/embed/embed.js\"></script>\n                    <script>showTVSeatSwingBarchart(\n                        document.getElementById(\"${elementId}\"),\n                        {\n                            stylesheetFor: \"${stylesheetFor}\",\n                            eventDescriptions: ${JSON.stringify(eventDescriptions)},\n                            regionType: \"${regionType}\",\n                            provinceName: \"${provinceName}\",\n                            muniName: \"${muniName}\",\n                            muniCode: \"${muniCode}\",\n                            iecId: \"${iecId}\",\n                            partyAbbrs: ${JSON.stringify(partyAbbrs)},\n                            partyIecIds: ${JSON.stringify(partyIecIds)}\n                        });</script>`.replace(/(\\r\\n|\\n|\\r)/gm, \"\")}</span>\n                  </div>\n              </div> \n          </div>\n        )\n    }\n}\nexport default BarChartEmbed;","import React, {Component} from \"react\";\nimport EmbedBase from \"../embedBase\";\nimport config from \"../../config\";\nimport bootstrapStyles from \"bootstrap/dist/css/bootstrap.min.css\";\nimport styles from \"./barchartEmbed.css\";\nimport events from \"../../events\";\nimport {\n    getElectionEvents,\n    getProvincesData,\n    getPartyColors,\n} from \"../../api\";\n\nimport {\n    triggerCustomEvent,\n    formatPartyName,\n    onPartyAbbrsChange\n} from \"../../utils\";\n\n\nvar provincesData = getProvincesData();\n\nfunction className(originClassName) {\n    return bootstrapStyles[originClassName] || styles[originClassName] || originClassName;\n}\n\nclass BarChartEmbed extends EmbedBase {\n    \n    constructor(props) {\n        super(props);\n        this.state = {\n            elementId: \"root\",\n            eventDescriptions: [\n                \"National Elections 1999\",\n                // \"Provincial Elections 1999\",\n                \"14 Apr 2004 National Election\",\n                // \"14 Apr 2004 Provincial Election\",\n                \"22 Apr 2009 National Election\",\n                // \"22 Apr 2009 Provincial Election\",\n                \"2014 National Election\",\n                // \"2014 Provincial Election\",\n                \"2019 NATIONAL ELECTION\",\n                // \"2019 PROVINCIAL ELECTION\",\n            ],\n            regionType: \"province\",\n            provinceName: \"Western Cape\",\n            muniName: \"\",\n            muniCode: \"\",\n            iecId: \"\",\n            partyAbbrs: [\"ANC\", \"DA\", \"EFF\"],\n            partyIecIds: [null, null, null],\n\n            electionEvents: [],\n            allParties: [],\n            stylesheetFor: \"web\",\n            componentID: 14\n        }\n    }\n\n    componentDidMount() {\n        var self = this;\n        getElectionEvents()\n            .then(function(data) {\n                var electionEvents = data[\"data\"][\"allEvents\"]\n                self.setState({electionEvents});\n            }).catch(error => console.error(error));\n        getPartyColors()\n            .then(function(data) {\n                var allParties = data[\"data\"][\"allParties\"][\"edges\"].map(edge => edge[\"node\"])\n                allParties = allParties.filter((thing, index, self) =>\n                    index === self.findIndex((t) => (\n                        t.iecId == thing.iecId\n                    ))\n                )\n                self.setState({allParties});         \n            }).catch(error => console.error(error))\n    }\n\n    componentDidUpdate() {\n    }\n\n    onEventDescriptionChange(e) {\n        var options = e.target.options;\n        var values = [];\n        for (var i = 0, l = options.length; i < l; i++) {\n          if (options[i].selected) {\n            values.push(options[i].value);\n          }\n        }\n        values = values.slice(0, 4);\n        this.setState({\n            eventDescriptions: values \n        })\n    }\n\n    onRegionTypeChange(e) {\n        var newState = {regionType: e.target.value};\n        this.setState(newState);\n    }\n\n    onPreview(e) {\n        triggerCustomEvent(events.CHART_PREVIEW, this.state);\n    }\n\n    onExportAsPNG(e) {\n        triggerCustomEvent(events.EXPORT_PNG, this.state);\n    }\n      \n    render () {\n        var DOMAIN = config.DOMAIN;\n        var {\n            elementId,\n            stylesheetFor,\n            eventDescriptions,\n            regionType,            \n            provinceName,\n            muniName,\n            muniCode,\n            iecId,\n            partyAbbrs,\n            partyIecIds,\n            electionEvents,\n            allParties\n        } = this.state;\n\n        var curProvinceData = provincesData.filter(item => item.name == provinceName)[0];\n        return (\n          <div>\n            <h3> Race For Votes Comparison Bar Chart Embed Script Generation </h3>\n            <div className={className(\"form-group\")}>\n                <label>Element ID </label>\n                <input \n                    type=\"text\" \n                    className={className(\"form-control\")} \n                    placeholder=\"chart-container\"\n                    onChange={e => this.setState({elementId: e.target.value})}\n                    />\n            </div>\n\n            <div className={className(\"form-group\")}>\n                  <label>Stylesheet</label>\n                  <select className={className(\"form-control\")} \n                     value={stylesheetFor}\n                     onChange={e => this.setState({stylesheetFor: e.target.value})}>\n                        <option value=\"tv\">TV</option>\n                        <option value=\"web\">Web</option>\n                        <option value=\"none\">None</option>\n                  </select>\n            </div>\n              <div className={className(\"form-group\")}>\n                  <label>Region Type </label>\n                  <select className={className(\"form-control\")} \n                     value={regionType}\n                     onChange={this.onRegionTypeChange.bind(this)}>\n                        <option value=\"national\">national</option>\n                        <option value=\"province\">province</option>\n                        <option value=\"municipality\">municipality</option>\n                        <option value=\"municipality-vd\">voting district</option>\n                  </select>\n              </div>\n              <div className={className(\"form-group\")}>\n                  <label>Events </label>\n                  <select multiple className={className(\"form-control\")+\" \"+className(\"multievent-container\")} \n                     value={eventDescriptions}\n                     onChange={this.onEventDescriptionChange.bind(this)}>\n                        {\n                            electionEvents.map(item => {\n                                return (<option key={item.description} value={item.description}>{item.description}</option>)\n                            })\n                        }\n                  </select>\n              </div>\n              {\n                  (regionType != \"national\") && \n                    <div className={className(\"form-group\")}>\n                        <label>Province Name</label>\n                        <select className={className(\"form-control\")} \n                            value={provinceName}\n                            onChange={e => this.setState({provinceName: e.target.value})} >\n                            <option value=\"\">Select ...</option>\n                            {\n                                provincesData && provincesData.map(province => {\n                                    return <option key={province.name} value={province.name}>{province.name}</option>\n                                })\n                            }\n                        </select>\n                    </div>\n              }\n              {\n                  (regionType == \"municipality\") &&\n                    <div className={className(\"form-group\")}>\n                        <label>Municipality Name</label>\n                        <select className={className(\"form-control\")} \n                            value={muniName}\n                            onChange={e => this.setState({muniName: e.target.value})} >\n                            <option value=\"\">Select ...</option>\n                            {\n                                curProvinceData && curProvinceData.munis.map(muni => {\n                                    return <option key={muni.muniName} value={muni.muniName}>{muni.muniName}</option>\n                                })\n                            }\n                        </select>\n                    </div>\n              }\n              {\n                  (regionType == \"municipality-vd\") &&\n                    <div className={className(\"form-group\")}>\n                        <label>Municipality Code</label>\n                        <input \n                            type=\"text\" \n                            className={className(\"form-control\")} \n                            placeholder=\"CPT\"\n                            value={muniCode}\n                            onChange={e => this.setState({muniCode: e.target.value})} \n                            />\n                    </div>\n              }\n              {\n                  (regionType == \"municipality-vd\") &&\n                    <div className={className(\"form-group\")}>\n                        <label>Voting District Number</label>\n                        <input \n                            type=\"text\" \n                            className={className(\"form-control\")} \n                            placeholder=\"97860055\"\n                            value={iecId}\n                            onChange={e => this.setState({iecId: e.target.value})} \n                            />\n                    </div>\n              }\n              <div className={className(\"form-group\")}>\n                  <label>Party Names</label>\n                  <select multiple className={className(\"form-control\")+\" \"+className(\"multiparties-container\")} \n                        value={partyAbbrs.map((partyAbbr, partyIdx) => partyAbbr+\"\\x22\"+partyIecIds[partyIdx])}\n                        onChange={onPartyAbbrsChange.bind(this)} >\n                        {\n                            allParties && allParties.map((party, partyIdx) => {\n                                return <option \n                                            key={partyIdx} \n                                            value={party[\"abbreviation\"]+ \"\\x22\" + party[\"iecId\"]}>\n                                                {formatPartyName(party[\"name\"])}\n                                    </option>\n                            })\n                        }\n                  </select>\n              </div>\n              <div className={className(\"form-group\")}>\n                <button type=\"button\" onClick={this.onPreview.bind(this)} className={className(\"btn\") + \" \" + className(\"btn-primary\") }>Preview</button>\n              </div>\n              <div className={className(\"form-group\")}>\n                <button type=\"button\" \n                    onClick={this.onExportAsPNG.bind(this)} \n                    className={className(\"btn\") + \" \" + className(\"btn-primary\") }>Export As PNG</button>\n              </div>\n              <div className={className(\"form-group\")}>\n                  <label>Embed Code</label>\n                  <div className={className(\"embedcode\")}>\n                    <span>{`\n                    <div id=\"${elementId}\"></div>\n                    <script src=\"${DOMAIN}/embed/embed.js\"></script>\n                    <script>showTVVoteCompBarchart(\n                        document.getElementById(\"${elementId}\"),\n                        {\n                            stylesheetFor: \"${stylesheetFor}\",\n                            eventDescriptions: ${JSON.stringify(eventDescriptions)},\n                            regionType: \"${regionType}\",\n                            provinceName: \"${provinceName}\",\n                            muniName: \"${muniName}\",\n                            muniCode: \"${muniCode}\",\n                            iecId: \"${iecId}\",\n                            partyAbbrs: ${JSON.stringify(partyAbbrs)},\n                            partyIecIds: ${JSON.stringify(partyIecIds)}\n                        });</script>`.replace(/(\\r\\n|\\n|\\r)/gm, \"\")}</span>\n                  </div>\n              </div>\n          </div>\n        )\n    }\n}\nexport default BarChartEmbed;\n","import React, {Component} from \"react\";\nimport EmbedBase from \"../embedBase\";\nimport config from \"../../config\";\nimport bootstrapStyles from \"bootstrap/dist/css/bootstrap.min.css\";\nimport styles from \"./barchartEmbed.css\";\nimport events from \"../../events\";\nimport {\n    getElectionEvents,\n    getProvincesData,\n    getPartyColors,\n} from \"../../api\";\n\nimport {\n    triggerCustomEvent,\n    formatPartyName,\n    onPartyAbbrsChange\n} from \"../../utils\";\n\n\nvar provincesData = getProvincesData();\n\nfunction className(originClassName) {\n    return bootstrapStyles[originClassName] || styles[originClassName] || originClassName;\n}\n\nclass BarChartEmbed extends EmbedBase {\n    \n    constructor(props) {\n        super(props);\n        this.state = {\n            elementId: \"root\",\n            eventDescriptions: [\n                // \"National Elections 1999\",\n                // \"Provincial Elections 1999\",\n                // \"14 Apr 2004 National Election\",\n                // \"14 Apr 2004 Provincial Election\",\n                \"22 Apr 2009 National Election\",\n                // \"22 Apr 2009 Provincial Election\",\n                \"2014 National Election\",\n                // \"2014 Provincial Election\",\n                // \"2019 NATIONAL ELECTION\",\n                // \"2019 PROVINCIAL ELECTION\",\n            ],\n            regionType: \"province\",\n            provinceName: \"Western Cape\",\n            muniName: \"\",\n            muniCode: \"\",\n            iecId: \"\",\n            partyAbbrs: [\"ANC\", \"DA\", \"EFF\"],\n            partyIecIds: [null, null, null],\n\n            electionEvents: [],\n            allParties: [],\n            stylesheetFor: \"web\",\n            componentID: 15\n        }\n    }\n\n    componentDidMount() {\n        var self = this;\n        getElectionEvents()\n            .then(function(data) {\n                var electionEvents = data[\"data\"][\"allEvents\"]\n                self.setState({electionEvents});\n            }).catch(error => console.error(error));\n        getPartyColors()\n            .then(function(data) {\n                var allParties = data[\"data\"][\"allParties\"][\"edges\"].map(edge => edge[\"node\"])\n                allParties = allParties.filter((thing, index, self) =>\n                    index === self.findIndex((t) => (\n                        t.iecId == thing.iecId\n                    ))\n                )\n                self.setState({allParties});         \n            }).catch(error => console.error(error))\n    }\n\n    componentDidUpdate() {\n    }\n\n    onEventDescriptionChange(e) {\n        var options = e.target.options;\n        var values = [];\n        for (var i = 0, l = options.length; i < l; i++) {\n          if (options[i].selected) {\n            values.push(options[i].value);\n          }\n        }\n        values = values.slice(0, 2);\n        this.setState({\n            eventDescriptions: values \n        })\n    }\n\n    onRegionTypeChange(e) {\n        var newState = {regionType: e.target.value};\n        this.setState(newState);\n    }\n\n    onPreview(e) {\n        triggerCustomEvent(events.CHART_PREVIEW, this.state);\n    }\n\n    onExportAsPNG(e) {\n        triggerCustomEvent(events.EXPORT_PNG, this.state);\n    }\n      \n    render () {\n        var DOMAIN = config.DOMAIN;\n        var {\n            elementId,\n            stylesheetFor,\n            eventDescriptions,\n            regionType,            \n            provinceName,\n            muniName,\n            muniCode,\n            iecId,\n            partyAbbrs,\n            partyIecIds,\n            electionEvents,\n            allParties\n        } = this.state;\n\n        var curProvinceData = provincesData.filter(item => item.name == provinceName)[0];\n        return (\n          <div>\n            <h3> Race For Votes Comparison Bar Chart Embed Script Generation </h3>\n            <div className={className(\"form-group\")}>\n                <label>Element ID </label>\n                <input \n                    type=\"text\" \n                    className={className(\"form-control\")} \n                    placeholder=\"chart-container\"\n                    onChange={e => this.setState({elementId: e.target.value})}\n                    />\n            </div>\n            <div className={className(\"form-group\")}>\n                  <label>Stylesheet</label>\n                  <select className={className(\"form-control\")} \n                     value={stylesheetFor}\n                     onChange={e => this.setState({stylesheetFor: e.target.value})}>\n                        <option value=\"tv\">TV</option>\n                        <option value=\"web\">Web</option>\n                        <option value=\"none\">None</option>\n                  </select>\n            </div>\n              <div className={className(\"form-group\")}>\n                  <label>Region Type </label>\n                  <select className={className(\"form-control\")} \n                     value={regionType}\n                     onChange={this.onRegionTypeChange.bind(this)}>\n                        <option value=\"national\">national</option>\n                        <option value=\"province\">province</option>\n                        <option value=\"municipality\">municipality</option>\n                        <option value=\"municipality-vd\">voting district</option>\n                  </select>\n              </div>\n              <div className={className(\"form-group\")}>\n                  <label>First Event </label>\n                  <select className={className(\"form-control\")} \n                     value={eventDescriptions[0]}\n                     onChange={(event) => {\n                        this.setState({eventDescriptions: [event.target.value, eventDescriptions[1]]})\n                    }}>\n                        {\n                            electionEvents.map(item => {\n                                return (<option key={item.description} value={item.description}>{item.description}</option>)\n                            })\n                        }\n                  </select>\n              </div>\n              <div className={className(\"form-group\")}>\n                  <label>Second Event </label>\n                  <select className={className(\"form-control\")} \n                     value={eventDescriptions[1]}\n                     onChange={(event) => {\n                         this.setState({eventDescriptions: [eventDescriptions[0], event.target.value]})\n                     }}>\n                        {\n                            electionEvents.map(item => {\n                                return (<option key={item.description} value={item.description}>{item.description}</option>)\n                            })\n                        }\n                  </select>\n              </div>\n              {\n                  (regionType != \"national\") && \n                    <div className={className(\"form-group\")}>\n                        <label>Province Name</label>\n                        <select className={className(\"form-control\")} \n                            value={provinceName}\n                            onChange={e => this.setState({provinceName: e.target.value})} >\n                            <option value=\"\">Select ...</option>\n                            {\n                                provincesData && provincesData.map(province => {\n                                    return <option key={province.name} value={province.name}>{province.name}</option>\n                                })\n                            }\n                        </select>\n                    </div>\n              }\n              {\n                  (regionType == \"municipality\") &&\n                    <div className={className(\"form-group\")}>\n                        <label>Municipality Name</label>\n                        <select className={className(\"form-control\")} \n                            value={muniName}\n                            onChange={e => this.setState({muniName: e.target.value})} >\n                            <option value=\"\">Select ...</option>\n                            {\n                                curProvinceData && curProvinceData.munis.map(muni => {\n                                    return <option key={muni.muniName} value={muni.muniName}>{muni.muniName}</option>\n                                })\n                            }\n                        </select>\n                    </div>\n              }\n              {\n                  (regionType == \"municipality-vd\") &&\n                    <div className={className(\"form-group\")}>\n                        <label>Municipality Code</label>\n                        <input \n                            type=\"text\" \n                            className={className(\"form-control\")} \n                            placeholder=\"CPT\"\n                            value={muniCode}\n                            onChange={e => this.setState({muniCode: e.target.value})} \n                            />\n                    </div>\n              }\n              {\n                  (regionType == \"municipality-vd\") &&\n                    <div className={className(\"form-group\")}>\n                        <label>Voting District Number</label>\n                        <input \n                            type=\"text\" \n                            className={className(\"form-control\")} \n                            placeholder=\"97860055\"\n                            value={iecId}\n                            onChange={e => this.setState({iecId: e.target.value})} \n                            />\n                    </div>\n              }\n              <div className={className(\"form-group\")}>\n                  <label>Party Names</label>\n                  <select multiple className={className(\"form-control\")+\" \"+className(\"multiparties-container\")} \n                        value={partyAbbrs.map((partyAbbr, partyIdx) => partyAbbr+\"\\x22\"+partyIecIds[partyIdx])}\n                        onChange={onPartyAbbrsChange.bind(this)} >\n                        {\n                            allParties && allParties.map((party, partyIdx) => {\n                                return <option \n                                            key={partyIdx} \n                                            value={party[\"abbreviation\"]+ \"\\x22\" + party[\"iecId\"]}>\n                                                {formatPartyName(party[\"name\"])}\n                                    </option>\n                            })\n                        }\n                  </select>\n              </div>\n              <div className={className(\"form-group\")}>\n                <button type=\"button\" onClick={this.onPreview.bind(this)} className={className(\"btn\") + \" \" + className(\"btn-primary\") }>Preview</button>\n              </div>\n              <div className={className(\"form-group\")}>\n                <button type=\"button\" \n                    onClick={this.onExportAsPNG.bind(this)} \n                    className={className(\"btn\") + \" \" + className(\"btn-primary\") }>Export As PNG</button>\n              </div>\n              <div className={className(\"form-group\")}>\n                  <label>Embed Code</label>\n                  <div className={className(\"embedcode\")}>\n                    <span>{`\n                    <div id=\"${elementId}\"></div>\n                    <script src=\"${DOMAIN}/embed/embed.js\"></script>\n                    <script>showTVVoteSwingBarchart(\n                        document.getElementById(\"${elementId}\"),\n                        {\n                            stylesheetFor: \"${stylesheetFor}\",\n                            eventDescriptions: ${JSON.stringify(eventDescriptions)},\n                            regionType: \"${regionType}\",\n                            provinceName: \"${provinceName}\",\n                            muniName: \"${muniName}\",\n                            muniCode: \"${muniCode}\",\n                            iecId: \"${iecId}\",\n                            partyAbbrs: ${JSON.stringify(partyAbbrs)},\n                            partyIecIds: ${JSON.stringify(partyIecIds)}\n                        });</script>`.replace(/(\\r\\n|\\n|\\r)/gm, \"\")}</span>\n                  </div>\n              </div>\n          </div>\n        )\n    }\n}\nexport default BarChartEmbed;\n","import React, {Component} from \"react\";\nimport EmbedBase from \"../embedBase\";\nimport config from \"../../config\";\nimport bootstrapStyles from \"bootstrap/dist/css/bootstrap.min.css\";\nimport styles from \"./piechartEmbed.css\";\nimport events from \"../../events\";\nimport {\n    getElectionEvents,\n    getProvincesData\n} from \"../../api\";\nimport {\n    triggerCustomEvent\n} from \"../../utils\";\n\nvar provincesData = getProvincesData();\n\nfunction className(originClassName) {\n    return bootstrapStyles[originClassName] || styles[originClassName] || originClassName;\n}\n\nclass PieChartEmbed extends EmbedBase {\n    \n    constructor(props) {\n        super(props);\n        this.state = {\n            elementId: \"root\",\n            eventDescription: \"2014 National Election\",\n            regionType: \"national\",\n            provinceName: \"\",\n            muniName: \"\",\n            muniCode: \"\",\n            iecId: \"\",\n\n            electionEvents: [],\n            stylesheetFor: \"web\",\n            componentID: 17\n        }\n    }\n\n    componentDidMount() {\n        var self = this;\n        getElectionEvents()\n            .then(function(data) {\n                var electionEvents = data[\"data\"][\"allEvents\"]\n                self.setState({electionEvents});\n            }).catch(error => console.error(error));\n    }\n\n    componentDidUpdate() {\n    }\n\n    onEventDescriptionChange(e) {\n        if (e.target.value.toLowerCase().indexOf(\"national\") == -1) {\n            this.setState({eventDescription: e.target.value, regionType: \"province\", provinceName: \"Western Cape\"});\n        } else {\n            this.setState({\n                eventDescription: e.target.value,\n                regionType: \"national\"\n            });\n        }\n    }\n\n    onRegionTypeChange(e) {\n        var newState = {regionType: e.target.value};\n        this.setState(newState);\n    }\n\n    onPreview(e) {\n        triggerCustomEvent(events.CHART_PREVIEW, this.state);\n    }\n    \n    onExportAsPNG(e) {\n        triggerCustomEvent(events.EXPORT_PNG, this.state);\n    }\n\n    render () {\n        var DOMAIN = config.DOMAIN;\n        var {\n            elementId,\n            stylesheetFor,\n            eventDescription,\n            regionType,            \n            provinceName,\n            muniName,\n            muniCode,\n            iecId,\n            electionEvents\n        } = this.state;\n\n        var curProvinceData = provincesData.filter(item => item.name == provinceName)[0];\n        return (\n          <div>\n            <h3> Race For Seat Bar Chart Embed Script Generation </h3>\n            <div className={className(\"form-group\")}>\n                <label>Element ID </label>\n                <input \n                    type=\"text\" \n                    className={className(\"form-control\")} \n                    placeholder=\"chart-container\"\n                    onChange={e => this.setState({elementId: e.target.value})}\n                    />\n            </div>\n            <div className={className(\"form-group\")}>\n                  <label>Stylesheet</label>\n                  <select className={className(\"form-control\")} \n                     value={stylesheetFor}\n                     onChange={e => this.setState({stylesheetFor: e.target.value})}>\n                        <option value=\"tv\">TV</option>\n                        <option value=\"web\">Web</option>\n                        <option value=\"none\">None</option>\n                  </select>\n            </div>\n              <div className={className(\"form-group\")}>\n                  <label>Event </label>\n                  <select className={className(\"form-control\")} \n                     value={eventDescription}\n                     onChange={this.onEventDescriptionChange.bind(this)}>\n                        {\n                            electionEvents.map(item => {\n                                return (<option key={item.description} value={item.description}>{item.description}</option>)\n                            })\n                        }\n                  </select>\n              </div>\n              {\n                  (regionType != \"national\") && \n                    <div className={className(\"form-group\")}>\n                        <label>Province Name</label>\n                        <select className={className(\"form-control\")} \n                            value={provinceName}\n                            onChange={e => this.setState({provinceName: e.target.value})} >\n                            <option value=\"\">Select ...</option>\n                            {\n                                provincesData && provincesData.map(province => {\n                                    return <option key={province.name} value={province.name}>{province.name}</option>\n                                })\n                            }\n                        </select>\n                    </div>\n              }\n              {\n                  (regionType == \"municipality\") &&\n                    <div className={className(\"form-group\")}>\n                        <label>Municipality Name</label>\n                        <select className={className(\"form-control\")} \n                            value={muniName}\n                            onChange={e => this.setState({muniName: e.target.value})} >\n                            <option value=\"\">Select ...</option>\n                            {\n                                curProvinceData && curProvinceData.munis.map(muni => {\n                                    return <option key={muni.muniName} value={muni.muniName}>{muni.muniName}</option>\n                                })\n                            }\n                        </select>\n                    </div>\n              }\n              {\n                  (regionType == \"municipality-vd\") &&\n                    <div className={className(\"form-group\")}>\n                        <label>Municipality Code</label>\n                        <input \n                            type=\"text\" \n                            className={className(\"form-control\")} \n                            placeholder=\"CPT\"\n                            value={muniCode}\n                            onChange={e => this.setState({muniCode: e.target.value})} \n                            disabled={(regionType==\"national\")}/>\n                    </div>\n              }\n              {\n                  (regionType == \"municipality-vd\") &&\n                    <div className={className(\"form-group\")}>\n                        <label>Voting District Number</label>\n                        <input \n                            type=\"text\" \n                            className={className(\"form-control\")} \n                            placeholder=\"97860055\"\n                            value={iecId}\n                            onChange={e => this.setState({iecId: e.target.value})} \n                            disabled={(regionType==\"national\")}/>\n                    </div>\n              }\n              <div className={className(\"form-group\")}>\n                <button type=\"button\" onClick={this.onPreview.bind(this)} className={className(\"btn\") + \" \" + className(\"btn-primary\") }>Preview</button>\n              </div>\n              <div className={className(\"form-group\")}>\n                <button type=\"button\" \n                    onClick={this.onExportAsPNG.bind(this)} \n                    className={className(\"btn\") + \" \" + className(\"btn-primary\") }>Export As PNG</button>\n              </div>\n              <div className={className(\"form-group\")}>\n                  <label>Embed Code</label>\n                  <div className={className(\"embedcode\")}>\n                    <span>{`\n                    <div id=\"${elementId}\"></div>\n                    <script src=\"${DOMAIN}/embed/embed.js\"></script>\n                    <script>showSeatDonutChart(\n                        document.getElementById(\"${elementId}\"),\n                        {\n                            stylesheetFor: \"${stylesheetFor}\",\n                            eventDescription: \"${eventDescription}\",\n                            regionType: \"${regionType}\",\n                            provinceName: \"${provinceName}\",\n                            muniName: \"${muniName}\",\n                            muniCode: \"${muniCode}\",\n                            iecId: \"${iecId}\"\n                        });</script>`.replace(/(\\r\\n|\\n|\\r)/gm, \"\")}</span>\n                  </div>\n              </div>\n          </div>\n        )\n    }\n}\nexport default PieChartEmbed;","import React, {Component} from \"react\";\nimport EmbedBase from \"../embedBase\";\nimport config from \"../../config\";\nimport bootstrapStyles from \"bootstrap/dist/css/bootstrap.min.css\";\nimport styles from \"./barchartEmbed.css\";\nimport events from \"../../events\";\nimport {\n    getElectionEvents,\n    getProvincesData,\n    getPartyColors,\n} from \"../../api\";\n\nimport {\n    triggerCustomEvent,\n    formatPartyName,\n} from \"../../utils\";\n\n\nvar provincesData = getProvincesData();\n\nfunction className(originClassName) {\n    return bootstrapStyles[originClassName] || styles[originClassName] || originClassName;\n}\n\nclass BarChartEmbed extends EmbedBase {\n    \n    constructor(props) {\n        super(props);\n        this.state = {\n            elementId: \"root\",\n            eventDescriptions: [\n                // \"National Elections 1999\",\n                // \"Provincial Elections 1999\",\n                // \"14 Apr 2004 National Election\",\n                // \"14 Apr 2004 Provincial Election\",\n                \"22 Apr 2009 National Election\",\n                \"22 Apr 2009 Provincial Election\",\n                \"2014 National Election\",\n                \"2014 Provincial Election\",\n                // \"2019 NATIONAL ELECTION\",\n                // \"2019 PROVINCIAL ELECTION\",\n            ],\n            regionType: \"province\",\n            provinceName: \"Western Cape\",\n            muniName: \"\",\n            muniCode: \"\",\n            iecId: \"\",\n\n            numPartiesSplitNatProv: 3,\n\n            electionEvents: [],\n            allParties: [],\n            stylesheetFor: \"web\",\n            componentID: 18\n        }\n    }\n\n    componentDidMount() {\n        var self = this;\n        getElectionEvents()\n            .then(function(data) {\n                var electionEvents = data[\"data\"][\"allEvents\"]\n                self.setState({electionEvents});\n            }).catch(error => console.error(error));\n        getPartyColors()\n            .then(function(data) {\n                var allParties = data[\"data\"][\"allParties\"][\"edges\"].map(edge => edge[\"node\"])\n                allParties = allParties.filter((thing, index, self) =>\n                    index === self.findIndex((t) => (\n                        t.iecId == thing.iecId\n                    ))\n                )\n                self.setState({allParties});         \n            }).catch(error => console.error(error))\n    }\n\n    componentDidUpdate() {\n    }\n\n    onEventDescriptionChange(e) {\n        var options = e.target.options;\n        var values = [];\n        for (var i = 0, l = options.length; i < l; i++) {\n          if (options[i].selected) {\n            values.push(options[i].value);\n          }\n        }\n        this.setState({\n            eventDescriptions: values \n        })\n    }\n\n    onRegionTypeChange(e) {\n        var newState = {regionType: e.target.value};\n        this.setState(newState);\n    }\n\n    onPreview(e) {\n        triggerCustomEvent(events.CHART_PREVIEW, this.state);\n    }\n\n    onExportAsPNG(e) {\n        triggerCustomEvent(events.EXPORT_PNG, this.state);\n    }\n      \n    render () {\n        var DOMAIN = config.DOMAIN;\n        var {\n            elementId,\n            stylesheetFor,\n            eventDescriptions,\n            regionType,            \n            provinceName,\n            muniName,\n            muniCode,\n            iecId,\n            electionEvents,\n            allParties,\n            numPartiesSplitNatProv\n        } = this.state;\n\n        var curProvinceData = provincesData.filter(item => item.name == provinceName)[0];\n        return (\n          <div>\n            <h3> Race For Votes Comparison Bar Chart Embed Script Generation </h3>\n            <div className={className(\"form-group\")}>\n                <label>Element ID </label>\n                <input \n                    type=\"text\" \n                    className={className(\"form-control\")} \n                    placeholder=\"chart-container\"\n                    onChange={e => this.setState({elementId: e.target.value})}\n                    />\n            </div>\n\n            <div className={className(\"form-group\")}>\n                  <label>Stylesheet</label>\n                  <select className={className(\"form-control\")} \n                     value={stylesheetFor}\n                     onChange={e => this.setState({stylesheetFor: e.target.value})}>\n                        <option value=\"tv\">TV</option>\n                        <option value=\"web\">Web</option>\n                        <option value=\"none\">None</option>\n                  </select>\n            </div>\n              <div className={className(\"form-group\")}>\n                  <label>Events </label>\n                  <select multiple className={className(\"form-control\")+\" \"+className(\"multievent-container\")} \n                     value={eventDescriptions}\n                     onChange={this.onEventDescriptionChange.bind(this)}>\n                        {\n                            electionEvents.map(item => {\n                                return (<option key={item.description} value={item.description}>{item.description}</option>)\n                            })\n                        }\n                  </select>\n              </div>\n              <div className={className(\"form-group\")}>\n                  <label>Region Type </label>\n                  <select className={className(\"form-control\")} \n                     value={regionType}\n                     onChange={this.onRegionTypeChange.bind(this)}>\n                        <option value=\"province\">province</option>\n                  </select>\n              </div>\n              {\n                  (regionType != \"national\") && \n                    <div className={className(\"form-group\")}>\n                        <label>Province Name</label>\n                        <select className={className(\"form-control\")} \n                            value={provinceName}\n                            onChange={e => this.setState({provinceName: e.target.value})} >\n                            <option value=\"\">Select ...</option>\n                            {\n                                provincesData && provincesData.map(province => {\n                                    return <option key={province.name} value={province.name}>{province.name}</option>\n                                })\n                            }\n                        </select>\n                    </div>\n              }\n              {\n                  (regionType == \"municipality\") &&\n                    <div className={className(\"form-group\")}>\n                        <label>Municipality Name</label>\n                        <select className={className(\"form-control\")} \n                            value={muniName}\n                            onChange={e => this.setState({muniName: e.target.value})} >\n                            <option value=\"\">Select ...</option>\n                            {\n                                curProvinceData && curProvinceData.munis.map(muni => {\n                                    return <option key={muni.muniName} value={muni.muniName}>{muni.muniName}</option>\n                                })\n                            }\n                        </select>\n                    </div>\n              }\n              {\n                  (regionType == \"municipality-vd\") &&\n                    <div className={className(\"form-group\")}>\n                        <label>Municipality Code</label>\n                        <input \n                            type=\"text\" \n                            className={className(\"form-control\")} \n                            placeholder=\"CPT\"\n                            value={muniCode}\n                            onChange={e => this.setState({muniCode: e.target.value})} \n                            />\n                    </div>\n              }\n              {\n                  (regionType == \"municipality-vd\") &&\n                    <div className={className(\"form-group\")}>\n                        <label>Voting District Number</label>\n                        <input \n                            type=\"text\" \n                            className={className(\"form-control\")} \n                            placeholder=\"97860055\"\n                            value={iecId}\n                            onChange={e => this.setState({iecId: e.target.value})} \n                            />\n                    </div>\n              }\n              <div className={className(\"form-group\")}>\n                  <label>Number Of Parties</label>\n                  <input \n                    type=\"number\" \n                    className={className(\"form-control\")} \n                    placeholder=\"5\"\n                    value={numPartiesSplitNatProv}\n                    onChange={e => this.setState({numPartiesSplitNatProv: e.target.value})} />\n              </div>\n\n              <div className={className(\"form-group\")}>\n                <button type=\"button\" onClick={this.onPreview.bind(this)} className={className(\"btn\") + \" \" + className(\"btn-primary\") }>Preview</button>\n              </div>\n              <div className={className(\"form-group\")}>\n                <button type=\"button\" \n                    onClick={this.onExportAsPNG.bind(this)} \n                    className={className(\"btn\") + \" \" + className(\"btn-primary\") }>Export As PNG</button>\n              </div>\n              <div className={className(\"form-group\")}>\n                  <label>Embed Code</label>\n                  <div className={className(\"embedcode\")}>\n                    <span>{`\n                    <div id=\"${elementId}\"></div>\n                    <script src=\"${DOMAIN}/embed/embed.js\"></script>\n                    <script>showSplitNatProvChart(\n                        document.getElementById(\"${elementId}\"),\n                        {\n                            stylesheetFor: \"${stylesheetFor}\",\n                            eventDescriptions: ${JSON.stringify(eventDescriptions)},\n                            regionType: \"${regionType}\",\n                            provinceName: \"${provinceName}\",\n                            muniName: \"${muniName}\",\n                            muniCode: \"${muniCode}\",\n                            iecId: \"${iecId}\",\n                        });</script>`.replace(/(\\r\\n|\\n|\\r)/gm, \"\")}</span>\n                  </div>\n              </div>\n          </div>\n        )\n    }\n}\nexport default BarChartEmbed;\n","export {default as BarChartEmbed} from \"./BarChart/barchartEmbed\";\nexport {default as RaceForSeatsBarChartEmbed} from \"./RaceForSeatBarchart/barchartEmbed\";\nexport {default as SpoiltBarChartEmbed} from \"./SpoiltBarchart/barchartEmbed\";\nexport {default as MapEmbed} from \"./Map/mapEmbed\";\nexport {default as TurnoutMapEmbed} from \"./TurnoutMap/mapEmbed\";\nexport {default as TurnoutBarChartEmbed} from \"./TurnoutBarchart/barchartEmbed\";\nexport {default as BarchartWithNavMapEmbed} from \"./BarchartWithNavMap/barchartMapEmbed\";\nexport {default as QuickResultsWidgetEmbed} from \"./QuickResultsWidget/quickResultsWidgetEmbed\";\nexport {default as ProgVotesCountPiechartEmbed} from \"./ProgVotesCountPiechart/piechartEmbed\";\nexport {default as RaceForSeatsComparisonBarChartEmbed} from \"./SeatCompBarchart/barchartEmbed\";\nexport {default as SeatHorseShoeChartEmbed} from \"./SeatHorseShoeChart/horseshoeEmbed\";\nexport {default as VoteComparisonBarchartEmbed} from \"./VoteCompBarchart/barchartEmbed\";\n\nexport {default as TVSeatCompBarchartEmbed} from \"./TVSeatCompBarchart/barchartEmbed\";\nexport {default as TVSeatSwingBarchartEmbed} from \"./TVSeatSwingBarchart/barchartEmbed\";\nexport {default as TVVoteCompBarchartEmbed} from \"./TVVoteCompBarchart/barchartEmbed\";\nexport {default as TVVoteSwingBarchartEmbed} from \"./TVVoteSwingBarchart/barchartEmbed\";\n\nexport {default as SeatDonutChartEmbed} from \"./RaceForSeatDonut/piechartEmbed\";\nexport {default as SplitNatProvEmbed} from \"./SplitNatProv/barchartEmbed\";","import * as d3 from \"d3\";\nimport {createTooltip, createSvg, createErrorText} from \"../../utils\";\nimport { type } from \"os\";\nimport config from \"../../config\";\nimport {\n  formatPartyName\n} from \"../../utils\";\n\nexport function Chart(container, width, height, className, options) {\n\n\n  if (!options) {\n    options = {};\n  } \n  if (!options.chartType) {\n    options.chartType = \"Race For Votes\";\n  }\n  if (!options.yAxisLabel) {\n    options.yAxisLabel = \"PERCENTAGE VOTES\";\n  }\n  if (!options.yValue) {\n    options.yValue = function(d) {\n      return d.percOfVotes;\n    }\n  }\n  if (!options.yValueFormat) {\n    options.yValueFormat = function(value) {\n      return value + '%';\n    }\n  }\n\n  var offset = {\n    width: 70,\n    height: 20\n  }\n\n  width = 700;\n  height = 200;\n\n  var predefColors = [\"blue\", \"yellow\", \"red\"];\n\n  var svg = createSvg(container, width + offset.width, height + offset.height + (options.showLegend ? 50 : 0))\n  var tooltipDiv = createTooltip(className);\n\n  var x = d3.scaleBand()\n    .rangeRound([offset.width, width])\n\n  var y = d3.scaleLinear()\n    .rangeRound([height, offset.height]);\n  \n    svg.append(\"g\")\n      .attr(\"transform\", \"translate(20,\"+(height/2+offset.height/2)+\")\")\n      .append(\"text\")\n      .attr(\"class\", className(config.CSS_PREFIX + \"percentage-label\"))\n      .attr(\"transform\", \"rotate(-90)\")\n      .text(options.yAxisLabel)\n      .attr(\"text-anchor\", \"middle\");\n  \n    svg.append(\"g\")\n      .attr(\"class\", \"x axis\")\n      .attr(\"transform\", \"translate(0,\" + height + \")\")\n  \n    svg.append(\"g\")\n      .attr(\"class\", \"y axis\")\n      .attr(\"transform\", \"translate(\" + offset.width +\", 0)\")\n  \n    var barSvg = svg.append(\"g\")\n      .attr(\"class\", className(\"bar-container\"));\n    var barTextSvg = svg.append(\"g\")\n      .attr(\"class\", className(\"bartext-container\"));\n\n    var errorText = createErrorText(svg, width / 2, height / 2);\n\n    this.draw = function(chartData, colorsData) {\n\n      if (!chartData) {\n        errorText.text(\"chart data is not available\");\n        barSvg.selectAll('rect').remove();\n        barTextSvg.selectAll('text').remove();\n        return;\n      } else {\n        errorText.text(\"\");\n      }\n      var partyColorByName = {};\n      var partyAbbrByName = {};\n\n      if (options.noXaxisByParty) {\n\n      } else {\n        if (colorsData && colorsData[\"data\"][\"allParties\"][\"edges\"]) {\n          colorsData[\"data\"][\"allParties\"][\"edges\"].forEach(edge => {\n            partyColorByName[edge.node.name] = edge.node.colour;\n            partyAbbrByName[edge.node.name] = edge.node.abbreviation;\n          })\n        }\n      }\n\n      function getFillColorFromPartyName(partyName, i) {\n        return partyColorByName[partyName.split(\"/\")[0]] || predefColors[i%predefColors.length];\n      }\n\n      function getFillColor(d, i) {\n        if (options.noXaxisByParty) {\n          if (typeof colorsData == \"object\")\n            return colorsData[d.name];\n          if (typeof colorsData == \"function\")\n            return colorsData(d, i);\n          return colorsData;\n        } else {\n          return getFillColorFromPartyName(d.partyInfo.name, i);\n        }\n      }\n\n      function getTooltipText(d, i) {\n        if (options.noXaxisByParty) {\n          return d.name + \" : \" + options.yValueFormat(options.yValue(d));\n        } else {\n          return formatPartyName(d.partyInfo.name) + \" : \" + options.yValueFormat(options.yValue(d));\n        }\t\n      }\n\n      x.domain(chartData.map(function (d) {\n          return d.name;\n        }));\n      var minMaxY = [0, 100];\n      if (options.dynamicYAxisFromValues) {\n        var maxValue = d3.max(chartData, function(d) { return parseFloat(options.yValue(d)); });\n        if (options.customizeDynamicMaxValue) {\n          minMaxY[1] = options.customizeDynamicMaxValue(maxValue);\n        } else {\n          minMaxY[1] = maxValue + 1;\n        }\n      }\n      y.domain(minMaxY);\n  \n      svg.select(\".x.axis\").transition().duration(300).call(d3.axisBottom(x));\n      svg.select(\".y.axis\").transition().duration(300).call(d3.axisLeft(y)\n        .ticks(6)\n        .tickFormat(function(d) { return options.yValueFormat(d); })\n      )\n  \n      var bars = barSvg.selectAll(`.${className(\"bar\")}`).data(chartData);\n  \n      bars.exit()\n        .transition()\n        .duration(300)\n        .attr(\"y\", function(d) {\n          return y(0);\n        })\n        .attr(\"height\", 0)\n        .style(\"fill-opacity\", 1e-6)\n        .remove();\n  \n      bars.enter()\n          .append(\"rect\")\n          .attr(\"class\", (d) => className(\"bar\") + \" bar_\" + d.name)\n          .attr(\"x\", function (d) {\n            return x(d.name)+x.bandwidth()/20;\n          })\n          .attr(\"width\", x.bandwidth()*9/10)\n          .attr(\"fill\", (d,i) => getFillColor(d, i))\n          .on(\"mousemove\", function(d, i) {\t\t\n              d3.select(this)\n                .attr(\"opacity\", 0.8);\n              tooltipDiv.transition()\t\t\n                  .duration(200)\t\t\n                  .style(\"opacity\", .9);\t\t\n              tooltipDiv.html(getTooltipText(d, i))\n                  .style(\"left\", (d3.event.pageX) + \"px\")\t\t\n                  .style(\"top\", (d3.event.pageY - 28) + \"px\");\t\n              })\t\t\t\t\t\n          .on(\"mouseout\", function(d) {\t\t\n              d3.select(this)\n                .attr(\"opacity\", 1);\n              tooltipDiv.transition()\t\t\n                  .duration(200)\t\t\n                  .style(\"opacity\", 0);\t\n          })\n          .attr(\"y\", function(d) {\n            return y(0);\n          })\n          .attr(\"height\", 0)        \n  \n        barSvg.selectAll(`.${className(\"bar\")}`).data(chartData)\n          .attr(\"fill\", (d, i) => getFillColor(d, i))\n          .attr(\"x\", function (d) {\n            return x(d.name)+x.bandwidth()/20;\n          })\n          .attr(\"width\", x.bandwidth()*9/10)\n          .transition()\n          .duration(300)\n          .attr(\"y\", function (d) {\n            return y(Number(options.yValue(d)));\n          })\n          .attr(\"height\", function (d) {\n            return height - y(Number(options.yValue(d)));\n          })\n          \n        var barTexts = barTextSvg.selectAll(`.${className(\"bartext\")}`).data(chartData);\n  \n        barTexts.exit()\n          .transition()\n          .duration(300)\n          .attr(\"y\", function(d) {\n            return y(0) - 5;\n          })\n          .style(\"fill-opacity\", 1e-6)\n          .remove();\n  \n        barTexts.enter().append(\"text\")\n          .attr(\"class\", className(\"bartext\"))\n          .attr(\"x\", function (d) {\n            return x(d.name)+x.bandwidth()/2;\n          })\n          .attr(\"text-anchor\", \"middle\")\n          .attr(\"font-size\", \"12px\")\n          .attr(\"y\", function(d) {\n            return y(0) - 5;\n          })\n        barTextSvg.selectAll(`.${className(\"bartext\")}`).data(chartData)\n          .attr(\"x\", function (d) {\n            return x(d.name)+x.bandwidth()/2;\n          })\n          .text(function(d) {\n            return options.yValueFormat(options.yValue(d));\n          })\n          .transition()\n          .duration(300)\n          .attr(\"y\", function (d) {\n            return y(Number(options.yValue(d))) - 5;\n          })\n        \n        if (options.showLegend) {\n          var parties = [];\n          var partyIecIds = [];\n          chartData.forEach(({partyInfo}) => {\n            var party = partyInfo.name;\n            if (partyIecIds.indexOf(partyInfo.iecId) === -1 && partyInfo.iecId) {\n                parties.push(party);\n                partyIecIds.push(partyInfo.iecId);\n            }\n          })\n          \n          function getLegendXY(i) {\n            \n            var xydata = [offset.width + (i%5)*100, height + 30 + parseInt(i/5) * 40];\n            if (parties.length < 6) {\n              xydata[0] += 100 * ( 6 - parties.length) / 2;\n            }\n            return xydata;\n          }\n          svg.selectAll(`.${className(\"legend\")}`).remove();\n          var legends = svg.selectAll(`.${className(\"legend\")}`)\n              .data(parties)\n              .enter()\n              .append('g')\n              .attr(\"class\", className(\"legend\"))\n              .attr('transform', (d, i) => \"translate(\" + getLegendXY(i) + \")\")\n          legends\n              .append(\"rect\")\n              .attr('width', 10)\n              .attr('height', 10)\n              .attr('x', 0)\n              .attr('y', 0)\n              .attr(\"fill\", (party, i) => {\n                  return getFillColorFromPartyName(party);\n              })\n          legends.append('text')\n              .attr('x', 30)\n              .attr('y', 10)\n              .style('font-size', '12px')\n              .text(party => partyAbbrByName[party])\n        }\n        \n    }\n    this.destroy = function() {\n      svg.remove();\n    }\n  }","import React, { Component } from \"react\";\nimport * as d3 from \"d3\";\nimport styles from \"../BarChart/barchart.css\";\nimport {Chart} from \"../BarChart/d3barchart\";\nimport svgToPng from \"save-svg-as-png\";\n\nimport events from \"../../events\";\nimport config from \"../../config\";\nimport {\n  getVotesDataM,\n  getPartyColors\n} from \"../../api\";\nimport {\n  parseVotesData,\n  getRegionName,\n  fetchDataFromOBJ,\n  handleRegionChange,\n  triggerCustomEvent,\n  fetchLocationTrackFromVDdata\n} from \"../../utils\";\n\nvar dataRefreshTime = 30 * 1000;\n\nfunction className(originName) {\n  return styles[originName] || originName;\n}\n\nfunction cn(originName) {\n  return className(config.CSS_PREFIX + originName);\n}\n\nvar partyColorsData;\n\nvar chartOptions = {\n  chartType: \"Race For Votes\",\n  yAxisLabel: \"PERCENTAGE VOTES\",\n  dynamicYAxisFromValues: true,\n  customizeDynamicMaxValue: (maxVal) => Math.min(100, maxVal * 1.5),\n  yValue: d => d.percOfVotes,\n  yValueFormat: value => value + '%',\n}\n\nclass BarChart extends Component {\n\n    constructor(props) {\n      super(props);\n      this.state = {\n        comp: \"votes-default\",\n        numParties: 5,\n        eventDescription: \"2019 National Election\",\n        regionType: \"national\",\n        provinceName: \"\",\n        muniName: \"\",\n        muniCode: \"\",\n        iecId: \"\",\n        stylesheetFor: \"web\",\n        componentID: 1\n      }\n\n      fetchDataFromOBJ(this.state, props);\n\n      this.chart = null;\n      this.refreshIntervalID = 0;\n      this.exportAsPNG = this.exportAsPNG.bind(this);\n      this.exportAsPNGUri = this.exportAsPNGUri.bind(this);\n      this.handleRegionChange = handleRegionChange.bind(this);\n      this.handlePreviewEvent = this.handlePreviewEvent.bind(this);\n    }\n  \n    componentDidMount() {\n\n      var self = this;\n      this.draw(this.getContainer(), this.state);\n      this.refreshIntervalID = setInterval(() => {\n        self.draw(self.getContainer(), self.state)\n      }, dataRefreshTime);\n      document.addEventListener(events.EXPORT_PNG, this.exportAsPNG);\n      document.addEventListener(events.REGION_CHANGE, this.handleRegionChange);\n      document.addEventListener(events.CHART_PREVIEW, this.handlePreviewEvent);\n    }\n\n    componentDidUpdate() {\n      this.draw(this.getContainer(), this.state)\n    }\n\n    componentWillUnmount() {\n      if (this.chart) {\n        this.chart.destroy();\n        this.chart = null;\n      }\n      document.removeEventListener(events.EXPORT_PNG, this.exportAsPNG);\n      document.removeEventListener(events.REGION_CHANGE, this.handleRegionChange);\n      document.removeEventListener(events.CHART_PREVIEW, this.handlePreviewEvent);\n      clearInterval(this.refreshIntervalID);\n    }\n\n    exportAsPNG(event) {\n      var targetState = event.detail;\n      if (targetState.componentID !== this.state.componentID)\n        return;\n      svgToPng.saveSvgAsPng(this.refs.vizcontainer.childNodes[0], `race-for-votes-barchart(${getRegionName(this.state)}).png`);\n    }\n\n    exportAsPNGUri() {\n      var self = this;\n      return new Promise(function(resolve, reject) {\n        svgToPng.svgAsPngUri(self.refs.vizcontainer.childNodes[0], {}, function(uri) {\n          resolve(uri.split(',')[1]);\n        });\n      });\n    }\n\n    handlePreviewEvent(event) {\n      var newState = event.detail;\n      if (this.chart)\n        this.chart.destroy();\n      this.chart = new Chart(this.getContainer(), null, null, className, chartOptions);\n      this.setState(newState)\n    }\n\n    getContainer() {\n        console.log(d3);\n      return d3.select(this.refs.vizcontainer)\n    }\n      \n    render () {\n      const {\n        stylesheetFor,\n        componentID\n      } = this.state;\n\n      return (\n          <div className={cn(\"barchart\") + \" \" + cn(`stylesheet-${stylesheetFor}`)}>\n            {\n              componentID !== -1000 && <div className={cn(\"chart-title\")}>{chartOptions.chartType} ({getRegionName(this.state)}): </div>\n            }\n            <div \n              ref=\"vizcontainer\" \n              className={cn(\"chart-body\")} \n              ></div>\n          </div>\n        )\n    }\n\n    draw(container, props) {\n      var self = this;\n      var votesDataLoader = getVotesDataM(props);\n      var dataLoaders = [votesDataLoader];\n\n      if (!partyColorsData) {\n        var partyColorsLoader = getPartyColors();\n        dataLoaders.push(partyColorsLoader);\n      }\n\n      Promise.all(dataLoaders).then(function(values){ \n        var votesData = values[0];\n        partyColorsData = partyColorsData || values[1];          \n        self.drawGraph(container, props, votesData, partyColorsData);\n      }).catch(error => console.error(error));\n    }\n\n    drawGraph(container, props, data, partyColorsData) {\n        var chartData = parseVotesData(data, props);\n\n        if (props.comp === \"votes-myvd\") {\n          var newState;\n          if (chartData) {\n            newState = fetchLocationTrackFromVDdata(data);\n          } else {\n            newState = {iecId: \"\"}\n          }\n          var needUpdate = false;\n          Object.keys(newState).forEach(key => {\n            if (props[key] !== newState[key]) {\n              needUpdate = true;\n            }\n          })\n          if (needUpdate) {\n            triggerCustomEvent(events.REGION_CHANGE, newState);\n          }\n        }\n       \n        if (!this.chart)\n          this.chart = new Chart(container, null, null, className, chartOptions);\n        this.chart.draw(chartData, partyColorsData);\n    }\n}\n\nexport default BarChart;\n","import React, { Component } from \"react\";\nimport * as d3 from \"d3\";\nimport styles from \"../BarChart/barchart.css\";\nimport {Chart} from \"../BarChart/d3barchart\";\nimport svgToPng from \"save-svg-as-png\";\n\nimport events from \"../../events\";\nimport config from \"../../config\";\nimport {\n  getSeatsData,\n  getPartyColors\n} from \"../../api\";\nimport {\n  parseSeatsData,\n  getNationOrProvinceName2,\n  fetchDataFromOBJ,\n  handleRegionChange\n} from \"../../utils\";\n\n\nvar dataRefreshTime = 30 * 1000;\nvar chartOptions = {\n  chartType: 'Race For Seats',\n  yAxisLabel: 'Seats Count',\n  dynamicYAxisFromValues: true,\n  yValue: function(d) {\n    return d.seats;\n  },\n  yValueFormat: function(seats) {\n    return seats;\n  } \n};\n\nfunction className(originName) {\n  return styles[originName] || originName;\n}\n\nfunction cn(originName) {\n  return className(config.CSS_PREFIX + originName);\n}\n\nvar partyColorsData;\n\nclass BarChart extends Component {\n\n    constructor(props) {\n      super(props);\n      this.state = {\n        numParties: 5,\n        eventDescription: \"2019 National Election\",\n        regionType: \"national\",\n        provinceName: \"\",\n        muniName: \"\",\n        muniCode: \"\",\n        iecId: \"\",\n        stylesheetFor: \"web\",\n        componentID: 6\n      }\n      fetchDataFromOBJ(this.state, props);\n\n      this.chart = null;\n      this.refreshIntervalID = 0;\n      this.exportAsPNG = this.exportAsPNG.bind(this);\n      this.exportAsPNGUri = this.exportAsPNGUri.bind(this);\n      this.handleRegionChange = handleRegionChange.bind(this);\n      this.handlePreviewEvent = this.handlePreviewEvent.bind(this);\n    }\n  \n    componentDidMount() {\n      var self = this;\n      this.draw(this.getContainer(), this.state);\n      this.refreshIntervalID = setInterval(() => {\n        self.draw(self.getContainer(), self.state)\n      }, dataRefreshTime);\n      document.addEventListener(events.EXPORT_PNG, this.exportAsPNG);\n      document.addEventListener(events.REGION_CHANGE, this.handleRegionChange);\n      document.addEventListener(events.CHART_PREVIEW, this.handlePreviewEvent);\n    }\n\n    componentDidUpdate() {\n      this.draw(this.getContainer(), this.state)\n    }\n\n    componentWillUnmount() {\n      this.chart = null;\n      document.removeEventListener(events.EXPORT_PNG, this.exportAsPNG);\n      document.removeEventListener(events.REGION_CHANGE, this.handleRegionChange);\n      document.removeEventListener(events.CHART_PREVIEW, this.handlePreviewEvent);\n      clearInterval(this.refreshIntervalID);\n    }\n\n    exportAsPNGUri() {\n      var self = this;\n      return new Promise(function(resolve, reject) {\n        svgToPng.svgAsPngUri(self.refs.vizcontainer.childNodes[0], {}, function(uri) {\n          resolve(uri.split(',')[1]);\n        });\n      });\n    }\n\n    exportAsPNG(event) {\n      var targetState = event.detail;\n      if (targetState.componentID != this.state.componentID)\n        return;\n      svgToPng.saveSvgAsPng(this.refs.vizcontainer.childNodes[0], `race-for-seats-barchart(${getNationOrProvinceName2(this.state)}).png`);\n    }\n\n    handlePreviewEvent(event) {\n      var newState = event.detail;\n      if (this.chart)\n        this.chart.destroy();\n        \n      this.chart = new Chart(this.getContainer(), null, null, className, chartOptions);\n      this.setState(newState)\n    }\n\n    getContainer() {\n      return d3.select(this.refs.vizcontainer)\n    }\n      \n    render () {\n\n      const {\n        stylesheetFor,\n        componentID\n      } = this.state;\n      return (\n          <div className={cn(\"barchart\") + \" \" + cn(`stylesheet-${stylesheetFor}`)}>\n            {\n                componentID != -1000 && <div className={cn(\"chart-title\")}>{chartOptions.chartType} ({getNationOrProvinceName2(this.state)}): </div>\n            }\n            <div \n              ref=\"vizcontainer\" \n              className={cn(\"chart-body\")} \n              ></div>\n          </div>\n        )\n    }\n\n    draw(container, props) {\n      var self = this;\n      var seatsDataLoader = getSeatsData(props);\n      var dataLoaders = [seatsDataLoader];\n\n      if (!partyColorsData) {\n        var partyColorsLoader = getPartyColors();\n        dataLoaders.push(partyColorsLoader);\n      }\n\n      Promise.all(dataLoaders).then(function(values){ \n        var seatsData = values[0];\n        partyColorsData = partyColorsData || values[1];         \n        self.drawGraph(container, props, seatsData, partyColorsData);\n      }).catch(error => console.error(error));\n    }\n\n    drawGraph(container, props, data, partyColorsData) {\n        var chartData = parseSeatsData(data, props);\n        if (!this.chart)\n          this.chart = new Chart(container, null, null, className, chartOptions);\n        \n        this.chart.draw(chartData, partyColorsData);\n    }\n}\n\nexport default BarChart;\n","import React, { Component } from \"react\";\nimport * as d3 from \"d3\";\nimport styles from \"../BarChart/barchart.css\";\nimport {Chart} from \"../BarChart/d3barchart\";\nimport svgToPng from \"save-svg-as-png\";\n\nimport events from \"../../events\";\nimport config from \"../../config\";\nimport {\n  getSpoiltData\n} from \"../../api\";\nimport {\n  parseSpoiltVotesData,\n  getRegionName,\n  fetchDataFromOBJ,\n  handleRegionChange\n} from \"../../utils\";\n\n\nvar dataRefreshTime = 30 * 1000;\nvar chartOptions = {\n  chartType: 'Spoilt vs Valid Votes',\n  yAxisLabel: 'PERCENTAGE VOTES',\n  noXaxisByParty: true,\n  yValue: d => d.percent,\n  yValueFormat: value => value + '%'\n};\n\nfunction className(originName) {\n  return styles[originName] || originName;\n}\n\nfunction cn(originName) {\n  return className(config.CSS_PREFIX + originName);\n}\n\nclass BarChart extends Component {\n\n    constructor(props) {\n      super(props);\n      var self = this;\n      this.state = {\n        numParties: 5,\n        eventDescription: \"2019 National Election\",\n        regionType: \"national\",\n        provinceName: \"\",\n        muniName: \"\",\n        muniCode: \"\",\n        iecId: \"\",\n        stylesheetFor: \"web\",\n        componentID: 9\n      }\n      fetchDataFromOBJ(this.state, props);\n\n      this.chart = null;\n      this.refreshIntervalID = 0;\n      this.exportAsPNG = this.exportAsPNG.bind(this);\n      this.exportAsPNGUri = this.exportAsPNGUri.bind(this);\n      this.handleRegionChange = handleRegionChange.bind(this);\n      this.handlePreviewEvent = this.handlePreviewEvent.bind(this);\n    }\n  \n    componentDidMount() {\n      var self = this;\n      this.draw(this.getContainer(), this.state);\n      this.refreshIntervalID = setInterval(() => {\n        self.draw(self.getContainer(), self.state)\n      }, dataRefreshTime);\n      document.addEventListener(events.EXPORT_PNG, this.exportAsPNG);\n      document.addEventListener(events.REGION_CHANGE, this.handleRegionChange);\n      document.addEventListener(events.CHART_PREVIEW, this.handlePreviewEvent);\n    }\n\n    componentDidUpdate() {\n      this.draw(this.getContainer(), this.state)\n    }\n\n    componentWillUnmount() {\n      this.chart = null;\n      document.removeEventListener(events.EXPORT_PNG, this.exportAsPNG);\n      document.removeEventListener(events.REGION_CHANGE, this.handleRegionChange);\n      document.removeEventListener(events.CHART_PREVIEW, this.handlePreviewEvent);\n      clearInterval(this.refreshIntervalID);\n    }\n\n    exportAsPNGUri() {\n      var self = this;\n      return new Promise(function(resolve, reject) {\n        svgToPng.svgAsPngUri(self.refs.vizcontainer.childNodes[0], {}, function(uri) {\n          resolve(uri.split(',')[1]);\n        });\n      });\n    }\n\n    exportAsPNG(event) {\n      var targetState = event.detail;\n      if (targetState.componentID !== this.state.componentID)\n        return;\n      svgToPng.saveSvgAsPng(this.refs.vizcontainer.childNodes[0], `spoilt-barchart(${getRegionName(this.state)}).png`);\n    }\n\n    handlePreviewEvent(event) {\n      var newState = event.detail;\n      if (this.chart)\n        this.chart.destroy();\n      this.chart = new Chart(this.getContainer(), null, null, className, chartOptions);\n      this.setState(newState)\n    }\n\n    getContainer() {\n      return d3.select(this.refs.vizcontainer)\n    }\n      \n    render () {\n      const {\n        stylesheetFor,\n        componentID\n      } = this.state;\n      return (\n          <div className={cn(\"barchart\") + \" \" + cn(`stylesheet-${stylesheetFor}`)}>\n            {\n                componentID !== -1000 && <div className={cn(\"chart-title\")}>{chartOptions.chartType} ({getRegionName(this.state)}): </div>\n            }\n            <div \n              ref=\"vizcontainer\" \n              className={cn(\"chart-body\")} \n              ></div>\n          </div>\n        )\n    }\n\n    draw(container, props) {\n      var self = this;\n      var spoiltDataLoader = getSpoiltData(props);\n      var dataLoaders = [spoiltDataLoader];\n\n      Promise.all(dataLoaders).then(function(values){ \n        var spoiltData = values[0];\n        self.drawGraph(container, props, spoiltData);\n      }).catch(error => console.error(error));\n    }\n\n    drawGraph(container, props, data) {\n        var chartData = parseSpoiltVotesData(data, props);\n        if (!this.chart)\n          this.chart = new Chart(container, null, null, className, chartOptions);\n        \n        this.chart.draw(chartData, {\n          \"Valid\": \"rgb(0,255,0)\",\n          \"Spoilt\": \"rgb(255,0,0)\"\n        });\n    }\n}\n\nexport default BarChart;\n","import React, { Component } from \"react\";\nimport * as d3 from \"d3\";\nimport * as topojson from \"topojson-client\";\nimport config from \"../../config\";\nimport polylabel from \"polylabel\";\nimport styles from \"../Map/map.css\";\nimport events from \"../../events\";\nimport ReactLoading from \"react-loading\";\nimport {\n    getMainParties,\n    getPartyColors,\n} from \"../../api\";\nimport {\n  parseMainPartyData,\n  getRegionName,\n  getSubRegionName,\n  createTooltip,\n  getMunicipalityCode,\n  fixMapLabelIntersect,\n  triggerCustomEvent,\n  getMunicipalityiecId,\n  getRegionFileName,\n  fetchDataFromOBJ\n} from \"../../utils\";\n\nvar dataRefreshTime = 30 * 1000;\n\nvar regionColor = \"#9c9c9c\";\nvar regionBorderColor = \"#eeeeee\";\nvar partyColorsData;\n\nfunction className(originName) {\n  return styles[originName] || originName;\n}\n\nfunction cn(originName) {\n  return className(config.CSS_PREFIX + originName);\n}\n\nclass Map extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            eventDescription: \"2019 National Election\",\n            regionType: \"national\",\n            provinceName: \"\",\n            muniName: \"\",\n            muniCode: \"\",\n            iecId: \"\",\n            disableNavigation: false,\n            stylesheetFor: \"web\",\n            componentID: 3\n        }\n\n        fetchDataFromOBJ(this.state, props);\n\n        this.refreshIntervalID = 0;\n        this.exportAsPNGUri = this.exportAsPNGUri.bind(this);\n        this.exportAsPNG = this.exportAsPNG.bind(this);\n        this.handlePreviewEvent = this.handlePreviewEvent.bind(this);\n    }\n\n    draw(container, props) {\n        this.drawGraph(container, props);\n    }\n\n    componentDidMount() {\n        var self = this;\n        this.draw(this.getContainer(), this.state);\n        this.refreshIntervalID = setInterval(() => {\n          self.draw(self.getContainer(), self.state)\n        }, dataRefreshTime);\n\n        document.addEventListener(events.EXPORT_PNG, this.exportAsPNG);\n        document.addEventListener(events.MAP_PREVIEW, this.handlePreviewEvent);\n    }\n\n    componentWillUnmount() {\n      this.getContainer().selectAll(\"svg\").remove();\n      document.removeEventListener(events.EXPORT_PNG, this.exportAsPNG);\n      document.removeEventListener(events.MAP_PREVIEW, this.handlePreviewEvent);\n    }\n\n    // componentWillReceiveProps(newProps) {\n    //     var newState = JSON.parse(JSON.stringify(this.state));\n    //     fetchDataFromOBJ(newState, newProps);\n    //     this.setState(newState);\n    // }\n\n    componentDidUpdate(prevProps, prevState) {\n        if (JSON.stringify(prevState) !== JSON.stringify(this.state))\n            this.draw(this.getContainer(), this.state)\n    }\n\n    exportAsPNGUri() {\n        var self = this;\n        return new Promise(function(resolve, reject) {\n            var rect = {width: 950, height: 890};\n            var rendercanvas = document.createElement('canvas');\n            rendercanvas.setAttribute(\"width\", rect.width);\n            rendercanvas.setAttribute(\"height\", rect.height);\n\n            window.canvg(rendercanvas, self.refs.vizcontainer.innerHTML, {\n                ignoreDimensions: true,\n                scaleWidth: rect.width,\n                scaleHeight: rect.height\n            });\n            resolve(rendercanvas.toDataURL(\"image/png;base64\").split(',')[1])\n        });\n    }\n\n    exportAsPNG(event) {\n        var targetState = event.detail;\n        if (targetState.componentID !== this.state.componentID)\n          return;\n        var rect = {width: 950, height: 890};\n        var rendercanvas = document.createElement('canvas');\n        rendercanvas.setAttribute(\"width\", rect.width);\n        rendercanvas.setAttribute(\"height\", rect.height);\n\n        if (!window.canvg) {\n            return console.error(\"canvg module not available\");\n        }\n        window.canvg(rendercanvas, this.refs.vizcontainer.innerHTML, {\n            ignoreDimensions: true,\n            scaleWidth: rect.width,\n            scaleHeight: rect.height\n        });\n\n\n        var canvas = rendercanvas, filename = `race-for-votes-map(${getRegionName(this.state)}).png`;\n        var lnk = document.createElement(\"a\"), e;\n\n        lnk.download = filename;\n        lnk.href = canvas.toDataURL(\"image/png;base64\");\n\n        if (document.createEvent) {\n            e = document.createEvent(\"MouseEvents\");\n            e.initMouseEvent(\"click\", true, true, window,\n                            0, 0, 0, 0, 0, false, false, false,\n                            false, 0, null);\n            lnk.dispatchEvent(e);\n        } else if (lnk.fireEvent) {\n            lnk.fireEvent(\"onclick\");\n        }\n    }\n\n    handlePreviewEvent(event) {\n        if (!this.state.disableNavigation) {\n            var newState = event.detail;\n            this.setState(newState)\n        }\n    }\n\n    getContainer() {\n        return d3.select(this.refs.vizcontainer)\n    }\n\n    getLoadingSpinner() {\n        return d3.select(this.refs.loading)\n    }\n      \n    render () {\n        var {\n            stylesheetFor,\n            componentID\n        } = this.state;\n        return (\n            <div className={className(\"map-widget\")+\" \"+cn(`stylesheet-${stylesheetFor}`)}>\n                {\n                    componentID !== -1000 && <div className={cn(\"map-title\")}>{getRegionName(this.state)}</div>\n                }\n\n                <div ref=\"vizcontainer\" className={className(\"map\")}></div>\n                <div className={cn(\"loading-spinner\")} ref=\"loading\">\n                    <ReactLoading type={\"spin\"} color={\"#777\"} height={100} width={100} />\n                </div>\n            </div>\n        )\n    }\n\n    drawGraph(container, props) {\n        var self = this;\n\n        var fullRouteGeoJsonFile = config.DOMAIN + \"/mapdata/\" + getRegionFileName(self.state);\n\n        self.getLoadingSpinner()\n            .style(\"display\", \"block\")\n            .transition()\n            .duration(200)\n            .style(\"opacity\", 1);\n\n        var tooltipDiv = createTooltip(className);\n\n        var w = 900;\n        var h = 800;\n        var bottomMargin = 90;// for legend\n        var rightMargin = 50;\n\n        container.selectAll(\"svg\").remove();\n        var svg = container.append(\"svg\")\n            .attr(\"preserveAspectRatio\", \"xMinYMin meet\")\n            .attr(\"viewBox\", \"0 0 \" + (w+rightMargin) + \" \" + (h+bottomMargin))\n            .classed(\"svg-content\", true);\n\n        var geoJsonLoader = d3.json(fullRouteGeoJsonFile);\n        var mainPartiesDataLoader = getMainParties(props);\n        // var dataLoaders = [geoJsonLoader, mainPartiesDataLoader];\n        var dataLoaders = [mainPartiesDataLoader];\n\n        if (!partyColorsData) {\n          var partyColorsLoader = getPartyColors();\n          dataLoaders.push(partyColorsLoader);\n        }\n\n        geoJsonLoader.then(function(value) {\n            var geoJsonData = value;\n            Promise.all(dataLoaders).then(function(values){ \n                var locationToMainParty = parseMainPartyData(values[0], props);\n                partyColorsData = partyColorsData || values[1];  \n    \n                var partyColorByName = {};\n                var partyAbbrByName = {};\n                if (partyColorsData && partyColorsData[\"data\"][\"allParties\"][\"edges\"]) {\n                  partyColorsData[\"data\"][\"allParties\"][\"edges\"].forEach(edge => {\n                    partyColorByName[edge.node.name] = edge.node.colour;\n                    partyAbbrByName[edge.node.name] = edge.node.abbreviation;\n                  })\n                }            \n    \n                function getFillColorFromPartyName(partyName) {\n                  if (!partyName)\n                    return regionColor;\n                  return partyColorByName[partyName.split(\"/\")[0]] || regionColor;\n                }\n    \n                function getMainPartyName(d, i) {\n                    var partyName;\n                    var regionType = self.state.regionType;\n                    if (regionType === \"national\") {\n                        var provinceName = d.properties.SPROVINCE;\n                        partyName = locationToMainParty[provinceName];\n                    } else if (regionType === \"province\") {\n                        var muniCode = getMunicipalityCode(d.properties);\n                        partyName = locationToMainParty[muniCode];\n                    } else if (regionType === \"municipality\"){// \"municipality\"\n                        var iecId = getMunicipalityiecId(d.properties);\n                        partyName = locationToMainParty[iecId];\n                    } else {// \"municipality-vd\"\n                        var iecId = getMunicipalityiecId(d.properties);\n                        partyName = locationToMainParty[iecId];\n                    }\n                    return partyName;\n                }\n                function getMainPartyColorFromRegion(d, i) {\n                    var partyName = getMainPartyName(d, i);\n                    var partyColor = getFillColorFromPartyName(partyName);\n                    return partyColor;\n                }\n    \n                var jsonDataFeatures;\n                if (fullRouteGeoJsonFile.indexOf(\".topojson\") !== -1) {//topojson is used for munis and muni-vds\n                    var regionType = self.state.regionType\n                    if (regionType == \"municipality\") {\n                        if (!geoJsonData.objects[self.state.muniCode])\n                            return;\n                        geoJsonData = topojson.feature(geoJsonData, geoJsonData.objects[self.state.muniCode]);\n                    } else { // \"municipality-vd\"\n                        if (!geoJsonData.objects[self.state.iecId])\n                            return;\n                        geoJsonData = topojson.feature(geoJsonData, geoJsonData.objects[self.state.iecId]);\n                    }\n                }\n    \n                jsonDataFeatures = geoJsonData.features;\n    \n                var projection = d3.geoMercator().fitSize([w, h], geoJsonData);\n                var path = d3.geoPath().projection(projection);\n    \n                // fill region with regionColor\n                svg.selectAll(`.${className(\"region\")}`)\n                    .data(jsonDataFeatures)\n                    .enter()\n                    .append(\"path\")\n                    .attr(\"class\", className(\"region\"))\n                    .attr(\"stroke\", regionBorderColor)\n                    .attr(\"fill\", getMainPartyColorFromRegion)\n                    .attr(\"id\", function(d, i) {\n                        return `region-${i}`;\n                    })\n                    .attr(\"d\", path);\n                \n                var parties = [];\n                var availableCnt = [];\n                jsonDataFeatures.forEach((d, i) => {\n                    var party = getMainPartyName(d, i);\n                    if (parties.indexOf(party) == -1) {\n                        parties.push(party);\n                        availableCnt.push(1);\n                    } else {\n                        availableCnt[parties.indexOf(party)] ++;\n                    }\n                })\n    \n                parties.sort(function(a, b){\n                    return availableCnt[parties.indexOf(b)] - availableCnt[parties.indexOf(a)];\n                })\n    \n                function getLegendXY(i) {\n                    return [(i%5)*150, h + 10 + parseInt(i/5) * 40];\n                }\n                var legends = svg.selectAll(`.${className(\"legend\")}`)\n                    .data(parties)\n                    .enter()\n                    .append('g')\n                    .attr(\"class\", className(\"legend\"))\n                    .attr('transform', (d, i) => \"translate(\" + getLegendXY(i) + \")\")\n                legends\n                    .append(\"rect\")\n                    .attr('width', 20)\n                    .attr('height', 20)\n                    .attr('x', 0)\n                    .attr('y', 0)\n                    .attr(\"fill\", (party, i) => {\n                        return getFillColorFromPartyName(party);\n                    })\n                legends.append('text')\n                    .attr('x', 30)\n                    .attr('y', 16)\n                    .text(party => partyAbbrByName[party])\n                \n                if (self.state.regionType.indexOf(\"municipality\") == -1) {\n                    svg.selectAll(\".place-label\")\n                        .data(jsonDataFeatures)\n                    .enter().append(\"text\")\n                        .attr(\"class\", \"place-label\")\n                        .attr(\"font-size\", \"12px\")\n                        .attr(\"transform\", function(d) { \n                            var center, projectionCenter;\n                            if (d.geometry.type === \"Polygon\") {\n                                center = polylabel(d.geometry.coordinates);\n                                projectionCenter = projection(center);\n                                projectionCenter[1] -= 12;\n                                return \"translate(\" + projectionCenter + \")\"; \n                            } else { //\"MultiPolygon\"\n                                center = polylabel(d.geometry.coordinates[0]);\n                                projectionCenter = projection(center);\n                                projectionCenter[1] -= 5;\n                                return \"translate(\" + projectionCenter + \")\"; \n                            }\n                        })\n                        .attr(\"dy\", \".35em\")\n                        .style(\"text-anchor\", \"middle\")\n                        .text(d => getSubRegionName(d.properties, self.state))\n                }\n    \n                if (self.state.regionType.indexOf(\"municipality\") == -1) {\n                    fixMapLabelIntersect();\n                }\n    \n                //hidden area for catching events\n                svg.selectAll(\".eventLayer\")\n                    .data(jsonDataFeatures)\n                .enter()\n                    .append(\"path\")\n                    .attr(\"d\", path)\n                    .attr(\"class\", \"eventLayer\")\n                    .attr(\"id\", function(d, i) {\n                        return `eventLayer-${i}`;\n                    })\n                    .attr(\"fill\", \"transparent\")\n                    .on(\"mouseover\", function(d, i) {\n                        d3.select(`#region-${i}`)\n                            .attr(\"stroke-width\", 3)\n                            .style(\"fill-opacity\", 0.8);\n                    })\n                    .on(\"mousemove\", function(d, i) {\t\n                        // if (self.state.regionType === \"municipality\") return;\n                        tooltipDiv.transition()\t\t\n                            .duration(200)\t\t\n                            .style(\"opacity\", 1);\n    \n                        var undefinedText;\n                        if (self.state.regionType === \"province\") {\n                            undefinedText = \"New municipality - no previous results available\"\n                        } else {\n                            undefinedText = \"New voting district - no previous results available\"\n                        }\n                        var mainPartyName = getMainPartyName(d, i);\n                        var subRegionName = getSubRegionName(d.properties, self.state);\n                        var tooltipText = (typeof mainPartyName !== \"undefined\")? \n                                    (subRegionName + \" : \" + mainPartyName) : undefinedText;\n    \n                        tooltipDiv.html(tooltipText)\t\n                            .style(\"left\", (d3.event.pageX) + \"px\")\t\t\n                            .style(\"top\", (d3.event.pageY - 28) + \"px\");\t\n                    })\n                    .on(\"mouseout\", function(d, i) {\n                        d3.select(`#region-${i}`)\n                            .attr(\"stroke-width\", 1)\n                            .style(\"fill-opacity\", 1);\n                        \n                        if (self.state.regionType === \"municipality\") return;\n    \n                        tooltipDiv.transition()\t\t\n                            .duration(200)\t\t\n                            .style(\"opacity\", 0);\t\n                    })\n                    .on(\"click\", function(d, i) {                  \n                        tooltipDiv.transition()\t\t\n                            .duration(200)\t\t\n                            .style(\"opacity\", 0);\t\n                        \n                        var regionType = self.state.regionType;\n                        var newState, event;\n                        if (regionType === \"national\") {\n                            newState = {\n                                regionType: \"province\",\n                                provinceName: d.properties.SPROVINCE\n                            }\n                        } else if (regionType === \"province\") {\n                            newState = {\n                                regionType: \"municipality\", \n                                provinceName: self.state.provinceName,\n                                muniName: d.properties.smunicipal,\n                                muniCode: getMunicipalityCode(d.properties),\n                            }\n                        } else if (regionType === \"municipality\"){ // \"municipality\"\n                            var newState = {\n                                regionType: \"municipality-vd\", \n                                provinceName: self.state.provinceName,\n                                muniName: self.state.muniName,\n                                muniCode: self.state.muniCode,\n                                iecId: getMunicipalityiecId(d.properties),\n                            }\n                        } else { // \"municipality-vd\"\n                            return;\n                        }\n                        triggerCustomEvent(events.REGION_CHANGE, newState);\n                        if (self.state.disableNavigation) {\n                            return;\n                        }\n                        self.setState(newState);\n                    })\n                if (!self.state.disableNavigation) {\n                    var fo = svg.append(\"foreignObject\")\n                        .attr(\"x\", 0)\n                        .attr(\"y\", 10)\n                        .attr(\"width\", 500)\n                        .attr(\"height\", 30)\n                        .attr(\"class\", className(\"map-controls\"))\n                    \n                    function setRegionType(regionType) {\n                        var newState;\n                        var newState = {\n                            regionType: self.state.regionType, \n                            provinceName: self.state.provinceName,\n                            muniName: self.state.muniName,\n                            muniCode: self.state.muniCode,\n                            iecId: self.state.iecId,\n                        }\n                        newState.regionType = regionType;\n                        triggerCustomEvent(events.REGION_CHANGE, newState);\n                        self.setState(newState);\n                    }\n    \n                    function appendSpan(foDiv, regionName, addSub) {\n                        if (addSub) foDiv.append(\"span\").html(\" > \");\n                        foDiv.append(\"span\")\n                            .style(\"height\", \"30px\")\n                            .style(\"cursor\", \"default\")\n                            .html(regionName);\n                    }\n    \n                    function appendLink(foDiv, regionName, regionType, addSub) {\n                        if (addSub) foDiv.append(\"span\").html(\" > \");\n                        foDiv.append(\"a\")\n                            .style(\"height\", \"30px\")\n                            .style(\"cursor\", \"pointer\")\n                            .html(regionName)\n                            .on(\"click\", function() {\n                                setRegionType(regionType);\n                            });\n                    }\n                    \n                    var foDiv = fo.append(\"xhtml:div\");\n                    var regionType = self.state.regionType;\n                    if (regionType == \"national\") {\n                        appendSpan(foDiv, \"South Africa\", false);\n                    } else {\n                        appendLink(foDiv, \"South Africa\", \"national\", false);\n                        if (regionType == \"province\") {\n                            appendSpan(foDiv, self.state.provinceName, true);\n                        } else {\n                            appendLink(foDiv, self.state.provinceName, \"province\", true);\n                            if (regionType == \"municipality\") {\n                                appendSpan(foDiv, self.state.muniCode, true);\n                            } else {\n                                appendLink(foDiv, self.state.muniCode, \"municipality\", true);\n                                appendSpan(foDiv, self.state.iecId, true);\n                            }\n                        }\n                    }\n                }\n                self.getLoadingSpinner()\n                    .style(\"display\", \"none\");\n            }).catch(error => {\n                console.error(error);\n                console.log(`failed to get data from server`);\n            })\n        }).catch(error => {\n            console.error(error);\n\n            self.getLoadingSpinner()\n                .style(\"display\", \"none\");\n            \n            if (self.state.disableNavigation) {\n                return;\n            }\n\n            var currentRegionName = getRegionName(this.state);\n            var regionType = self.state.regionType;\n            var newState, event;\n\n            var newState = {\n                regionType: self.state.regionType, \n                provinceName: self.state.provinceName,\n                muniName: self.state.muniName,\n                muniCode: self.state.muniCode,\n                iecId: self.state.iecId,\n            }\n            \n            if (regionType === \"province\") {\n                newState.regionType = \"national\";\n            } else if (regionType === \"municipality\") {\n                newState.regionType = \"province\";\n            } else if (regionType === \"municipality-vd\") {\n                newState.regionType = \"municipality\";\n            }\n\n            triggerCustomEvent(events.REGION_CHANGE, newState);\n            self.setState(newState);\n            setTimeout(() => {\n                if (regionType == \"national\" || regionType == \"province\") {\n                  console.log(`Can't get map data for $currentRegionName`)\n                } else {\n                    alert(`${currentRegionName} has been disestablished`); \n                }\n            }, 300);    \n        })\n    }\n}\n\nexport default Map;\n","import React, { Component } from \"react\";\nimport * as d3 from \"d3\";\nimport * as topojson from \"topojson-client\";\n\nimport config from \"../../config\";\nimport polylabel from \"polylabel\";\nimport styles from \"../Map/map.css\";\nimport events from \"../../events\";\nimport ReactLoading from \"react-loading\";\nimport {\n    getTurnoutData,\n    getProvincesData\n} from \"../../api\";\nimport {\n  parseTurnoutData,\n  parseCountingProgressDataForMap,\n  getRegionName,\n  getSubRegionName,\n  createTooltip,\n  getMunicipalityCode,\n  fixMapLabelIntersect,\n  triggerCustomEvent,\n  getMunicipalityiecId,\n  getRegionFileName,\n  fetchDataFromOBJ\n} from \"../../utils\";\n\nvar dataRefreshTime = 30 * 1000;\n\nvar regionColor = \"#9c9c9c\";\nvar regionBorderColor = \"#eeeeee\";\n\nfunction className(originName) {\n  return styles[originName] || originName;\n}\n\nfunction cn(originName) {\n  return className(config.CSS_PREFIX + originName);\n}\n\nvar provincesData = getProvincesData();\n\nclass Map extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            isTurnout: true,\n            disableNavigation: false,\n            eventDescription: \"2019 National Election\",\n            regionType: \"national\",\n            provinceName: \"\",\n            muniName: \"\",\n            muniCode: \"\",\n            iecId: \"\",\n            stylesheetFor: \"web\",\n            componentID: 11\n        }\n\n        fetchDataFromOBJ(this.state, props);\n        console.log(\"updatedState\", this.state, props);\n\n        this.refreshIntervalID = 0;\n        this.exportAsPNGUri = this.exportAsPNGUri.bind(this);\n        this.exportAsPNG = this.exportAsPNG.bind(this);\n        this.handlePreviewEvent = this.handlePreviewEvent.bind(this);\n    }\n\n    draw(container, props) {\n        this.drawGraph(container, props);\n    }\n\n    componentDidMount() {\n        var self = this;\n        this.draw(this.getContainer(), this.state);\n        this.refreshIntervalID = setInterval(() => {\n          self.draw(self.getContainer(), self.state)\n        }, dataRefreshTime);\n\n        document.addEventListener(events.EXPORT_PNG, this.exportAsPNG);\n        document.addEventListener(events.MAP_PREVIEW, this.handlePreviewEvent);\n    }\n\n    componentWillUnmount() {\n        this.getContainer().selectAll(\"svg\").remove();\n        document.removeEventListener(events.EXPORT_PNG, this.exportAsPNG);\n        document.removeEventListener(events.MAP_PREVIEW, this.handlePreviewEvent);\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        if (JSON.stringify(prevState) !== JSON.stringify(this.state))\n            this.draw(this.getContainer(), this.state)\n    }\n\n\n    exportAsPNGUri() {\n        var self = this;\n        return new Promise(function(resolve, reject) {\n            var rect = {width: 950, height: 890};\n            var rendercanvas = document.createElement('canvas');\n            rendercanvas.setAttribute(\"width\", rect.width);\n            rendercanvas.setAttribute(\"height\", rect.height);\n\n            if (!window.canvg) {\n                return reject(\"canvg module not available\");\n            }\n\n            window.canvg(rendercanvas, self.refs.vizcontainer.innerHTML, {\n                ignoreDimensions: true,\n                scaleWidth: rect.width,\n                scaleHeight: rect.height\n            });\n            resolve(rendercanvas.toDataURL(\"image/png;base64\").split(',')[1])\n        });\n    }\n\n    exportAsPNG(event) {\n        var targetState = event.detail;\n        if (targetState.componentID != this.state.componentID)\n          return;\n        var rect = {width: 950, height: 890};\n        var rendercanvas = document.createElement('canvas');\n        rendercanvas.setAttribute(\"width\", rect.width);\n        rendercanvas.setAttribute(\"height\", rect.height);\n\n        if (!window.canvg) {\n            return console.error(\"canvg module not available\");\n        }\n\n        window.canvg(rendercanvas, this.refs.vizcontainer.innerHTML, {\n            ignoreDimensions: true,\n            scaleWidth: rect.width,\n            scaleHeight: rect.height\n        });\n\n        var canvas = rendercanvas, filename = `turnout-map(${getRegionName(this.state)}).png`;\n        if (!this.state.isTurnout) {\n            filename = `counting-progress-map(${getRegionName(this.state)}).png`\n        }\n        var lnk = document.createElement(\"a\"), e;\n\n        lnk.download = filename;\n        lnk.href = canvas.toDataURL(\"image/png;base64\");\n\n        if (document.createEvent) {\n            e = document.createEvent(\"MouseEvents\");\n            e.initMouseEvent(\"click\", true, true, window,\n                            0, 0, 0, 0, 0, false, false, false,\n                            false, 0, null);\n            lnk.dispatchEvent(e);\n        } else if (lnk.fireEvent) {\n            lnk.fireEvent(\"onclick\");\n        }\n    }\n\n    handlePreviewEvent(event) {\n        var newState = event.detail;\n        this.setState(newState)\n    }\n\n    getContainer() {\n        return d3.select(this.refs.vizcontainer)\n    }\n\n    getLoadingSpinner() {\n        return d3.select(this.refs.loading)\n    }\n      \n    render () {\n        var {\n            disableNavigation,\n            stylesheetFor,\n            componentID\n        } = this.state;\n        return (\n            <div className={className(\"map-widget\") + \" \" + cn(`stylesheet-${stylesheetFor}`)}>\n                {\n                    componentID != -1000 && <div className={cn(\"map-title\")}>{getRegionName(this.state)}</div>\n                }\n                <div ref=\"vizcontainer\" className={className(\"map\")}></div>\n                <div className={cn(\"loading-spinner\")} ref=\"loading\">\n                    <ReactLoading type={\"spin\"} color={\"#777\"} height={100} width={100} />\n                </div>\n            </div>\n        )\n    }\n \n    drawGraph(container, props) {\n        var self = this;\n\n        var fullRouteGeoJsonFile = config.DOMAIN + \"/mapdata/\" + getRegionFileName(self.state);\n\n        self.getLoadingSpinner()\n            .style(\"display\", \"block\")\n            .transition()\n            .duration(200)\n            .style(\"opacity\", 1);\n\n        var tooltipDiv = createTooltip(className);\n\n        var w = 900;\n        var h = 800;\n        var bottomMargin = 90;// for legend\n        var rightMargin = 50;\n\n        container.selectAll(\"svg\").remove();\n        var svg = container.append(\"svg\")\n            .attr(\"preserveAspectRatio\", \"xMinYMin meet\")\n            .attr(\"viewBox\", \"0 0 \" + (w+rightMargin) + \" \" + (h+bottomMargin))\n            .classed(\"svg-content\", true);\n\n        var geoJsonLoader = d3.json(fullRouteGeoJsonFile);\n        var mainDataLoader = getTurnoutData(props);\n        var dataLoaders = [mainDataLoader];\n\n        geoJsonLoader.then(function(value) {\n            var geoJsonData = value;\n            Promise.all(dataLoaders).then(function(values){ \n                var locationToMainData;\n                if (self.state.isTurnout) {\n                    locationToMainData = parseTurnoutData(values[0], props);\n                } else {\n                    locationToMainData = parseCountingProgressDataForMap(values[0], props);\n                }\n                       \n    \n                function getMergedColorWithWhite(percent) {\n                    var originRGB = {\n                        R: 0,\n                        G: 255,\n                        B: 0\n                    }\n                    var mixedR = (originRGB.R * (percent) + 255 * (100-percent))/100;\n                    var mixedG = (originRGB.G * (percent) + 255 * (100-percent))/100;\n                    var mixedB = (originRGB.B * (percent) + 255 * (100-percent))/100;\n                    return `rgb(${mixedR},${mixedG},${mixedB})`;\n                }\n                function getFillColorFromTurnout(turnout) {\n                //   if (turnout > 65)\n                //     return \"#39711D\";//getMergedColorWithWhite(100);//\"rgb(0,165,138)\";\n                //   if (turnout >= 60)\n                //     return \"#458923\";//getMergedColorWithWhite(90);//\"rgb(4,68,95)\";\n                //   if (turnout >= 55)\n                //     return \"#53B025\";//getMergedColorWithWhite(80);//\"rgb(4,98,138)\";\n                //   if (turnout >= 50)\n                //     return \"#4BDC02\";//getMergedColorWithWhite(70);//\"rgb(4,117,164)\";\n                //   if (turnout >= 45)\n                //     return \"#7CE547\";//getMergedColorWithWhite(60);//\"rgb(4,136,191)\";\n                //   if (turnout >= 40)\n                //     return \"#93E968\";//getMergedColorWithWhite(50);//\"rgb(0,154,216)\";\n                //   if (turnout >= 35)\n                //     return \"#A6ED83\";//getMergedColorWithWhite(40);//\"rgb(77,174,224)\";\n                //   if (turnout >= 30)\n                //     return \"#C5F3AF\";//getMergedColorWithWhite(30);//\"rgb(124,194,231)\";\n                //   return \"#D3F6C3\";//regionColor;\n                    if (turnout > 90)\n                        return \"#39711D\";//getMergedColorWithWhite(100);//\"rgb(0,165,138)\";\n                    if (turnout >= 80)\n                        return \"#458923\";//getMergedColorWithWhite(90);//\"rgb(4,68,95)\";\n                    if (turnout >= 70)\n                        return \"#53B025\";//getMergedColorWithWhite(80);//\"rgb(4,98,138)\";\n                    if (turnout >= 60)\n                        return \"#7CE547\";//getMergedColorWithWhite(70);//\"rgb(4,117,164)\";\n                    if (turnout >= 50)\n                        return \"#C5F3AF\";//getMergedColorWithWhite(60);//\"rgb(4,136,191)\";\n                    return \"#D3F6C3\";//regionColor;\n                }\n\n                function getFillColorFromCountProg(countProg) {\n                    if (countProg >= 100)\n                      return \"#980043\";\n                    if (countProg >= 80)\n                      return \"#dd1c77\";\n                    if (countProg >= 60)\n                      return \"#df65b0\";\n                    if (countProg >= 40)\n                      return \"#c994c7\";\n                    if (countProg >= 20)\n                      return \"#d4b9da\";\n                    if (countProg <= 0)\n                      return \"#ffffff\";\n                    return \"#f1eef6\";\n                  }\n    \n                function getMainData(d, i) {\n                    var mainData;\n                    var regionType = self.state.regionType;\n                    if (regionType === \"national\") {\n                        var provinceName = d.properties.SPROVINCE;\n                        mainData = locationToMainData[provinceName];\n                    } else if (regionType === \"province\") {\n                        var muniCode = getMunicipalityCode(d.properties);\n                        mainData = locationToMainData[muniCode];\n                    } else if (regionType === \"municipality\"){// \"municipality\"\n                        var iecId = getMunicipalityiecId(d.properties);\n                        mainData = locationToMainData[iecId];\n                    } else {// \"municipality-vd\"\n                        var iecId = getMunicipalityiecId(d.properties);\n                        mainData = locationToMainData[iecId];\n                    }\n                    return mainData;\n                }\n                function getFillColorFromRegion(d, i) {\n                    if (self.state.isTurnout) {\n                        var turnout = getMainData(d, i);\n                        return getFillColorFromTurnout(turnout);\n                    } else {\n                        var countProg = getMainData(d, i);\n                        return getFillColorFromCountProg(countProg);\n                    }\n                }\n                var jsonDataFeatures;\n                if (fullRouteGeoJsonFile.indexOf(\".topojson\") !== -1) {//topojson is used for munis and muni-vds\n                    var regionType = self.state.regionType\n                    if (regionType == \"municipality\") {\n                        if (!geoJsonData.objects[self.state.muniCode])\n                            return;\n                        geoJsonData = topojson.feature(geoJsonData, geoJsonData.objects[self.state.muniCode]);\n                    } else { // \"municipality-vd\"\n                        if (!geoJsonData.objects[self.state.iecId])\n                            return;\n                        geoJsonData = topojson.feature(geoJsonData, geoJsonData.objects[self.state.iecId]);\n                    }\n                }\n    \n                jsonDataFeatures = geoJsonData.features;\n    \n                var projection = d3.geoMercator().fitSize([w, h], geoJsonData);\n                var path = d3.geoPath().projection(projection);\n    \n                // fill region with regionColor\n                svg.selectAll(`.${className(\"region\")}`)\n                    .data(jsonDataFeatures)\n                    .enter()\n                    .append(\"path\")\n                    .attr(\"class\", className(\"region\"))\n                    .attr(\"stroke\", regionBorderColor)\n                    .attr(\"fill\", getFillColorFromRegion)\n                    .attr(\"id\", function(d, i) {\n                        return `region-${i}`;\n                    })\n                    .attr(\"d\", path);\n\n                    \n                var turnoutColors = [{\n                    text: \"More than 90%\",\n                    turnout: 91\n                },{\n                    text: \"80% - 89%\",\n                    turnout: 81\n                },{\n                    text: \"70% - 79%\",\n                    turnout: 71\n                },{\n                    text: \"60% - 69%\",\n                    turnout: 61\n                },{\n                    text: \"50% - 59%\",\n                    turnout: 51\n                },{\n                    text: \"Less than 50%\",\n                    turnout: 40\n                }];\n\n                var countProgColors = [{\n                    text: \"100%\",\n                    countProg: 100\n                },{\n                    text: \"80% - 99%\",\n                    countProg: 81\n                },{\n                    text: \"60% - 79%\",\n                    countProg: 61\n                },{\n                    text: \"40% - 59%\",\n                    countProg: 41\n                },{\n                    text: \"20% - 39%\",\n                    countProg: 21\n                },{\n                    text: \"1% - 19%\",\n                    countProg: 1\n                },{\n                    text: \"0%\",\n                    countProg: 0\n                }];\n                \n                function getLegendXY(i) {\n                    return [(i%5)*170, h + 10 + parseInt(i/5) * 40];\n                }\n                var legends = svg.selectAll(`.${className(\"legend\")}`)\n                    .data(self.state.isTurnout? turnoutColors: countProgColors)\n                    .enter()\n                    .append('g')\n                    .attr(\"class\", className(\"legend\"))\n                    .attr('transform', (d, i) => \"translate(\" + getLegendXY(i) + \")\")\n                legends\n                    .append(\"rect\")\n                    .attr('width', 20)\n                    .attr('height', 20)\n                    .attr('x', 0)\n                    .attr('y', 0)\n                    .attr(\"fill\", (it) => {\n                        if (self.state.isTurnout)\n                            return getFillColorFromTurnout(it.turnout);\n                        return getFillColorFromCountProg(it.countProg);\n                    })\n                legends.append('text')\n                    .attr('x', 30)\n                    .attr('y', 16)\n                    .text(it => it.text)\n                \n                if (self.state.regionType !== \"municipality\") {\n                    svg.selectAll(\".place-label\")\n                        .data(jsonDataFeatures)\n                    .enter().append(\"text\")\n                        .attr(\"class\", \"place-label\")\n                        .attr(\"font-size\", \"12px\")\n                        .attr(\"transform\", function(d) { \n                            var center, projectionCenter;\n                            if (d.geometry.type === \"Polygon\") {\n                                center = polylabel(d.geometry.coordinates);\n                                projectionCenter = projection(center);\n                                projectionCenter[1] -= 12;\n                                return \"translate(\" + projectionCenter + \")\"; \n                            } else { //\"MultiPolygon\"\n                                center = polylabel(d.geometry.coordinates[0]);\n                                projectionCenter = projection(center);\n                                projectionCenter[1] -= 5;\n                                return \"translate(\" + projectionCenter + \")\"; \n                            }\n                        })\n                        .attr(\"dy\", \".35em\")\n                        .style(\"text-anchor\", \"middle\")\n                        .text(d => getSubRegionName(d.properties, self.state))\n                }\n    \n                if (self.state.regionType !== \"municipality\") {\n                    fixMapLabelIntersect();\n                }\n    \n                //hidden area for catching events\n                svg.selectAll(\".eventLayer\")\n                    .data(jsonDataFeatures)\n                .enter()\n                    .append(\"path\")\n                    .attr(\"d\", path)\n                    .attr(\"class\", \"eventLayer\")\n                    .attr(\"id\", function(d, i) {\n                        return `eventLayer-${i}`;\n                    })\n                    .attr(\"fill\", \"transparent\")\n                    .on(\"mouseover\", function(d, i) {\n                        d3.select(`#region-${i}`)\n                            .attr(\"stroke-width\", 3)\n                            .style(\"fill-opacity\", 0.8);\n                    })\n                    .on(\"mousemove\", function(d, i) {\n                        tooltipDiv.transition()\t\t\n                            .duration(200)\t\t\n                            .style(\"opacity\", 1);\n                        \n                        var undefinedText;\n                        if (self.state.eventDescription.indexOf(\"2019\") == -1) {\n                            if (self.state.regionType === \"province\") {\n                                undefinedText = \"New municipality - no previous results available\"\n                            } else {\n                                undefinedText = \"New voting district - no previous results available\"\n                            }\n                        } else {\n                            undefinedText = \"votes not counted yet\";\n                        }\n    \n                        var mainData = getMainData(d, i);\n                        var subRegionName = getSubRegionName(d.properties, self.state);\n                        var tooltipText = (typeof mainData !== \"undefined\")? \n                                    (subRegionName + \" : \" + mainData + \"%\") : undefinedText;\n    \n                        tooltipDiv.html(tooltipText)\t\n                            .style(\"left\", (d3.event.pageX) + \"px\")\t\t\n                            .style(\"top\", (d3.event.pageY - 28) + \"px\");\t\n                    })\n                    .on(\"mouseout\", function(d, i) {\n                        d3.select(`#region-${i}`)\n                            .attr(\"stroke-width\", 1)\n                            .style(\"fill-opacity\", 1);\n                        \n                        if (self.state.regionType === \"municipality\") return;\n    \n                        tooltipDiv.transition()\t\t\n                            .duration(200)\t\t\n                            .style(\"opacity\", 0);\t\n                    })\n                    .on(\"click\", function(d, i) {\n                        if (self.state.disableNavigation) {\n                            return;\n                        }\n                        tooltipDiv.transition()\t\t\n                            .duration(200)\t\t\n                            .style(\"opacity\", 0);\t\n                        \n                        var regionType = self.state.regionType;\n                        var newState;\n                        if (regionType === \"national\") {\n                            newState = {\n                                regionType: \"province\",\n                                provinceName: d.properties.SPROVINCE\n                            }\n                            triggerCustomEvent(events.REGION_CHANGE, newState);\n                            self.setState(newState);\n                        } else if (regionType === \"province\") {\n                            newState = {\n                                regionType: \"municipality\", \n                                provinceName: self.state.provinceName,\n                                muniName: d.properties.smunicipal,\n                                muniCode: getMunicipalityCode(d.properties),\n                            }\n                            triggerCustomEvent(events.REGION_CHANGE, newState);\n                            self.setState(newState);\n                        } else { // \"municipality\"\n                            var newState = {\n                                regionType: \"municipality-vd\", \n                                provinceName: self.state.provinceName,\n                                muniName: self.state.muniName,\n                                muniCode: self.state.muniCode,\n                                iecId: getMunicipalityiecId(d.properties),\n                            }\n                            triggerCustomEvent(events.REGION_CHANGE, newState);\n    \n                            self.setState(newState);\n                        }\n                    })\n                    if (!self.state.disableNavigation) {\n                        var fo = svg.append(\"foreignObject\")\n                            .attr(\"x\", 0)\n                            .attr(\"y\", 10)\n                            .attr(\"width\", 500)\n                            .attr(\"height\", 30)\n                            .attr(\"class\", \"map-controls\")\n                        \n                        function setRegionType(regionType) {\n                            var newState;\n                            var newState = {\n                                regionType: self.state.regionType, \n                                provinceName: self.state.provinceName,\n                                muniName: self.state.muniName,\n                                muniCode: self.state.muniCode,\n                                iecId: self.state.iecId,\n                            }\n                            newState.regionType = regionType;\n                            triggerCustomEvent(events.REGION_CHANGE, newState);\n                            self.setState(newState);\n                        }\n        \n                        function appendSpan(foDiv, regionName, addSub) {\n                            if (addSub) foDiv.append(\"span\").html(\" > \");\n                            foDiv.append(\"span\")\n                                .style(\"height\", \"30px\")\n                                .style(\"cursor\", \"default\")\n                                .html(regionName);\n                        }\n        \n                        function appendLink(foDiv, regionName, regionType, addSub) {\n                            if (addSub) foDiv.append(\"span\").html(\" > \");\n                            foDiv.append(\"a\")\n                                .style(\"height\", \"30px\")\n                                .style(\"cursor\", \"pointer\")\n                                .html(regionName)\n                                .on(\"click\", function() {\n                                    setRegionType(regionType);\n                                });\n                        }\n                        \n                        var foDiv = fo.append(\"xhtml:div\");\n                        var regionType = self.state.regionType;\n                        if (regionType == \"national\") {\n                            appendSpan(foDiv, \"South Africa\", false);\n                        } else {\n                            appendLink(foDiv, \"South Africa\", \"national\", false);\n                            if (regionType == \"province\") {\n                                appendSpan(foDiv, self.state.provinceName, true);\n                            } else {\n                                appendLink(foDiv, self.state.provinceName, \"province\", true);\n                                if (regionType == \"municipality\") {\n                                    appendSpan(foDiv, self.state.muniCode, true);\n                                } else {\n                                    appendLink(foDiv, self.state.muniCode, \"municipality\", true);\n                                    appendSpan(foDiv, self.state.iecId, true);\n                                }\n                            }\n                        }\n                        // foDiv\n                        //     .append(\"button\")\n                        //     .attr(\"class\", \"go-back\")\n                        //     .style(\"height\", \"30px\")\n                        //     .style(\"color\", \"black\")\n                        //     .html(\"go back\")\n                        //     .on(\"click\", function() {\n                        //         var regionType = self.state.regionType;\n                        //         var newState, event;\n            \n                        //         var newState = {\n                        //             regionType: self.state.regionType, \n                        //             provinceName: self.state.provinceName,\n                        //             muniName: self.state.muniName,\n                        //             muniCode: self.state.muniCode,\n                        //             iecId: self.state.iecId,\n                        //         }\n                                \n                        //         if (regionType === \"province\") {\n                        //             newState.regionType = \"national\";\n                        //         } else if (regionType === \"municipality\") {\n                        //             newState.regionType = \"province\";\n                        //         } else if (regionType === \"municipality-vd\") {\n                        //             newState.regionType = \"municipality\";\n                        //         }\n            \n                        //         triggerCustomEvent(events.REGION_CHANGE, newState);\n                        //         self.setState(newState);\n                        //     });\n                    }\n                self.getLoadingSpinner()\n                    .style(\"display\", \"none\");\n            }).catch(error => {\n                console.error(error);\n                console.log(`failed to get data from server`);\n            })\n        }).catch(error => {\n            console.error(error);       \n            self.getLoadingSpinner()\n                .style(\"display\", \"none\");\n            var currentRegionName = getRegionName(this.state);\n            var regionType = self.state.regionType;\n            var newState, event;\n\n            var newState = {\n                regionType: self.state.regionType, \n                provinceName: self.state.provinceName,\n                muniName: self.state.muniName,\n                muniCode: self.state.muniCode,\n                iecId: self.state.iecId,\n            }\n            \n            if (regionType === \"province\") {\n                newState.regionType = \"national\";\n            } else if (regionType === \"municipality\") {\n                newState.regionType = \"province\";\n            } else if (regionType === \"municipality-vd\") {\n                newState.regionType = \"municipality\";\n            }\n\n            triggerCustomEvent(events.REGION_CHANGE, newState);\n            self.setState(newState);\n            setTimeout(() => {\n                if (regionType == \"national\" || regionType == \"province\") {\n                  console.log(`Can't get map data for ${currentRegionName}`);\n                } else {\n                    alert(`${currentRegionName} has been disestablished`); \n                }\n            }, 300);    \n        })\n    }\n}\n\nexport default Map;\n","import React, { Component } from \"react\";\nimport * as d3 from \"d3\";\nimport styles from \"../BarChart/barchart.css\";\nimport {Chart} from \"../BarChart/d3barchart\";\nimport svgToPng from \"save-svg-as-png\";\n\nimport events from \"../../events\";\nimport config from \"../../config\";\nimport {\n  getTurnoutDataForAllEvents,\n} from \"../../api\";\nimport {\n  parseTurnoutDataForAllEvents,\n  getRegionName,\n  fetchDataFromOBJ,\n  handleRegionChange\n} from \"../../utils\";\n\n\nvar dataRefreshTime = 30 * 1000;\nvar chartOptions = {\n  chartType: 'Turnout Barchart',\n  yAxisLabel: 'PERCENTAGE',\n  noXaxisByParty: true,\n  yValue: function(d) {\n    return d.percVoterTurnout;\n  },\n  yValueFormat: function(percVoterTurnout) {\n    return percVoterTurnout + '%';\n  } \n};\n\nfunction className(originName) {\n  return styles[originName] || originName;\n}\n\nfunction cn(originName) {\n  return className(config.CSS_PREFIX + originName);\n}\n\n\nclass BarChart extends Component {\n\n    constructor(props) {\n      super(props);\n      var self = this;\n      this.state = {\n        eventType: \"national\",\n        regionType: \"national\",\n        provinceName: \"\",\n        muniName: \"\",\n        muniCode: \"\",\n        iecId: \"\",\n        stylesheetFor: \"web\",\n        componentID: 10\n      }\n      fetchDataFromOBJ(this.state, props);\n\n      this.chart = null;\n      this.refreshIntervalID = 0;\n      this.exportAsPNG = this.exportAsPNG.bind(this);\n      this.exportAsPNGUri = this.exportAsPNGUri.bind(this);\n      this.handleRegionChange = handleRegionChange.bind(this);\n      this.handlePreviewEvent = this.handlePreviewEvent.bind(this);\n    }\n  \n    componentDidMount() {\n      var self = this;\n      this.draw(this.getContainer(), this.state);\n      this.refreshIntervalID = setInterval(() => {\n        self.draw(self.getContainer(), self.state)\n      }, dataRefreshTime);\n      document.addEventListener(events.EXPORT_PNG, this.exportAsPNG);\n      document.addEventListener(events.REGION_CHANGE, this.handleRegionChange);\n      document.addEventListener(events.CHART_PREVIEW, this.handlePreviewEvent);\n    }\n\n    componentDidUpdate() {\n      this.draw(this.getContainer(), this.state)\n    }\n\n    componentWillUnmount() {\n      this.chart = null;\n      document.removeEventListener(events.EXPORT_PNG, this.exportAsPNG);\n      document.removeEventListener(events.REGION_CHANGE, this.handleRegionChange);\n      document.removeEventListener(events.CHART_PREVIEW, this.handlePreviewEvent);\n      clearInterval(this.refreshIntervalID);\n    }\n    \n    exportAsPNGUri() {\n      var self = this;\n      return new Promise(function(resolve, reject) {\n        svgToPng.svgAsPngUri(self.refs.vizcontainer.childNodes[0], {}, function(uri) {\n          resolve(uri.split(',')[1]);\n        });\n      });\n    }\n\n    exportAsPNG(event) {\n      var targetState = event.detail;\n      if (targetState.componentID != this.state.componentID)\n        return;\n      svgToPng.saveSvgAsPng(this.refs.vizcontainer.childNodes[0], `turnout-barchart(${getRegionName(this.state)}).png`);\n    }\n\n    handlePreviewEvent(event) {\n      var newState = event.detail;\n      if (this.chart)\n        this.chart.destroy();\n      this.chart = new Chart(this.getContainer(), null, null, className, chartOptions);\n      this.setState(newState)\n    }\n\n    getContainer() {\n      return d3.select(this.refs.vizcontainer)\n    }\n      \n    render () {\n      const {\n        stylesheetFor,\n        componentID\n      } = this.state;\n      return (\n          <div className={cn(\"barchart\") + \" \" + cn(`stylesheet-${stylesheetFor}`)}>\n            {\n                componentID != -1000 && <div className={cn(\"chart-title\")}>{chartOptions.chartType} ({getRegionName(this.state)}): </div>\n            }\n            <div \n              ref=\"vizcontainer\" \n              className={cn(\"chart-body\")} \n              ></div>\n          </div>\n        )\n    }\n\n    draw(container, props) {\n      var self = this;\n      var turnoutDataLoader = getTurnoutDataForAllEvents(props);\n      var dataLoaders = [turnoutDataLoader];\n\n      Promise.all(dataLoaders).then(function(values){ \n        var turnoutData = values[0];\n        self.drawGraph(container, props, turnoutData, 'rgb(157,51,55)');\n      }).catch(error => console.error(error));\n    }\n\n    drawGraph(container, props, data, colorsData) {\n        var chartData = parseTurnoutDataForAllEvents(data, props);\n        if (!this.chart)\n          this.chart = new Chart(container, null, null, className, chartOptions);\n        \n        this.chart.draw(chartData, colorsData);\n    }\n}\n\nexport default BarChart;\n","import React, { Component } from \"react\";\nimport styles from \"./barchartMap.css\";\nimport BarChart from '../BarChart/barchart';\nimport Map from '../Map/map';\nimport events from \"../../events\";\nimport config from \"../../config\";\nimport {saveAs} from \"file-saver\";\n\nimport {\n    getRegionName,\n    fetchDataFromOBJ\n} from \"../../utils\";\n\nfunction className(originName) {\n    return styles[originName] || originName;\n}\n\nfunction cn(originName) {\n  return className(config.CSS_PREFIX + originName);\n}\n\nclass BarchartWithNavMap extends Component {    \n    constructor(props) {\n        super(props);\n        this.state = {\n            numParties: 5,\n            eventDescription: \"2019 National Election\",\n            regionType: \"national\",\n            provinceName: \"\",\n            muniName: \"\",\n            muniCode: \"\",\n            iecId: \"\",\n            stylesheetFor: \"web\",\n            componentID: 2\n        }      \n\n        fetchDataFromOBJ(this.state, props);\n\n        this.exportAsPNG = this.exportAsPNG.bind(this);\n    }\n\n    exportAsPNG(event) {\n        var targetState = event.detail;\n        if (targetState.componentID != this.state.componentID)\n          return;\n        var self = this;\n        Promise.all([\n            self.barchartInstance.exportAsPNGUri(),\n            self.mapInstance.exportAsPNGUri()\n        ]).then(values => {\n            var zip = new window.JSZip();\n\n            var imgs = zip.folder(\"export-images\");\n            imgs.file(\"barchart.png\", values[0], {base64: true});\n            imgs.file(\"map.png\", values[1], {base64: true});\n\n            zip.generateAsync({type:\"blob\"})\n            .then(function(content) {\n                saveAs(content, `race-for-votes-barchart-map(${getRegionName(self.state)}).zip`);\n            });\n        }).catch(error => {\n            console.error(\"export error\", error);\n        })\n    }\n\n    componentDidMount() {\n        document.addEventListener(events.EXPORT_SUPERWIDGET_PNG, this.exportAsPNG);\n    }\n  \n    componentWillUnmount() {\n        document.removeEventListener(events.EXPORT_SUPERWIDGET_PNG, this.exportAsPNG);\n    }\n\n    render() {\n      const {\n        stylesheetFor\n      } = this.state;\n\n        return (\n        <div ref=\"superwidget\" className={className(\"barchart-map\") + \" \" + cn(`stylesheet-${stylesheetFor}`)}>\n            <div className={className(\"barchart-container\")} ref=\"barchart\">\n                <BarChart \n                    ref={instance => { this.barchartInstance = instance; }} \n                    {...this.state}\n                    componentID={-1000} />\n            </div>\n            <div className={className(\"map-container\")}>\n                <Map \n                    ref={instance => { this.mapInstance = instance; }} \n                    {...this.state}\n                    componentID={-1000} />\n            </div>\n        </div>\n        );\n    }\n}\n\nexport default BarchartWithNavMap;\n","import * as d3 from \"d3\";\nimport {createTooltip, createSvg, createErrorText} from \"../../utils\";\n\nexport function Chart(container, width, height, className, options) {\n    var data = [],\n        width = 700,\n        height = 300,\n        margin = {top: 10, right: 10, bottom: 10, left: 10},\n        variable = options.variable,\n        category = options.category,\n        padAngle = 0.015,\n        transTime = 750,\n        floatFormat = d3.format('.4r'),\n        cornerRadius = 3,\n        colorsData = null;\n\n\n        \n\n    function colour(key) {\n        if (colorsData && colorsData[key]) {\n            return colorsData[key];\n        }\n        return 'rgb(' + Math.random()*250 + ',' + Math.random()*250 + ',' + Math.random()*250 + ')';\n    }\n\n    var radius = Math.min(width, height) / 2;\n\n    var pie = d3.pie()\n        .value(function(d) { return floatFormat(d[variable]); })\n        .sort(null);\n\n    var arc = d3.arc()\n        .outerRadius(radius * 0.8)\n        .innerRadius(radius * 0.6)\n        .cornerRadius(cornerRadius)\n        .padAngle(padAngle);\n\n    var totalSvg = createSvg(container, width + margin.left + margin.right, height + margin.top + margin.bottom);\n    \n    \n    var transformX = height / 2, transformY = height / 2;\n    if (options.chartType === 'Progress on Votes Count') {\n    } else {\n        transformX = width / 2;\n    }\n    var svg = totalSvg\n        .append('g')\n        .attr('transform', 'translate(' + transformX + ',' + transformY + ')');\n    \n    var labelSvg = totalSvg\n        .append('g')\n        .attr('transform', 'translate(' + height * 6 / 5 + ',' + height / 2 + ')');\n\n    svg.append('g').attr('class', 'slices');\n    svg.append('g').attr('class', 'lines');\n\n    var path = svg.select('.slices')\n        .selectAll('path')\n        .data(pie(data))\n        .enter().append('path')\n        .attr('fill', function(d) { return colour(d.data[category]); })\n        .attr('d', arc);\n\n    var errorText = createErrorText(svg);\n\n    this.destroy = function() {\n        container.selectAll(\"svg\").remove();\n    }\n    this.draw = function(value, colorsDataP) {\n        if (!value) {\n            errorText.text(\"chart data is not available\");\n            return;\n        } else {\n            errorText.text(\"\");\n        }\n\n        if (options.chartType === 'Progress on Votes Count') {\n            colorsData = colorsDataP;\n        } else {\n            var partyColorByName = {};\n\n            var partyColorsData = colorsDataP;\n            if (partyColorsData && partyColorsData[\"data\"][\"allParties\"][\"edges\"]) {\n                partyColorsData[\"data\"][\"allParties\"][\"edges\"].forEach(edge => {\n                    partyColorByName[edge.node.abbreviation] = edge.node.colour;\n                })\n            }\n            colorsData = partyColorByName;\n        }\n        \n        data = value;\n\n        if (options.chartType === 'Progress on Votes Count') {\n            labelSvg.selectAll('text').remove();\n            labelSvg.append('text')\n                .attr('x', 0)\n                .attr('y', -15)\n                .style('font-size', '.7em')\n                .style('text-anchor', 'middle')\n                .text('Completed' + ': ' + data[0][\"percent\"] + '%');\n            labelSvg.append('text')\n                .attr('x', 0)\n                .attr('y', 0)\n                .text('Captured Votes' + ': ' + data[0][\"count\"])\n                .style('font-size', '.7em')\n                .style('text-anchor', 'middle');\n            labelSvg.append('text')\n                .attr('x', 0)\n                .attr('y', 15)\n                .text('Total' + ': ' + data[0][\"totalCount\"])\n                .style('font-size', '.7em')\n                .style('text-anchor', 'middle');\n        }\n\n        var updatePath = d3.select('.slices').selectAll('path');\n\n        var data0 = path.data(),\n            data1 = pie(data);\n\n        updatePath = updatePath.data(data1, key);\n\n        updatePath.enter().append('path')\n            .each(function(d, i) { this._current = findNeighborArc(i, data0, data1, key) || d; })\n            .attr('fill', function(d) {  return colour(d.data[category]); })\n            .attr('d', arc);\n\n        updatePath.exit()\n            .transition()\n            .duration(transTime)\n            .attrTween(\"d\", arcTween)\n            .remove();\n\n        updatePath.transition().duration(transTime)\n            .attrTween('d', arcTween);\n\n        d3.selectAll('.labelName text, .slices path').call(toolTip);\n\n    };\n\n    function toolTip(selection) {\n\n        if (options.hideTooltip)\n            return;\n\n        selection.on('mouseenter', function (data) {\n            svg.append('text')\n                .attr('class', 'toolCircle')\n                .attr('dy', -15)\n                .html(toolTipHTML(data))\n                .style('font-size', '.7em')\n                .style('text-anchor', 'middle');\n\n            svg.append('circle')\n                .attr('class', 'toolCircle')\n                .attr('r', radius * 0.55)\n                .style('fill', colour(data.data[category]))\n                .style('fill-opacity', 0.35);\n\n        });\n\n        selection.on('mouseout', function () {\n            d3.selectAll('.toolCircle').remove();\n        });\n    }\n\n    function toolTipHTML(data) {\n\n        if (options.chartType === 'Progress on Votes Count') {\n            var tip = '';\n            tip += '<tspan x=\"0\">' + 'Progress' + ': ' + data.data[\"percent\"] + '%' + '</tspan>';\n            tip += '<tspan x=\"0\" dy=\"1.2em\">' + 'Captured Votes' + ': ' + data.data[\"count\"] + '</tspan>';\n            tip += '<tspan x=\"0\" dy=\"1.2em\">' + 'Total' + ': ' + data.data[\"totalCount\"] + '</tspan>';\n        } else { //'Race for Seats Donut chart'\n            var tip = '';\n            tip += '<tspan x=\"0\">' + 'Seats' + ': ' + data.data[\"seats\"] + '</tspan>';\n            tip += '<tspan x=\"0\" dy=\"1.2em\">' + 'Party' + ': ' + data.data[\"name\"] + '</tspan>';\n        }\n        return tip;\n    }\n\n    function arcTween(d) {\n        var i = d3.interpolate(this._current, d);\n        this._current = i(0);\n        return function(t) { return arc(i(t)); };\n    }\n\n    function findNeighborArc(i, data0, data1, key) {\n        var d;\n        return (d = findPreceding(i, data0, data1, key)) ? {startAngle: d.endAngle, endAngle: d.endAngle}\n            : (d = findFollowing(i, data0, data1, key)) ? {startAngle: d.startAngle, endAngle: d.startAngle}\n                : null;\n    }\n\n    function findPreceding(i, data0, data1, key) {\n        var m = data0.length;\n        while (--i >= 0) {\n            var k = key(data1[i]);\n            for (var j = 0; j < m; ++j) {\n                if (key(data0[j]) === k) return data0[j];\n            }\n        }\n    }\n\n    function key(d) {\n        return d.data[category];\n    }\n\n    function findFollowing(i, data0, data1, key) {\n        var n = data1.length, m = data0.length;\n        while (++i < n) {\n            var k = key(data1[i]);\n            for (var j = 0; j < m; ++j) {\n                if (key(data0[j]) === k) return data0[j];\n            }\n        }\n    }\n}","import React, { Component } from \"react\";\nimport * as d3 from \"d3\";\nimport styles from \"./piechart.css\";\nimport {Chart} from \"./d3piechart\";\nimport svgToPng from \"save-svg-as-png\";\n\nimport events from \"../../events\";\nimport config from \"../../config\";\nimport {\n  getProgressVotesCount\n} from \"../../api\";\nimport {\n  parseProgressVotesCount,\n  getRegionName,\n  fetchDataFromOBJ,\n  handleRegionChange\n} from \"../../utils\";\n\n\nvar dataRefreshTime = 30 * 1000;\nvar chartOptions = {\n  chartType: 'Progress on Votes Count',\n  variable: 'percent',\n  category: 'name',\n  hideTooltip: true\n};\n\nfunction className(originName) {\n  return styles[originName] || originName;\n}\n\nfunction cn(originName) {\n  return className(config.CSS_PREFIX + originName);\n}\n\n\nclass PieChart extends Component {\n\n    constructor(props) {\n      super(props);\n      this.state = {\n        numParties: 5,\n        eventDescription: \"2019 National Election\",\n        regionType: \"national\",\n        provinceName: \"\",\n        muniName: \"\",\n        muniCode: \"\",\n        iecId: \"\",\n        stylesheetFor: \"web\",\n        componentID: 4\n      }     \n\n      fetchDataFromOBJ(this.state, props);\n\n      this.chart = null;\n      this.refreshIntervalID = 0;\n      this.exportAsPNG = this.exportAsPNG.bind(this);\n      this.exportAsPNGUri = this.exportAsPNGUri.bind(this);\n      this.handleRegionChange = handleRegionChange.bind(this);\n      this.handlePreviewEvent = this.handlePreviewEvent.bind(this);\n    }\n  \n    componentDidMount() {\n      var self = this;\n      this.draw(this.getContainer(), this.state);\n      this.refreshIntervalID = setInterval(() => {\n        self.draw(self.getContainer(), self.state)\n      }, dataRefreshTime);\n      document.addEventListener(events.EXPORT_PNG, this.exportAsPNG);\n      document.addEventListener(events.REGION_CHANGE, this.handleRegionChange);\n      document.addEventListener(events.CHART_PREVIEW, this.handlePreviewEvent);\n    }\n\n    componentDidUpdate() {\n      this.draw(this.getContainer(), this.state)\n    }\n\n    componentWillUnmount() {\n      this.chart = null;\n      document.removeEventListener(events.EXPORT_PNG, this.exportAsPNG);\n      document.removeEventListener(events.REGION_CHANGE, this.handleRegionChange);\n      document.removeEventListener(events.CHART_PREVIEW, this.handlePreviewEvent);\n      clearInterval(this.refreshIntervalID);\n    }\n\n    exportAsPNGUri() {\n      var self = this;\n      return new Promise(function(resolve, reject) {\n        svgToPng.svgAsPngUri(self.refs.vizcontainer.childNodes[0], {}, function(uri) {\n          resolve(uri.split(',')[1]);\n        });\n      });\n    }\n\n    exportAsPNG(event) {\n      var targetState = event.detail;\n      if (targetState.componentID != this.state.componentID)\n        return;\n      svgToPng.saveSvgAsPng(this.refs.vizcontainer.childNodes[0], `progress-on-votes-piechart(${getRegionName(this.state)}).png`);\n    }\n\n    handlePreviewEvent(event) {\n      var newState = event.detail;\n      if (this.chart)\n        this.chart.destroy();\n      this.chart = new Chart(this.getContainer(), null, null, className, chartOptions);\n      this.setState(newState)\n    }\n\n    getContainer() {\n      return d3.select(this.refs.vizcontainer)\n    }\n   \n    render () {\n      const {\n        stylesheetFor,\n        componentID\n      } = this.state;\n      return (\n          <div className={className(\"piechart\") + \" \" + cn(`stylesheet-${stylesheetFor}`)}>\n            {\n              componentID != -1000 && <div className={cn(\"chart-title\")}>{chartOptions.chartType} ({getRegionName(this.state)}): </div>\n            }\n            <div \n              ref=\"vizcontainer\" \n              className={cn(\"chart-body\")} \n              ></div>\n          </div>\n        )\n    }\n\n    draw(container, props) {\n      var self = this;\n      var progressVotesDataLoader = getProgressVotesCount(props);\n      var dataLoaders = [progressVotesDataLoader];\n\n      Promise.all(dataLoaders).then(function(values){ \n        var progressVotesData = values[0];\n        self.drawGraph(container, props, progressVotesData);\n      }).catch(error => console.error(error));\n    }\n\n    drawGraph(container, props, data) {\n        var chartData = parseProgressVotesCount(data, props);\n        if (!this.chart)\n          this.chart = new Chart(container, null, null, className, chartOptions);\n        \n        this.chart.draw(chartData, {\n          \"Completed\": \"#15707C\",\n          \"Not Completed\": \"#CCCCCC\"\n        });\n    }\n}\n\nexport default PieChart;\n","import React, { Component } from \"react\";\nimport * as d3 from \"d3\";\nimport styles from \"./piechart.css\";\nimport {Chart} from \"../ProgVotesCountPiechart/d3piechart\";\nimport svgToPng from \"save-svg-as-png\";\n\nimport events from \"../../events\";\nimport config from \"../../config\";\nimport {\n  getSeatsData,\n  getPartyColors\n} from \"../../api\";\nimport {\n  parseSeatsData,\n  getNationOrProvinceName,\n  fetchDataFromOBJ,\n  handleRegionChange\n} from \"../../utils\";\n\n\nvar dataRefreshTime = 30 * 1000;\nvar chartOptions = {\n  chartType: 'Race For Seats Donut Chart',\n  variable: 'seats',\n  category: 'name',\n  viewBox: '170 0 360 320'\n};\n\nfunction className(originName) {\n  return styles[originName] || originName;\n}\n\nfunction cn(originName) {\n  return className(config.CSS_PREFIX + originName);\n}\n\nvar partyColorsData;\n\nclass DonutChart extends Component {\n\n    constructor(props) {\n      super(props);\n      this.state = {\n        numParties: 100,\n        eventDescription: \"2019 National Election\",\n        regionType: \"national\",\n        provinceName: \"\",\n        muniName: \"\",\n        muniCode: \"\",\n        iecId: \"\",\n        stylesheetFor: \"web\",\n        componentID: 17\n      }\n\n      fetchDataFromOBJ(this.state, props);\n\n      this.chart = null;\n      this.refreshIntervalID = 0;\n      this.exportAsPNG = this.exportAsPNG.bind(this);\n      this.exportAsPNGUri = this.exportAsPNGUri.bind(this);\n      this.handleRegionChange = handleRegionChange.bind(this);\n      this.handlePreviewEvent = this.handlePreviewEvent.bind(this);\n    }\n  \n    componentDidMount() {\n      var self = this;\n      this.draw(this.getContainer(), this.state);\n      this.refreshIntervalID = setInterval(() => {\n        self.draw(self.getContainer(), self.state)\n      }, dataRefreshTime);\n      document.addEventListener(events.EXPORT_PNG, this.exportAsPNG);\n      document.addEventListener(events.REGION_CHANGE, this.handleRegionChange);\n      document.addEventListener(events.CHART_PREVIEW, this.handlePreviewEvent);\n    }\n\n    componentDidUpdate() {\n      this.draw(this.getContainer(), this.state)\n    }\n\n    componentWillUnmount() {\n      this.chart = null;\n      document.removeEventListener(events.EXPORT_PNG, this.exportAsPNG);\n      document.removeEventListener(events.REGION_CHANGE, this.handleRegionChange);\n      document.removeEventListener(events.CHART_PREVIEW, this.handlePreviewEvent);\n      clearInterval(this.refreshIntervalID);\n    }\n\n    exportAsPNGUri() {\n      var self = this;\n      return new Promise(function(resolve, reject) {\n        svgToPng.svgAsPngUri(self.refs.vizcontainer.childNodes[0], {}, function(uri) {\n          resolve(uri.split(',')[1]);\n        });\n      });\n    }\n\n    exportAsPNG(event) {\n      var targetState = event.detail;\n      if (targetState.componentID !== this.state.componentID)\n        return;\n      svgToPng.saveSvgAsPng(this.refs.vizcontainer.childNodes[0], `race-for-seats-donutchart-chart(${getNationOrProvinceName(this.state)}).png`);\n    }\n\n    handlePreviewEvent(event) {\n      var newState = event.detail;\n      if (this.chart)\n        this.chart.destroy();\n      this.chart = new Chart(this.getContainer(), null, null, className, chartOptions);\n      this.setState(newState)\n    }\n\n    getContainer() {\n      return d3.select(this.refs.vizcontainer)\n    }\n      \n    render () {\n\n      const {\n        stylesheetFor,\n        componentID\n      } = this.state;\n      return (\n          <div className={className(\"donutchart\") + \" \" + cn(`stylesheet-${stylesheetFor}`)}>\n            {\n              componentID !== -1000 && <div className={cn(\"chart-title\")}>{chartOptions.chartType} ({getNationOrProvinceName(this.state)}): </div>\n            }\n            <div \n              ref=\"vizcontainer\" \n              className={cn(\"chart-body\")} \n              ></div>\n          </div>\n        )\n    }\n\n    draw(container, props) {\n      var self = this;\n      var seatsDataLoader = getSeatsData(props);\n      var dataLoaders = [seatsDataLoader];\n\n      if (!partyColorsData) {\n        var partyColorsLoader = getPartyColors();\n        dataLoaders.push(partyColorsLoader);\n      }\n\n      Promise.all(dataLoaders).then(function(values){ \n        var seatsData = values[0];\n        partyColorsData = partyColorsData || values[1];         \n        self.drawGraph(container, props, seatsData, partyColorsData);\n      }).catch(error => console.error(error));\n    }\n\n    drawGraph(container, props, data, partyColorsData) {\n        var chartData = parseSeatsData(data, props);\n        if (!this.chart)\n          this.chart = new Chart(container, null, null, className, chartOptions);\n        \n        this.chart.draw(chartData, partyColorsData);\n    }\n}\n\nexport default DonutChart;\n","import React, { Component } from \"react\";\nimport * as d3 from \"d3\";\nimport styles from \"../BarChart/barchart.css\";\nimport {Chart} from \"../BarChart/d3barchart\";\nimport svgToPng from \"save-svg-as-png\";\n\nimport events from \"../../events\";\nimport config from \"../../config\";\nimport {\n  getVotesDataForComparison,\n  getPartyColors,\n  getProvincesData\n} from \"../../api\";\nimport {\n  parseVotesComparisonData,\n  getRegionName,\n  fetchDataFromOBJ,\n  handleRegionChange\n} from \"../../utils\";\n\nvar provincesData = getProvincesData();\n\nvar dataRefreshTime = 30 * 1000;\n\nfunction className(originName) {\n  return styles[originName] || originName;\n}\n\nfunction cn(originName) {\n  return className(config.CSS_PREFIX + originName);\n}\n\nvar partyColorsData;\n\nvar chartOptions = {\n  chartType: \"Race For Votes Comparison\",\n  yAxisLabel: \"PERCENTAGE VOTES\",\n  yValue: d => d.percOfVotes,\n  yValueFormat: value => value + '%',\n  showLegend: true\n}\n\nclass BarChart extends Component {\n\n    constructor(props) {\n      super(props);\n      this.state = {\n        partyAbbr: \"ANC\",\n        partyIecId: null,\n        eventDescriptions: [\n            \"National Elections 1999\",\n            // \"Provincial Elections 1999\",\n            \"14 Apr 2004 National Election\",\n            // \"14 Apr 2004 Provincial Election\",\n            \"22 Apr 2009 National Election\",\n            // \"22 Apr 2009 Provincial Election\",\n            \"2014 National Election\",\n            // \"2014 Provincial Election\",\n            \"2019 NATIONAL ELECTION\",\n            // \"2019 PROVINCIAL ELECTION\",\n        ],\n        regionType: \"national\",\n        provinceName: \"\",\n        muniName: \"\",\n        muniCode: \"\",\n        iecId: \"\",\n        stylesheetFor: \"web\",\n        componentID: 16\n      }\n\n      fetchDataFromOBJ(this.state, props);\n\n      this.chart = null;\n      this.refreshIntervalID = 0;\n      this.exportAsPNG = this.exportAsPNG.bind(this);\n      this.exportAsPNGUri = this.exportAsPNGUri.bind(this);\n      this.handleRegionChange = handleRegionChange.bind(this);\n      this.handlePreviewEvent = this.handlePreviewEvent.bind(this);\n    }\n  \n    componentDidMount() {\n\n      var self = this;\n      this.draw(this.getContainer(), this.state);\n      this.refreshIntervalID = setInterval(() => {\n        self.draw(self.getContainer(), self.state)\n      }, dataRefreshTime);\n      document.addEventListener(events.EXPORT_PNG, this.exportAsPNG);\n      document.addEventListener(events.REGION_CHANGE, this.handleRegionChange);\n      document.addEventListener(events.CHART_PREVIEW, this.handlePreviewEvent);\n    }\n\n    componentDidUpdate() {\n      this.draw(this.getContainer(), this.state)\n    }\n\n    componentWillUnmount() {\n      if (this.chart) {\n        this.chart.destroy();\n        this.chart = null;\n      }\n      document.removeEventListener(events.EXPORT_PNG, this.exportAsPNG);\n      document.removeEventListener(events.REGION_CHANGE, this.handleRegionChange);\n      document.removeEventListener(events.CHART_PREVIEW, this.handlePreviewEvent);\n      clearInterval(this.refreshIntervalID);\n    }\n\n    exportAsPNGUri() {\n      var self = this;\n      return new Promise(function(resolve, reject) {\n        svgToPng.svgAsPngUri(self.refs.vizcontainer.childNodes[0], {}, function(uri) {\n          resolve(uri.split(',')[1]);\n        });\n      });\n    }\n\n    exportAsPNG(event) {\n      var targetState = event.detail;\n      if (targetState.componentID != this.state.componentID)\n        return;\n      svgToPng.saveSvgAsPng(this.refs.vizcontainer.childNodes[0], `race-for-votes-comparison-barchart(${getRegionName(this.state)}).png`);\n    }\n\n    handlePreviewEvent(event) {\n      var newState = event.detail;\n      if (this.chart)\n        this.chart.destroy();\n      this.chart = new Chart(this.getContainer(), null, null, className, chartOptions);\n      this.setState(newState)\n    }\n\n    getContainer() {\n      return d3.select(this.refs.vizcontainer)\n    }\n      \n    render () {\n      const {\n        stylesheetFor,\n        componentID\n      } = this.state;\n      return (\n          <div className={cn(\"barchart\") + \" \" + cn(`stylesheet-${stylesheetFor}`)}>\n            {\n              componentID != -1000 && <div className={cn(\"chart-title\")}>{chartOptions.chartType} ({getRegionName(this.state)}): </div>\n            }\n            <div \n              ref=\"vizcontainer\" \n              className={cn(\"chart-body\")} \n              ></div>\n          </div>\n        )\n    }\n\n    draw(container, props) {\n      var self = this;\n      var votesDataLoader = getVotesDataForComparison(props);\n      var dataLoaders = [votesDataLoader];\n\n      if (!partyColorsData) {\n        var partyColorsLoader = getPartyColors();\n        dataLoaders.push(partyColorsLoader);\n      }\n\n      Promise.all(dataLoaders).then(function(values){ \n        var votesData = values[0];\n        partyColorsData = partyColorsData || values[1];          \n        self.drawGraph(container, props, votesData, partyColorsData);\n      }).catch(error => console.error(error));\n    }\n\n    drawGraph(container, props, data, partyColorsData) {\n        var chartData = parseVotesComparisonData(data, props);\n        console.log(\"comparison data fetch\", data, chartData);\n\n        if (!this.chart)\n          this.chart = new Chart(container, null, null, className, chartOptions);\n        this.chart.draw(chartData, partyColorsData);\n    }\n}\n\nexport default BarChart;\n","import React, { Component } from \"react\";\nimport * as d3 from \"d3\";\nimport styles from \"../BarChart/barchart.css\";\nimport {Chart} from \"../BarChart/d3barchart\";\nimport svgToPng from \"save-svg-as-png\";\n\nimport events from \"../../events\";\nimport config from \"../../config\";\nimport {\n  getPartyColors,\n  getSeatsDataForComparison\n} from \"../../api\";\nimport {\n  parseSeatsComparisonData,\n  getNationOrProvinceName,\n  fetchDataFromOBJ,\n  handleRegionChange\n} from \"../../utils\";\n\n\nvar dataRefreshTime = 30 * 1000;\nvar chartOptions = {\n  chartType: 'Race For Seats Comparison',\n  yAxisLabel: 'Seats Count',\n  dynamicYAxisFromValues: true,\n  yValue: function(d) {\n    return d.seats;\n  },\n  yValueFormat: function(seats) {\n    return seats;\n  } \n};\n\nfunction className(originName) {\n  return styles[originName] || originName;\n}\n\nfunction cn(originName) {\n  return className(config.CSS_PREFIX + originName);\n}\n\nvar partyColorsData;\n\nclass BarChart extends Component {\n\n    constructor(props) {\n      super(props);\n      this.state = {\n        partyAbbr: \"ANC\",\n        partyIecId: null,\n        eventDescriptions: [\n            \"National Elections 1999\",\n            \"Provincial Elections 1999\",\n            \"14 Apr 2004 National Election\",\n            \"14 Apr 2004 Provincial Election\",\n            \"22 Apr 2009 National Election\",\n            \"22 Apr 2009 Provincial Election\",\n            \"2014 National Election\",\n            \"2014 Provincial Election\",\n            \"2019 NATIONAL ELECTION\",\n            \"2019 PROVINCIAL ELECTION\",\n\n        ],\n        regionType: \"national\",\n        provinceName: \"\",\n        muniName: \"\",\n        muniCode: \"\",\n        iecId: \"\",\n        stylesheetFor: \"web\",\n        componentID: 7\n      }\n      fetchDataFromOBJ(this.state, props);\n\n      this.chart = null;\n      this.refreshIntervalID = 0;\n      this.exportAsPNG = this.exportAsPNG.bind(this);\n      this.exportAsPNGUri = this.exportAsPNGUri.bind(this);\n      this.handleRegionChange = handleRegionChange.bind(this);\n      this.handlePreviewEvent = this.handlePreviewEvent.bind(this);\n    }\n  \n    componentDidMount() {\n      var self = this;\n      this.draw(this.getContainer(), this.state);\n      this.refreshIntervalID = setInterval(() => {\n        self.draw(self.getContainer(), self.state)\n      }, dataRefreshTime);\n      document.addEventListener(events.EXPORT_PNG, this.exportAsPNG);\n      document.addEventListener(events.REGION_CHANGE, this.handleRegionChange);\n      document.addEventListener(events.CHART_PREVIEW, this.handlePreviewEvent);\n    }\n\n    componentDidUpdate() {\n      this.draw(this.getContainer(), this.state)\n    }\n\n    componentWillUnmount() {\n      this.chart = null;\n      document.removeEventListener(events.EXPORT_PNG, this.exportAsPNG);\n      document.removeEventListener(events.REGION_CHANGE, this.handleRegionChange);\n      document.removeEventListener(events.CHART_PREVIEW, this.handlePreviewEvent);\n      clearInterval(this.refreshIntervalID);\n    }\n\n    exportAsPNGUri() {\n      var self = this;\n      return new Promise(function(resolve, reject) {\n        svgToPng.svgAsPngUri(self.refs.vizcontainer.childNodes[0], {}, function(uri) {\n          resolve(uri.split(',')[1]);\n        });\n      });\n    }\n\n    exportAsPNG(event) {\n      var targetState = event.detail;\n      if (targetState.componentID != this.state.componentID)\n        return;\n      svgToPng.saveSvgAsPng(this.refs.vizcontainer.childNodes[0], `race-for-seats-comparison-barchart(${getNationOrProvinceName(this.state)}).png`);\n    }\n\n    handlePreviewEvent(event) {\n      var newState = event.detail;\n      if (this.chart)\n        this.chart.destroy();\n      this.chart = new Chart(this.getContainer(), null, null, className, chartOptions);\n      this.setState(newState)\n    }\n\n    getContainer() {\n      return d3.select(this.refs.vizcontainer)\n    }\n      \n    render () {\n      const {\n        stylesheetFor,\n        componentID\n      } = this.state;\n      \n      return (\n          <div className={cn(\"barchart\") + \" \" + cn(`stylesheet-${stylesheetFor}`)}>\n            {\n                componentID != -1000 && <div className={cn(\"chart-title\")}>{chartOptions.chartType} ({getNationOrProvinceName(this.state)}): </div>\n            }\n            <div \n              ref=\"vizcontainer\" \n              className={cn(\"chart-body\")} \n              ></div>\n          </div>\n        )\n    }\n\n    draw(container, props) {\n      var self = this;\n      var seatsDataLoader = getSeatsDataForComparison(props);\n      var dataLoaders = [seatsDataLoader];\n\n      if (!partyColorsData) {\n        var partyColorsLoader = getPartyColors();\n        dataLoaders.push(partyColorsLoader);\n      }\n\n      Promise.all(dataLoaders).then(function(values){ \n        var seatsData = values[0];\n        partyColorsData = partyColorsData || values[1];         \n        self.drawGraph(container, props, seatsData, partyColorsData);\n      }).catch(error => console.error(error));\n    }\n\n    drawGraph(container, props, data, partyColorsData) {\n        var chartData = parseSeatsComparisonData(data, props);\n        if (!this.chart)\n          this.chart = new Chart(container, null, null, className, chartOptions);\n        \n        this.chart.draw(chartData, partyColorsData);\n    }\n}\n\nexport default BarChart;\n","import * as d3 from \"d3\";\nimport {createTooltip, createSvg, createErrorText} from \"../../utils\";\n\nexport function Chart(container, width, height, className, options) {\n  if (!options) {\n    options = {};\n  } \n\n  width = 360;\n  height = 185;\n\n    var predefColors = [\"blue\", \"yellow\", \"red\"];\n\n    var svg = createSvg(container, width, height);\n\n\n    var tooltipDiv = createTooltip(className);\n\n    var mainSvg = svg.append(\"g\");\n    var errorText = createErrorText(svg, width / 2, height / 2);\n\n    this.draw = function(originChartData, colorsData) {\n      var chartData = [];\n      if (!originChartData) {\n        errorText.text(\"chart data is not available\");\n        return;\n      } else {\n        errorText.text(\"\");\n      }\n\n      chartData = originChartData;\n      var largest = chartData[0];\n      var rest = chartData.slice(1);\n\n\n      rest.push(largest);\n      chartData = rest;\n\n      var partyColorByName = {};\n\n      var partyColorsData = colorsData;\n      if (partyColorsData && partyColorsData[\"data\"][\"allParties\"][\"edges\"]) {\n          partyColorsData[\"data\"][\"allParties\"][\"edges\"].forEach(edge => {\n          partyColorByName[edge.node.name] = edge.node.colour;\n          })\n      }\n\n      function getFillColorFromPartyName(partyName, i) {\n        return partyColorByName[partyName.split(\"/\")[0]] || predefColors[i%predefColors.length];\n      }\n\n      function getTooltipText(d, i) {\n          return d.name;\n      }\n\n      var totalSeats = 0;\n      for (var i = 0; i < chartData.length; i ++) {\n        totalSeats += chartData[i].seats;\n      }\n\n      function pythonConvertedCode(totalSeats, mainSvg) {\n        var Totals=[\n              3, 15, 33, 61, 95, 138, 189, 247, 313, 388, 469, 559, 657, 762, 876, 997,\n              1126, 1263, 1408, 1560, 1722, 1889, 2066, 2250, 2442, 2641, 2850, 3064, 3289, 3519,\n              3759, 4005, 4261, 4522, 4794, 5071, 5358, 5652, 5953, 6263, 6581, 6906, 7239, 7581,\n              7929, 8287, 8650, 9024, 9404, 9793, 10187, 10594, 11003, 11425, 11850, 12288, 12729,\n              13183, 13638, 14109, 14580, 15066, 15553, 16055, 16557, 17075, 17592, 18126, 18660,\n              19208, 19758, 20323, 20888, 21468, 22050, 22645, 23243, 23853, 24467, 25094, 25723,\n              26364, 27011, 27667, 28329, 29001, 29679, 30367, 31061\n        ]\n    \n        if (totalSeats > Totals[Totals.length-1]){\n            console.error(\"total seats >\", Totals[Totals.length-1]);\n        }\n    \n        if (totalSeats < 1) {\n          console.error(\"total seats < 1\");\n        }\n        var rows;\n        var radius;\n        var poslist;\n        var J, R, angle;\n          // Figure out how many rows are needed:\n          for (var i = 0; i < Totals.length; i++) {\n              if (Totals[i] >= totalSeats) {\n                  rows = i + 1;\n                  break\n              }\n          }\n          // Maximum radius of spot is 0.5/rows; leave a bit of space.\n          radius = 0.4/rows;\n    \n          // Create list of centre spots\n          poslist = []\n\n          for (var i = 1; i < rows; i ++) {\n            // Each row can contain pi/(2asin(2/(3n+4i-2))) spots, where n is the number of rows and i is the number of the current row.\n            J = parseInt((totalSeats)/Totals[rows-1]*Math.PI/(2*Math.asin(2.0/(3.0*rows+4.0*i-2.0))));\n            // The radius of the ith row in an N-row diagram (Ri) is (3*N+4*i-2)/(4*N)\n            R = (3.0*rows+4.0*i-2.0)/(4.0*rows);\n            if (J === 1) {\n              poslist.push({\n                angle: Math.PI/2.0,\n                x: 1.75*R,\n                y: R\n              })\n            } else {\n              for (var j = 0; j < J; j ++){\n                // The angle to a spot is n.(pi-2sin(r/Ri))/(Ni-1)+sin(r/Ri) where Ni is the number in the arc\n                // x=R.cos(theta) + 1.75\n                // y=R.sin(theta)\n                angle = (j)*(Math.PI-2.0*Math.sin(radius/R))/(J-1.0)+Math.sin(radius/R);\n                poslist.push({\n                  angle,\n                  x: R*Math.cos(angle)+1.75,\n                  y: R*Math.sin(angle)\n                });\n              }\n            }\n          }\n          J=totalSeats-poslist.length\n          R=(7.0*rows-2.0)/(4.0*rows)\n          if (J===1) {\n              poslist.push({\n                angle: Math.PI/2.0,\n                x: 1.75*R,\n                y: R\n              })\n          }\n          else {\n              for (var j = 0; j < J; j ++) {\n                  angle=(j)*(Math.PI-2.0*Math.sin(radius/R))/((J)-1.0)+Math.sin(radius/R)\n                  poslist.push({\n                    angle,\n                    x: R*Math.cos(angle)+1.75,\n                    y: R*Math.sin(angle)\n                  })\n              }\n          }\n\n          poslist.sort(function(a,b) {\n            function value(x) {\n              return x.angle - Math.PI/2;\n            }\n            return value(b) - value(a);\n          })\n\n          function onMouseMove(svg, i){\n            svg\n              .attr(\"opacity\", 0.8);\n            tooltipDiv.transition()\t\t\n                .duration(200)\t\t\n                .style(\"opacity\", .9);\t\t\n            tooltipDiv.html(getTooltipText(chartData[i], i))\n                .style(\"left\", (d3.event.pageX) + \"px\")\t\t\n                .style(\"top\", (d3.event.pageY - 28) + \"px\");\t\n          }\n          function onMouseOut(svg) {\n            svg\n              .attr(\"opacity\", 1);\n            tooltipDiv.transition()\t\t\n                .duration(200)\t\t\n                .style(\"opacity\", 0);\t\n          }\n          \n          mainSvg.append('text')\n            .attr('x', 175)\n            .attr('y', 175)\n            .attr('style', \"font-size:36px;font-weight:bold;text-align:center;text-anchor:middle;font-family:sans-serif\")\n            .text(totalSeats);\n\n          var Counter=0 //How many spots have we drawn?\n          for (var i = 0; i < chartData.length; i ++){\n            //Make each party's blocks an svg group\n            var partySvg = mainSvg.append('g')\n              .attr(\"fill\", getFillColorFromPartyName(chartData[i].partyInfo.name, i))\n              .attr(\"id\", chartData[i].name);\n            \n            partySvg.on(\"mousemove\", onMouseMove.bind(this, partySvg, i))\t\t\t\t\t\n              .on(\"mouseout\", onMouseOut.bind(this, partySvg))\n            \n            for (var j = 0; j < chartData[i].seats; j++, Counter++) {\n              partySvg.append('circle')\n                .attr('cx', poslist[Counter].x*100.0+5.0)\n                .attr('cy', 100.0*(1.75-poslist[Counter].y)+5.0)\n                .attr('r', radius*100.0)\n            }\n          }\n      }\n      pythonConvertedCode(totalSeats, mainSvg);\n\n    }\n    this.destroy = function() {\n      svg.remove();\n    }\n  }","import React, { Component } from \"react\";\nimport * as d3 from \"d3\";\nimport styles from \"./horseshoe.css\";\nimport {Chart} from \"../SeatHorseShoeChart/d3horseshoe\";\nimport svgToPng from \"save-svg-as-png\";\n\nimport events from \"../../events\";\nimport config from \"../../config\";\nimport {\n  getSeatsData,\n  getPartyColors\n} from \"../../api\";\nimport {\n  parseSeatsData,\n  getNationOrProvinceName,\n  fetchDataFromOBJ,\n  handleRegionChange\n} from \"../../utils\";\n\n\nvar dataRefreshTime = 30 * 1000;\nvar chartOptions = {\n  chartType: 'Race For Seats HorseShoe Chart',\n};\n\nfunction className(originName) {\n  return styles[originName] || originName;\n}\n\nfunction cn(originName) {\n  return className(config.CSS_PREFIX + originName);\n}\n\nvar partyColorsData;\n\nclass HorseShoeChart extends Component {\n\n    constructor(props) {\n      super(props);\n      this.state = {\n        numParties: 100,\n        eventDescription: \"2019 National Election\",\n        regionType: \"national\",\n        provinceName: \"\",\n        muniName: \"\",\n        muniCode: \"\",\n        iecId: \"\",\n        stylesheetFor: \"web\",\n        componentID: 8\n      }\n\n      fetchDataFromOBJ(this.state, props);\n      this.state[\"numParties\"] = 100;\n\n      this.chart = null;\n      this.refreshIntervalID = 0;\n      this.exportAsPNG = this.exportAsPNG.bind(this);\n      this.exportAsPNGUri = this.exportAsPNGUri.bind(this);\n      this.handleRegionChange = handleRegionChange.bind(this);\n      this.handlePreviewEvent = this.handlePreviewEvent.bind(this);\n    }\n  \n    componentDidMount() {\n      var self = this;\n      this.draw(this.getContainer(), this.state);\n      this.refreshIntervalID = setInterval(() => {\n        self.draw(self.getContainer(), self.state)\n      }, dataRefreshTime);\n      document.addEventListener(events.EXPORT_PNG, this.exportAsPNG);\n      document.addEventListener(events.REGION_CHANGE, this.handleRegionChange);\n      document.addEventListener(events.CHART_PREVIEW, this.handlePreviewEvent);\n    }\n\n    componentDidUpdate() {\n      if (this.has_drawn === undefined) {\n        this.draw(this.getContainer(), this.state)\n        this.has_drawn = true;\n      } else {\n        // Hack to prevent drawing horseshoe twice\n        this.has_drawn = undefined;\n      }\n    }\n\n    componentWillUnmount() {\n      this.chart = null;\n      document.removeEventListener(events.EXPORT_PNG, this.exportAsPNG);\n      document.removeEventListener(events.REGION_CHANGE, this.handleRegionChange);\n      document.removeEventListener(events.CHART_PREVIEW, this.handlePreviewEvent);\n      clearInterval(this.refreshIntervalID);\n    }\n\n    exportAsPNGUri() {\n      var self = this;\n      return new Promise(function(resolve, reject) {\n        svgToPng.svgAsPngUri(self.refs.vizcontainer.childNodes[0], {}, function(uri) {\n          resolve(uri.split(',')[1]);\n        });\n      });\n    }\n\n    exportAsPNG(event) {\n      var targetState = event.detail;\n      if (targetState.componentID !== this.state.componentID)\n        return;\n      svgToPng.saveSvgAsPng(this.refs.vizcontainer.childNodes[0], `race-for-seats-horseshoe-chart(${getNationOrProvinceName(this.state)}).png`);\n    }\n\n    handlePreviewEvent(event) {\n      var newState = event.detail;\n      if (this.chart)\n        this.chart.destroy();\n      this.chart = new Chart(this.getContainer(), null, null, className, chartOptions);\n      this.setState(newState)\n    }\n\n    getContainer() {\n      return d3.select(this.refs.vizcontainer)\n    }\n      \n    render () {\n\n      const {\n        stylesheetFor,\n        componentID\n      } = this.state;\n      return (\n          <div className={className(\"horseshoechart\") + \" \" + cn(`stylesheet-${stylesheetFor}`)}>\n            {\n                componentID !== -1000 && <div className={cn(\"chart-title\")}>{chartOptions.chartType} ({getNationOrProvinceName(this.state)}): </div>\n            }\n            <div \n              ref=\"vizcontainer\" \n              className={cn(\"chart-body\")} \n              ></div>\n          </div>\n        )\n    }\n\n    draw(container, props) {\n      var self = this;\n      var seatsDataLoader = getSeatsData(props);\n      var dataLoaders = [seatsDataLoader];\n\n      if (!partyColorsData) {\n        var partyColorsLoader = getPartyColors();\n        dataLoaders.push(partyColorsLoader);\n      }\n\n      Promise.all(dataLoaders).then(function(values){ \n        var seatsData = values[0];\n        partyColorsData = partyColorsData || values[1];         \n        self.drawGraph(container, props, seatsData, partyColorsData);\n      }).catch(error => console.error(error));\n    }\n\n    drawGraph(container, props, data, partyColorsData) {\n        var chartData = parseSeatsData(data, props);\n        if (!this.chart)\n          this.chart = new Chart(container, null, null, className, chartOptions);\n        \n        this.chart.draw(chartData, partyColorsData);\n    }\n}\n\nexport default HorseShoeChart;\n","import * as d3 from \"d3\";\nimport {createTooltip, createSvg, createErrorText, PartyColours} from \"../../utils\";\n\nexport function Chart(container, width, height, className, options) {\n  if (!options) {\n    options = {};\n  }\n\n  var showPoints = options.showPoints || true;\n  var pointRadius = options.pointRadius || 2;\n  var showPointLabels = options.showPointLabels || false;\n  var pointLabelOffset = options.pointLabelOffset || 4;\n  var showCurrentLine = options.showCurrentLine || true;\n\n  width = 600;\n  height = 400;\n\n  var margin = {\n      top: 20,\n      right: 20,\n      bottom: 50,\n      left: 40\n  }\n\n  var canvas = {\n    top : margin.top,\n    bottom : height - margin.bottom - margin.top,\n    left : margin.left,\n    right : width - margin.right - margin.left\n  }\n\n  //var predefColors = [\"blue\", \"yellow\", \"red\"];\n\n  var svg = createSvg(container, width, height);\n\n  var tooltipDiv = createTooltip(className);\n\n  var mainSvg = svg\n    .append(\"g\")\n\n  var errorText = createErrorText(svg, width / 2, height / 2);\n\n  this.draw = function(originChartData, colorsData, minMaxData) {\n    var chartData = [];\n    var getPartyColour = PartyColours(colorsData);\n\n    if (!originChartData) {\n      errorText.text(\"chart data is not available\");\n      return;\n    }\n\n    if (!minMaxData.minX) {\n      minMaxData.minX = 0;\n    }\n    if (!minMaxData.maxX) {\n      var maxValue = d3.max(originChartData.map(partyInfo => {\n        return d3.max(partyInfo.data.map(it => it.x));\n      }));\n\n      minMaxData.maxX = Math.min(100, maxValue * 1.5);\n    }\n\n    var x = d3.scaleLinear()\n      .domain([minMaxData.minX, minMaxData.maxX])\n      .range([canvas.left, canvas.right]);\n\n    var y = d3.scaleLinear()\n      .domain([0, 100])\n      .range([canvas.bottom, canvas.top]);\n\n    var radiusScale = d3.scaleLinear()\n      .domain([0, 100])\n      .range([0, 100]);\n    \n    mainSvg.selectAll(\"g\").remove();\n\n    var axisContainer = mainSvg\n      .append(\"g\")\n        .classed(\"axes\", true)\n\n    axisContainer.append(\"g\")\n      .attr(\"transform\", \"translate(0, \" + canvas.bottom + \")\")\n      .classed(\"x-axis\", true)\n      .call(d3.axisBottom(x));\n\n    axisContainer.append(\"g\")\n      .attr(\"transform\", \"translate(\" + canvas.left + \", 0)\")\n      .classed(\"y-axis\", true)\n      .call(d3.axisLeft(y));\n\n    axisContainer.append(\"text\")\n      .text(\"% VDs declared\")\n      .attr(\"transform\", \"translate(\" + x((minMaxData.minX + minMaxData.maxX)/2 ) + \", \" + y(-10) + \")\")\n      .style(\"fill\", \"white\")\n      .attr(\"text-anchor\", \"middle\")\n      .classed(\"x-axis-text\", \"true\")\n      .classed(\"axis-text\", \"true\")\n\n    axisContainer.append(\"text\")\n      .text(\"% Party support\")\n      .attr(\"text-anchor\", \"middle\")\n      .attr(\"transform\", \"rotate(-90) translate(-180, 10)\")\n      .style(\"fill\", \"white\")\n      .classed(\"y-axis-text\", \"true\")\n      .classed(\"axis-text\", \"true\")\n\n    var data = null;\n    var party = null;\n    var lineContainer = null;\n    var legendContainer = null;\n    var eventCaptureContainer = null;\n    var cleaned_party_name = null;\n    var valueline = null;\n\n    originChartData.map(function(party) {\n      valueline = d3.line()\n        .x(function(d) { return x(d.x); })\n        .y(function(d) { return y(d.y); });\n\n      data = party.data;\n      var colour = getPartyColour(party.name);\n\n      lineContainer = mainSvg.append(\"g\")\n        .classed(\"line-container\", true)\n        .classed(party.cleaned_name, true);\n      \n      legendContainer = mainSvg.append(\"g\")\n        .classed(\"ledgends\", true)\n\n      eventCaptureContainer = mainSvg.append(\"g\")\n        .classed(\"event-capture-container\", true)\n        .classed(party.cleaned_name, true);\n\n      lineContainer.append(\"path\")\n        .data([data])\n          .attr(\"class\", \"line\")\n          .attr(\"d\", valueline)\n          .style(\"stroke\", colour)\n\n      if (showPoints) {\n        lineContainer.selectAll(\"circle\")\n          .data(data)\n          .enter()\n          .append(\"circle\")\n            .attr(\"cx\", function(d) { return x(d.x) })\n            .attr(\"cy\", function(d) { return y(d.y) })\n            .attr(\"r\", function(d) { return radiusScale(pointRadius) })\n            .style(\"fill\", colour)\n            .classed(\"graph-points\", true)\n        \n        eventCaptureContainer.selectAll(\"circle\")\n          .data(data)\n          .enter()\n          .append(\"circle\")\n            .attr(\"cx\", function(d) { return x(d.x) })\n            .attr(\"cy\", function(d) { return y(d.y) })\n            .attr(\"r\", function(d) { return radiusScale(pointRadius) * 3 })\n            .style(\"fill\", \"transparent\")\n            .classed(\"graph-points\", true)\n            .on(\"mousemove\", function(d, i) {\t\t\n              console.log(\"tooltip mousemove\");\n              d3.select(this)\n                .attr(\"opacity\", 0.8);\n              tooltipDiv.transition()\t\t\n                  .duration(200)\t\t\n                  .style(\"opacity\", .9);\t\t\n              tooltipDiv.html(d.y.toFixed(2) + \"%\")\n                  .style(\"left\", (d3.event.pageX) + \"px\")\t\t\n                  .style(\"top\", (d3.event.pageY - 28) + \"px\");\t\n            })\t\t\t\t\t\n            .on(\"mouseout\", function(d) {\t\t\n              console.log(\"tooltip mouseout\");\n              d3.select(this)\n                .attr(\"opacity\", 1);\n              tooltipDiv.transition()\t\t\n                .duration(200)\t\t\n                .style(\"opacity\", 0);\t\n            })\n      }\n\n      if (showPointLabels) {\n        lineContainer.selectAll(\"text\")\n          .data(data)\n          .enter()\n          .append(\"text\")\n            .text(function(d) { return d.y})\n            .attr(\"transform\", function(d) {\n              return \"translate(\" +  x(d.x - radiusScale(pointRadius / 2)) + \", \" + y(d.y + pointLabelOffset) + \")\"\n            })\n            .classed(\"graph-labels\", true)\n      }\n\n      // if (options.showLegend) \n      {\n        var parties = [];\n        var partyAbbrs = [];\n        var partyIecIds = [];\n        originChartData.forEach((partyInfo) => {\n          var party = partyInfo.name;\n          if (partyIecIds.indexOf(partyInfo.iecId) === -1 && partyInfo.iecId) {\n              parties.push(party);\n              partyAbbrs.push(partyInfo.abbreviation)\n              partyIecIds.push(partyInfo.iecId);\n          }\n        })\n        \n        function getLegendXY(i) {\n          \n          var xydata = [30 + (i%5)*100, height - 30 + parseInt(i/5) * 40];\n          if (parties.length < 6) {\n            xydata[0] += 100 * ( 6 - parties.length) / 2;\n          }\n          return xydata;\n        }\n        legendContainer.selectAll(`.${className(\"legend\")}`).remove();\n        var legends = legendContainer.selectAll(`.${className(\"legend\")}`)\n            .data(parties)\n            .enter()\n            .append('g')\n            .attr(\"class\", className(\"legend\"))\n            .attr('transform', (d, i) => \"translate(\" + getLegendXY(i) + \")\")\n        legends\n            .append(\"rect\")\n            .attr('width', 10)\n            .attr('height', 10)\n            .attr('x', 0)\n            .attr('y', 0)\n            .attr(\"fill\", (party, i) => {\n                return getPartyColour(party);\n            })\n        legends.append('text')\n            .attr('x', 30)\n            .attr('y', 10)\n            .style('font-size', '12px')\n            .text((party, idx) => partyAbbrs[idx])\n      }\n\n    })\n\n\n\n\n\n     /*\n\n      function getTooltipText(d, i) {\n          return d.name;\n      }\n      */\n    }\n    this.destroy = function() {\n      svg.remove();\n    }\n  }","import React, { Component } from \"react\";\nimport * as d3 from \"d3\";\nimport styles from \"./voteprediction.css\";\nimport {Chart} from \"../VotePredictionLineChart/d3voteprediction\";\nimport svgToPng from \"save-svg-as-png\";\n\nimport events from \"../../events\";\nimport config from \"../../config\";\nimport {\n  getVotesPredictionData,\n  getPartyColors\n} from \"../../api\";\nimport {\n  parseVotesPredictionData,\n  parseCSIRTurnoutTimestamp,\n  parseCSIRMinMax,\n  getNationOrProvinceName,\n  fetchDataFromOBJ,\n  handleRegionChange\n} from \"../../utils\";\n\n\nvar dataRefreshTime = 30 * 1000;\nvar chartOptions = {\n  chartType: 'Votes prediction line charts',\n};\n\nfunction className(originName) {\n  return styles[originName] || originName;\n}\n\nfunction cn(originName) {\n  return className(config.CSS_PREFIX + originName);\n}\n\nfunction formatDate(d) {\n  var hr = d.getHours();\n  var min = d.getMinutes();\n  if (min < 10) {\n      min = \"0\" + min;\n  }\n\n  var date = d.getDate();\n  var months = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n  var month = months[d.getMonth()];\n  var year = d.getFullYear();\n\n  var currentTimeText = hr + \":\" + min + \" on \" + date + \" \" + month + \" \" + year;\n  return currentTimeText;\n}\n\nvar partyColorsData;\n\nclass VotePredictionLineChart extends Component {\n    constructor(props) {\n      super(props);\n      this.state = {\n        numParties: 100,\n        electionType: \"national\",\n        eventDescription: \"2019 National Election\",\n        regionType: \"national\",\n        provinceName: \"\",\n        muniName: \"\",\n        muniCode: \"\",\n        iecId: \"\",\n        stylesheetFor: \"web\",\n        componentID: 8\n      }\n      this._isMounted = false;\n\n      fetchDataFromOBJ(this.state, props);\n      this.state[\"numParties\"] = 100;\n\n      this.chart = null;\n      this.refreshIntervalID = 0;\n      this.exportAsPNG = this.exportAsPNG.bind(this);\n      this.exportAsPNGUri = this.exportAsPNGUri.bind(this);\n      this.handleRegionChange = handleRegionChange.bind(this);\n      this.handlePreviewEvent = this.handlePreviewEvent.bind(this);\n    }\n  \n    componentDidMount() {\n      this._isMounted = true;\n      var self = this;\n      this.draw(this.getContainer(), this.state);\n      this.refreshIntervalID = setInterval(() => {\n        self.draw(self.getContainer(), self.state)\n      }, dataRefreshTime);\n      document.addEventListener(events.EXPORT_PNG, this.exportAsPNG);\n      document.addEventListener(events.REGION_CHANGE, this.handleRegionChange);\n      document.addEventListener(events.CHART_PREVIEW, this.handlePreviewEvent);\n    }\n\n    componentDidUpdate() {\n        this.draw(this.getContainer(), this.state);\n    }\n\n    componentWillUnmount() {\n      this._isMounted = false;\n      this.chart = null;\n      document.removeEventListener(events.EXPORT_PNG, this.exportAsPNG);\n      document.removeEventListener(events.REGION_CHANGE, this.handleRegionChange);\n      document.removeEventListener(events.CHART_PREVIEW, this.handlePreviewEvent);\n      clearInterval(this.refreshIntervalID);\n    }\n\n    exportAsPNGUri() {\n      var self = this;\n      return new Promise(function(resolve, reject) {\n        svgToPng.svgAsPngUri(self.refs.vizcontainer.childNodes[0], {}, function(uri) {\n          resolve(uri.split(',')[1]);\n        });\n      });\n    }\n\n    exportAsPNG(event) {\n      var targetState = event.detail;\n      if (targetState.componentID != this.state.componentID)\n        return;\n\n      // TODO not sure what to change race-for-seats-horseshoe.... to\n      svgToPng.saveSvgAsPng(this.refs.vizcontainer.childNodes[0], `race-for-seats-horseshoe-chart(${getNationOrProvinceName(this.state)}).png`);\n    }\n\n    handlePreviewEvent(event) {\n      if (this._isMounted) {\n        var newState = event.detail;\n        if (this.chart)\n          this.chart.destroy();\n        this.chart = new Chart(this.getContainer(), null, null, className, chartOptions);\n        this.setState(newState)\n      }\n    }\n\n    getContainer() {\n      return d3.select(this.refs.vizcontainer)\n    }\n      \n    render () {\n\n      const {\n        stylesheetFor,\n        componentID\n      } = this.state;\n\n      var currentTimeText = formatDate(new Date());\n\n      return (\n          <div className={className(\"votepredictionlinechart\") + \" \" + cn(`stylesheet-${stylesheetFor}`)}>\n            {\n                componentID != -1000 && <div className={cn(\"chart-title\")}>{chartOptions.chartType} ({getNationOrProvinceName(this.state)}): </div>\n            }\n            <div className={cn(\"vote-prediction-title\")}>\n              <div className={cn(\"projected-turnout\")}> \n                Projected turnout: <span ref=\"projectedTurnout\">10%</span>\n              </div>\n              <div className={cn(\"prediction-time\")}> \n                Predictions at <span ref=\"lastTimestamp\">{currentTimeText}</span>\n              </div>\n            </div>\n            <div \n              ref=\"vizcontainer\" \n              className={cn(\"chart-body\")} \n              ></div>\n              <div className={cn(\"CSIR-bottom-label\")}><b>CSIR's election prediction  model</b><br/>The CSIR produces predictions of the final results of the election based on a statistical model. The model can provide scientific predictions even if only a small number of voting districts have been declared and therefore can give a reliable early indication of what the final percentages for each party and the voter turnout rates would be.</div>\n          </div>\n        )\n    }\n\n    draw(container, props) {\n      var self = this;\n      var predictionDataLoader = getVotesPredictionData(props);\n      var dataLoaders = [predictionDataLoader];\n\n      if (!partyColorsData) {\n        var partyColorsLoader = getPartyColors();\n        dataLoaders.push(partyColorsLoader);\n      }\n\n      Promise.all(dataLoaders).then(function(values){ \n        var predictionData = values[0];\n        partyColorsData = partyColorsData || values[1];         \n        self.drawGraph(container, props, predictionData, partyColorsData);\n      }).catch(error => console.error(error));\n    }\n\n    drawGraph(container, props, data, partyColorsData) {\n        var minMaxData = parseCSIRMinMax(data);\n        var chartData = parseVotesPredictionData(data, props);\n        var {\n          turnout,\n          timestamp\n        } = parseCSIRTurnoutTimestamp(data, props);\n        if (this.refs.projectedTurnout && this.refs.projectedTurnout.innerHTML) {\n          this.refs.projectedTurnout.innerHTML = turnout + \"%\";\n        }\n        if (this.refs.lastTimestamp && this.refs.lastTimestamp.innerHTML) {\n          var lastTimeStampText = formatDate(new Date(timestamp));\n          console.log(\"timestamp\", new Date(timestamp), timestamp, lastTimeStampText);\n          this.refs.lastTimestamp.innerHTML = lastTimeStampText;\n        }\n        if (!this.chart)\n          this.chart = new Chart(container, null, null, className, chartOptions);\n        \n        this.chart.draw(chartData, partyColorsData, minMaxData);\n    }\n}\n\nexport default VotePredictionLineChart;\n","import * as d3 from \"d3\";\nimport {createTooltip, createSvg, formatPartyName, formatClassNameFromString} from \"../../utils\";\nimport config from \"../../config\"\n\nexport function Chart(container, width, height, className, options) {\n  if (!options) {\n      options = {};\n  }\n  width = 700;\n  height = 250;\n\n    var XaxisOffset = 70;\n    var YaxisOffset = 50;\n    var predefColors = [\"blue\", \"yellow\", \"red\"];\n\n    // TODO not sure what options.viewBox is below - don't see it being used anywhere\n    /*\n    var svg = container.append(\"svg\")\n        .attr(\"preserveAspectRatio\", \"xMinYMin meet\")\n        .attr(\"viewBox\", options.viewBox || (\"0 0 \" + (width+XaxisOffset) + \" \" + (height+YaxisOffset)))\n        .classed(\"svg-content\", true);\n    */\n\n    var svg = createSvg(container, width + XaxisOffset, height + YaxisOffset);\n        \n    var tooltipDiv = createTooltip(className);\n  \n    var x = d3.scaleBand()\n      .rangeRound([XaxisOffset, width])\n  \n    var y = d3.scaleLinear()\n      .rangeRound([height, YaxisOffset]);\n\n    svg.append(\"g\")\n      .attr(\"class\", \"x axis\")\n      .attr(\"transform\", \"translate(0,\" + height + \")\")\n  \n    svg.append(\"g\")\n      .attr(\"class\", \"y axis\")\n      .attr(\"transform\", \"translate(\" + XaxisOffset +\", 0)\")\n  \n    var errorText = svg.append(\"g\")\n      .attr(\"transform\", \"translate(\"+(width/2)+\",\"+(height/2)+\")\")\n      .append(\"text\")\n      .attr(\"text-anchor\", \"middle\");\n  \n    this.draw = function(groupChartData, colorsData) {\n\n    svg.selectAll(\".topLabel\").remove();\n    svg.append(\"text\")\n        .attr(\"class\", \"topLabel\")\n        .attr(\"text-anchor\", \"middle\")\n        .attr(\"x\", width/2)\n        .attr(\"y\", 20)\n        .text(options.topLabel);\n\n    if (!groupChartData) {\n        errorText.text(\"chart data is not available\");\n        return;\n    } else {\n        errorText.text(\"\");\n    }\n    var partyColorByName = {};\n    var partyAbbrByName = {};\n    if (colorsData && colorsData[\"data\"][\"allParties\"][\"edges\"]) {\n      colorsData[\"data\"][\"allParties\"][\"edges\"].forEach(edge => {\n        partyColorByName[edge.node.name] = edge.node.colour;\n        partyAbbrByName[edge.node.name] = edge.node.abbreviation;\n      })\n    }   \n\n      function getFillColorFromPartyName(partyName, i) {\n        return partyColorByName[partyName.split(\"/\")[0]] || predefColors[i%predefColors.length];\n      }\n\n      function getFillColor(d, i) {\n          return getFillColorFromPartyName(d.partyInfo.name, i);\n      }\n\n      function getTooltipText(d, i) {\n        if (options.noXaxisByParty) {\n          return d.name + \" : \" + options.yValueFormat(options.yValue(d));\n        } else {\n          return formatPartyName(d.partyInfo.name) + \" : \" + options.yValueFormat(options.yValue(d));\n        }\t\n      }\n\n      x.domain(groupChartData.map(item => item.eventDescription));\n\n      var minMaxY = [0, 100];\n      if (options.dynamicYAxisFromValues) {\n        minMaxY[1] = Math.min(100, d3.max(groupChartData.map(item => d3.max(item.data, function(d) { return parseFloat(options.yValue(d)); }))) * 1.5);\n      }\n      y.domain(minMaxY);\n\n      var availableParties = \n \n      svg.select(\".x.axis\").transition().duration(300).call(d3.axisBottom(x));\n      svg.select(\".y.axis\").transition().duration(300).call(d3.axisLeft(y)\n        .ticks(4)\n        .tickFormat(function(d) { return options.yValueFormat(d); })\n      )\n\n      svg.selectAll(`.bar-group`).remove();\n      var groupSvgs = svg.selectAll(`.bar-group`).data(groupChartData);\n      groupSvgs.exit()\n        .transition()\n        .duration(300)\n        .style(\"fill-opacity\", 1e-6)\n        .remove();\n    \n      var groupSvg = groupSvgs.enter()\n        .append(\"g\")\n        .attr(\"class\", d => `bar-group ${formatClassNameFromString(d.eventDescription)}`)\n        .attr(\"transform\", (d) => `translate(${x(d.eventDescription) + x.bandwidth()*1/20}, 0)`);\n\n      groupSvg.append(\"g\")\n        .attr(\"class\", \"bar-container\");\n      groupSvg.append(\"g\")\n        .attr(\"class\", \"bartext-container\");\n      \n      for (var i = 0; i < groupChartData.length; i ++) {\n        var eventDescription = groupChartData[i].eventDescription;\n        var chartData = groupChartData[i].data;\n\n        var subX = d3.scaleBand()\n          .rangeRound([0, x.bandwidth()*9/10])\n          .domain(chartData.map(function (d) {\n            return d.name;\n          }));\n\n        var groupSvg = svg.selectAll(`.bar-group.${formatClassNameFromString(eventDescription)}`);\n\n        var barSvg = groupSvg.select(\".bar-container\");\n        var barTextSvg = groupSvg.select(\".bartext-container\");\n\n        var bars = barSvg.selectAll(`.${className(\"bar\")}`).data(chartData);\n  \n        bars.exit()\n          .transition()\n          .duration(300)\n          .attr(\"y\", function(d) {\n            return y(0);\n          })\n          .attr(\"height\", 0)\n          .style(\"fill-opacity\", 1e-6)\n          .remove();\n        \n    \n        bars.enter()\n            .append(\"rect\")\n            .attr(\"class\", (d) => className(\"bar\") + \" bar_\" + d.name)\n            .attr(\"x\", function (d, i) {\n              return subX(d.name)+subX.bandwidth()/4;\n            })\n            .attr(\"width\", subX.bandwidth()*1/2)\n            .attr(\"fill\", (d,i) => getFillColor(d, i))\n            .on(\"mousemove\", function(d, i) {\t\t\n                d3.select(this)\n                  .attr(\"opacity\", 0.8);\n                tooltipDiv.transition()\t\t\n                    .duration(200)\t\t\n                    .style(\"opacity\", .9);\t\t\n                tooltipDiv.html(getTooltipText(d, i))\n                    .style(\"left\", (d3.event.pageX) + \"px\")\t\t\n                    .style(\"top\", (d3.event.pageY - 28) + \"px\");\t\n                })\t\t\t\t\t\n            .on(\"mouseout\", function(d) {\t\t\n                d3.select(this)\n                  .attr(\"opacity\", 1);\n                tooltipDiv.transition()\t\t\n                    .duration(200)\t\t\n                    .style(\"opacity\", 0);\t\n            })\n            .attr(\"y\", function(d) {\n              return y(0);\n            })\n            .attr(\"height\", 0)        \n    \n          barSvg.selectAll(`.${className(\"bar\")}`).data(chartData)\n            .attr(\"fill\", (d, i) => getFillColor(d, i))\n            .transition()\n            .duration(300)\n            .attr(\"y\", function (d) {\n              return y(Number(options.yValue(d)));\n            })\n            .attr(\"height\", function (d) {\n              return height - y(Number(options.yValue(d)));\n            })\n\n          var barTexts = barTextSvg.selectAll(`.${className(\"bartext\")}`).data(chartData);\n          barTexts.exit()\n            .transition()\n            .duration(300)\n            .attr(\"y\", function(d) {\n              return y(0) - 5;\n            })\n            .style(\"fill-opacity\", 1e-6)\n            .remove();\n    \n          barTexts.enter().append(\"text\")\n            .attr(\"class\", className(\"bartext\"))\n            .attr(\"x\", function (d) {\n              return subX(d.name)+subX.bandwidth()/2;\n            })\n            .attr(\"text-anchor\", \"middle\")\n            .attr(\"font-size\", \"7px\")\n            .attr(\"y\", function(d) {\n              return y(0) - 5;\n            })\n          barTextSvg.selectAll(`.${className(\"bartext\")}`).data(chartData)\n            .text(function(d) {\n              return options.yValueFormat(options.yValue(d));\n            })\n            .transition()\n            .duration(300)\n            .attr(\"y\", function (d) {\n              return y(Number(options.yValue(d))) - 5;\n            })\n          \n          var parties = [];\n          var partyIecIds = [];\n          groupChartData.forEach(({data: chartData}) => {\n            chartData.forEach(({partyInfo}) => {\n              var party = partyInfo.name;\n              if (partyIecIds.indexOf(partyInfo.iecId) == -1) {\n                  parties.push(party);\n                  partyIecIds.push(partyInfo.iecId);\n              }\n            })\n          })\n          \n          function getLegendXY(i) {\n              return [XaxisOffset + (i%5)*100, height + 30 + parseInt(i/5) * 40];\n          }\n          svg.selectAll(`.${className(\"legend\")}`).remove();\n          var legends = svg.selectAll(`.${className(\"legend\")}`)\n              .data(parties)\n              .enter()\n              .append('g')\n              .attr(\"class\", className(\"legend\"))\n              .attr('transform', (d, i) => \"translate(\" + getLegendXY(i) + \")\")\n          legends\n              .append(\"rect\")\n              .attr('width', 10)\n              .attr('height', 10)\n              .attr('x', 0)\n              .attr('y', 0)\n              .attr(\"fill\", (party, i) => {\n                  return getFillColorFromPartyName(party);\n              })\n          legends.append('text')\n              .attr('x', 30)\n              .attr('y', 10)\n              .attr('fill', 'currentColor')\n              .style('font-size', '12px')\n              .text(party => partyAbbrByName[party])\n      }\n    }\n    this.destroy = function() {\n      svg.remove();\n    }\n  }","import React, { Component } from \"react\";\nimport * as d3 from \"d3\";\nimport styles from \"../BarChart/barchart.css\";\nimport {Chart} from \"../SplitNatProv/d3groupbarchart\";\nimport svgToPng from \"save-svg-as-png\";\n\nimport events from \"../../events\";\nimport config from \"../../config\";\nimport {\n  getVotesDataForAllEvents,\n  getPartyColors,\n  getProvincesData\n} from \"../../api\";\nimport {\n  parseVotesDataForAllEvents,\n  getRegionName,\n  fetchDataFromOBJ,\n  handleRegionChange\n} from \"../../utils\";\n\nvar provincesData = getProvincesData();\n\nvar dataRefreshTime = 30 * 1000;\n\nfunction className(originName) {\n  return styles[originName] || originName;\n}\n\nfunction cn(originName) {\n  return className(config.CSS_PREFIX + originName);\n}\n\nvar partyColorsData;\n\nvar chartOptions = {\n  topLabel: \"NATIONAL ASSEMBLY: 2009, 2014, 2019\",\n  usedValue: \"% VDS COUNTED\",\n  yValue: d => d.percOfVotes,\n  yValueFormat: value => value + '%',\n  dynamicYAxisFromValues: false\n}\n\nclass BarChart extends Component {\n\n    constructor(props) {\n      super(props);\n      this.state = {\n        numPartiesSplitNatProv: 3,\n        eventDescriptionsSplitNatProv: [\n          // \"National Elections 1999\",\n          // \"Provincial Elections 1999\",\n          // \"14 Apr 2004 National Election\",\n          // \"14 Apr 2004 Provincial Election\",\n          \"22 Apr 2009 National Election\",\n          \"22 Apr 2009 Provincial Election\",\n          \"2014 National Election\",\n          \"2014 Provincial Election\",\n          // \"2019 NATIONAL ELECTION\",\n          // \"2019 PROVINCIAL ELECTION\",\n        ],\n        regionType: \"province\",\n        provinceName: \"Western Cape\",\n        muniName: \"\",\n        muniCode: \"\",\n        iecId: \"\",\n        stylesheetFor: \"web\",\n        componentID: 18\n      }\n\n      console.log(\"SplitNatProv state and props\", this.state, props)\n      fetchDataFromOBJ(this.state, props);\n\n      this.chart = null;\n      this.refreshIntervalID = 0;\n      this.exportAsPNG = this.exportAsPNG.bind(this);\n      this.exportAsPNGUri = this.exportAsPNGUri.bind(this);\n      this.handleRegionChange = handleRegionChange.bind(this);\n      this.handlePreviewEvent = this.handlePreviewEvent.bind(this);\n    }\n  \n    componentDidMount() {\n\n      var self = this;\n      this.draw(this.getContainer(), this.state);\n      this.refreshIntervalID = setInterval(() => {\n        self.draw(self.getContainer(), self.state)\n      }, dataRefreshTime);\n      document.addEventListener(events.EXPORT_PNG, this.exportAsPNG);\n      document.addEventListener(events.REGION_CHANGE, this.handleRegionChange);\n      document.addEventListener(events.CHART_PREVIEW, this.handlePreviewEvent);\n    }\n\n    componentDidUpdate() {\n      this.draw(this.getContainer(), this.state)\n    }\n\n    componentWillUnmount() {\n      if (this.chart) {\n        this.chart.destroy();\n        this.chart = null;\n      }\n      document.removeEventListener(events.EXPORT_PNG, this.exportAsPNG);\n      document.removeEventListener(events.REGION_CHANGE, this.handleRegionChange);\n      document.removeEventListener(events.CHART_PREVIEW, this.handlePreviewEvent);\n      clearInterval(this.refreshIntervalID);\n    }\n\n    exportAsPNGUri() {\n      var self = this;\n      return new Promise(function(resolve, reject) {\n        svgToPng.svgAsPngUri(self.refs.vizcontainer.childNodes[0], {}, function(uri) {\n          resolve(uri.split(',')[1]);\n        });\n      });\n    }\n\n    exportAsPNG(event) {\n      var targetState = event.detail;\n      if (targetState.componentID != this.state.componentID)\n        return;\n      svgToPng.saveSvgAsPng(this.refs.vizcontainer.childNodes[0], `race-for-votes-comparison-barchart(${getRegionName(this.state)}).png`);\n    }\n\n    handlePreviewEvent(event) {\n      var newState = event.detail;\n      if (this.chart)\n        this.chart.destroy();\n      this.chart = new Chart(this.getContainer(), null, null, className, chartOptions);\n      this.setState(newState)\n    }\n\n    getContainer() {\n      return d3.select(this.refs.vizcontainer)\n    }\n      \n    render () {\n      const {\n        stylesheetFor\n      } = this.state;\n      return (\n          <div className={cn(\"groupbarchart\") + \" \" + cn(`stylesheet-${stylesheetFor}`)}>\n            <div \n              ref=\"vizcontainer\" \n              className={cn(\"chart-body\")} \n              ></div>\n          </div>\n        )\n    }\n\n    draw(container, props) {\n      var self = this;\n      var votesDataLoader = getVotesDataForAllEvents(props);\n      var dataLoaders = [votesDataLoader];\n\n      chartOptions.topLabel = `${getRegionName(props)} Race for Votes - Split (Nat/Prov)`;\n      if (this.state.componentID == -1000) {\n        chartOptions.topLabel = ``;\n      }\n      \n      if (!partyColorsData) {\n        var partyColorsLoader = getPartyColors();\n        dataLoaders.push(partyColorsLoader);\n      }\n\n      Promise.all(dataLoaders).then(function(values){ \n        var votesData = values[0];\n        partyColorsData = partyColorsData || values[1];          \n        self.drawGraph(container, props, votesData, partyColorsData);\n      }).catch(error => console.error(error));\n    }\n\n    drawGraph(container, props, data, partyColorsData) {\n        var chartData = parseVotesDataForAllEvents(data, props);\n        // console.log(\"SplitNatProvProps\", props);\n        // console.log(\"SplitNatProvData\", data);\n        // console.log(\"SplitNatProvParsed\", chartData);\n\n        if (!this.chart)\n          this.chart = new Chart(container, null, null, className, chartOptions);\n        this.chart.draw(chartData, partyColorsData);\n    }\n}\n\nexport default BarChart;\n","import React, { Component } from \"react\";\nimport MetisMenu from 'react-metismenu';\n\nimport config from '../../config'\nimport styles from \"./navbar.css\";\nimport events from \"../../events\";\nimport {\n    getProvincesData,\n    getMetrosData\n} from \"../../api\";\n\nimport {\n    triggerCustomEvent,\n    fetchDataFromOBJ\n} from \"../../utils\";\n\nfunction className(originName) {\n  return styles[originName] || originName;\n}\n\nfunction cssPrefix(originName) {\n    return config.CSS_PREFIX+originName;\n}\n\nvar provincesData = getProvincesData();\nvar metrosData = getMetrosData();\n\nclass CustomLink extends React.Component {\n    constructor() {\n      super();\n  \n      this.onClick = this.onClick.bind(this);\n    }\n  \n    onClick(e) {\n      if (this.props.hasSubMenu) this.props.toggleSubMenu(e);\n      else {\n        this.props.activateMe({\n          newLocation: this.props.to,\n          selectedMenuLabel: this.props.label,\n        });\n      }\n    }\n  \n    render() {\n      if (this.props.hasSubMenu) {\n        return (\n          <div className=\"metismenu-link\" onClick={this.onClick}>\n            {this.props.children}\n          </div>\n      )} else {\n        return (\n          <div className=\"metismenu-link metismenu-end\" onClick={this.onClick}>\n            {this.props.children}\n          </div>\n        );\n      }\n    }\n  };\n\nclass NavBar extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            eventDescription: \"2019 National Election\",\n            nationalEventDescription: \"2019 National Election\",\n            provincialEventDescription: \"2019 Provincial Election\",\n            regionType: \"national\",\n            provinceName: \"\",\n            muniName: \"\",\n            muniCode: \"\",\n            iecId: \"\",\n            comp: \"Race for Votes\",\n            activeLinkId: ''\n        }\n\n        fetchDataFromOBJ(this.state, props);\n\n        if (props.regionType) {\n            this.state.regionType = props.regionType;\n        }\n        if (props.provinceName) {\n            this.state.provinceName = props.provinceName;\n        }\n        if (props.muniName) {\n            this.state.muniName = props.muniName;\n        }\n        this.handleNavBarSelection = this.handleNavBarSelection.bind(this);\n    }\n\n    componentDidMount() {\n        if(!document.getElementById('navbarcss')) {\n            var link = document.createElement('link');\n            link.id = 'navbarcss';\n            link.rel = 'stylesheet';\n            link.href = config.DOMAIN + '/navbar.css';\n            document.head.appendChild(link);\n        }\n\n        if(!document.getElementById('font-awesome')) {\n            var link = document.createElement('link');\n            link.id = 'font-awesome';\n            link.rel = 'stylesheet';\n            link.href = \"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\";\n            document.head.appendChild(link);\n        }\n\n        this.refs.navbar.addEventListener(\"click\", this.handleNavBarSelection);\n    }\n\n    componentWillUnmount() {\n        this.refs.navbar.removeEventListener(\"click\", this.handleNavBarSelection);\n    }\n\n    componentDidUpdate() {\n    }\n\n    handleNavBarSelection(e) {\n        if (e.target.className.indexOf(\"metismenu-link\") == -1) {\n            return;\n        }\n        if (this.activeElement && this.activeElement.classList && this.activeElement.classList.remove) {\n            this.activeElement.classList.remove(\"active\");\n        }\n        e.target.classList.add(\"active\");\n        this.activeElement = e.target;\n\n        var iconClass = e.target.childNodes[0].className;\n        var classList = iconClass.split(' ');\n        var lastClass = classList[classList.length - 1];\n        console.log(\"handleNavBarSelection\", lastClass);\n        var passInfo = lastClass.split('-');\n        var enableMap = true;\n        var enableTurnoutProgressSpoilt = true;\n\n        var eventDescription, electionType, regionType, selectionData = {}, chartType = \"\";\n        var activeLinkId = passInfo.slice(1, passInfo.length).join('-');\n\n        console.log(\"activeLinkId\", activeLinkId);\n\n        if (passInfo[1] == '1') {\n            eventDescription = this.state.nationalEventDescription;\n            regionType = \"national\";\n            if (passInfo[2] == '1') {\n                switch (passInfo[3]) {\n                    case '1':\n                        chartType = \"votes-default\";\n                        break;\n                    case '2':\n                        chartType = \"votes-comparisons\";\n                        enableMap = false;\n                        break;\n                    case '3':\n                        chartType = \"votes-predictions\";\n                        enableMap = false;\n                        enableTurnoutProgressSpoilt = false;\n                        // if (passInfo[4] > 0) {\n                        //     regionType = \"province\";\n                        //     selectionData = provincesData[passInfo[4]-1];\n                        // }\n                        break;\n                    case '4':\n                        chartType = \"votes-progress\";\n                        break;\n                    case '5':\n                        chartType = \"votes-turnout\";\n                        break;\n                    case '6':\n                        chartType = \"votes-myvd\";\n                        break;\n                    default:\n                        return;\n                }\n            } else if (passInfo[2] == '2') {\n                switch (passInfo[3]) {\n                    case '1':\n                        chartType = \"seats-default\";\n                        enableMap = false;\n                        break;\n                    case '2':\n                        chartType = \"seats-comparisons\";\n                        enableMap = false;\n                        break;\n                    case '3':\n                        chartType = \"seats-electeds\";\n                        break;\n                    case '4':\n                        chartType = \"seats-women\";\n                        break;\n                    case '5':\n                        chartType = \"seats-age\";\n                        break;\n                    default:\n                        return;\n                }\n            } else if (passInfo[3] == '4') {\n                // Main page for National Assembly\n                chartType = \"votes-default\";\n            } else {\n                return;\n            }\n        } else if (passInfo[1] == '2') {\n            eventDescription = this.state.provincialEventDescription;\n            regionType = \"province\";\n            selectionData = provincesData[passInfo[2]];\n            if (passInfo[3] == '1') {\n                switch (passInfo[4]) {\n                    case '1':\n                        chartType = \"votes-default\"; // done\n                        break;\n                    case '2':\n                        chartType = \"votes-comparisons\";\n                        enableMap = false;\n                        break;\n                    case '3':\n                        chartType = \"votes-progress\"; // done\n                        break;\n                    case '4':\n                        chartType = \"votes-turnout\";// done\n                        break;\n                    case '5':\n                        chartType = \"votes-split\";\n                        break;\n                    case '6':\n                        chartType = \"votes-predictions\";\n                        enableMap = false;\n                        enableTurnoutProgressSpoilt = false;\n                        break;\n                    default:\n                        return;\n                }\n            } else if (passInfo[3] == '2') {\n                switch (passInfo[4]) {\n                    case '1':\n                        chartType = \"seats-default\"; // done\n                        enableMap = false;\n                        break;\n                    case '2':\n                        chartType = \"seats-comparisons\";\n                        enableMap = false;\n                        break;\n                    case '3':\n                        chartType = \"seats-electeds\";\n                        break;\n                    case '4':\n                        chartType = \"seats-women\";\n                        break;\n                    case '5':\n                        chartType = \"seats-age\";\n                        break;\n                    default:\n                        return;\n                }\n\n            } else if (passInfo[3] == '4') {\n                // Main page for National Legislature\n                regionType = \"national\";\n                chartType = \"votes-default\";\n            } else {\n                return;\n            }\n        } else if (passInfo[1] == '3') { // metros\n            eventDescription = this.state.nationalEventDescription;\n            regionType = \"municipality\"\n            selectionData = metrosData[passInfo[2]];\n            chartType = \"votes-default-metro\";\n        } else {\n            return;\n        }\n\n        if (!chartType)\n            return;\n\n        if (eventDescription)\n            if (eventDescription.toLowerCase().indexOf(\"provincial\") >= 0) {\n                electionType = \"provincial\"\n            }\n        else {\n            electionType = \"national\"\n        }\n\n        e.preventDefault();\n        var newState;\n        if (regionType == \"national\") {\n            newState = {\n                regionType: regionType\n            };\n            // if (this.state.regionType == newState.regionType \n            //     && this.state.comp == chartType)\n            //     return;\n        } else if (regionType == \"province\") {\n            newState = {\n                regionType: regionType,\n                provinceName: selectionData.name\n            };\n            // if (this.state.regionType == newState.regionType \n            //     && this.state.provinceName == newState.provinceName \n            //     && this.state.comp == chartType)\n            //     return;\n        } else if (regionType == \"municipality\") {\n            newState = {\n                regionType: regionType,\n                provinceName: selectionData.provinceName,\n                muniName: selectionData.muniName,\n                muniCode: selectionData.muniCode,\n            }; \n            // if (this.state.regionType == newState.regionType \n            //     && this.state.provinceName == newState.provinceName\n            //     && this.state.muniName == newState.muniName\n            //     && this.state.comp == chartType)\n            //     return;\n        }\n        newState.eventDescription = eventDescription;\n        newState.electionType = electionType\n        newState.comp = chartType;\n        newState.enableMap = enableMap;\n        newState.enableTurnoutProgressSpoilt = enableTurnoutProgressSpoilt;\n\n        console.log(\"newState\", newState);\n\n        if (newState.comp == \"votes-myvd\") {\n            newState.regionType = \"municipality-vd\";\n            newState.iecId = \"\";\n        }\n\n        if (newState.comp == \"seats-electeds\" || newState.comp == \"seats-women\" || newState.comp == \"seats-age\") {\n            triggerCustomEvent(events.SEATS_ELECTEDS_EVENT, newState);\n            return;\n        }\n\n        triggerCustomEvent(events.QUICK_RESULTS_PREVIEW, newState);\n        // triggerCustomEvent(events.REGION_CHANGE, newState);\n        // triggerCustomEvent(events.MAP_PREVIEW, newState);\n\n        newState.activeLinkId = activeLinkId;\n        console.log(\"newState\", newState);\n        this.setState(newState);\n    }\n      \n    render () {\n        var content = [\n            {\n                label: 'National Assembly',\n                content: [\n                    {\n                        label: \"Race for votes\",\n                        content: [\n                            {\n                                id: `1-1-1`,\n                                icon: `1-1-1`,\n                                label: `National assembly`,\n                                to: `1-1-1`,\n                            },\n                            {\n                                id: `1-1-2`,\n                                icon: `1-1-2`,\n                                label: `Comparisons`,\n                                to: `1-1-2`,\n                            },\n                            {\n                                icon: `1-1-3`,\n                                label: `CSIR predictions`,\n                                to: `1-1-3`,\n                                // content: [\n                                //     {\n                                //         icon: `1-1-3-0`,\n                                //         label: `National Assembly`,\n                                //         to: `1-1-3-0`,\n                                //     },\n                                //     ...provincesData.map((province, i) => {\n                                //         return {\n                                //             icon: `1-1-3-${i+1}`,\n                                //             label: province.name,\n                                //             to: `1-1-3-${i+1}`,\n                                //         }\n                                //     })\n                                // ]\n                            },\n                            {\n                                icon: `1-1-4`,\n                                label: `Counting progress`,\n                                to: `1-1-4`,\n                            },\n                            {\n                                icon: `1-1-5`,\n                                label: `Turnout`,\n                                to: `1-1-5`,\n                            },\n                            {\n                                icon: `1-1-6`,\n                                label: `My voting District`,\n                                to: `1-1-6`,\n                            },\n                            {\n                                label: `Metros`,\n                                icon: `3-2`, // Setting default metros view to JHB\n                                content: metrosData.map((metro, i) => {\n                                    return {\n                                        icon: `3-${i}`,\n                                        label: metro.muniName.split(\"-\")[1].split(\"[\")[0],\n                                        to: `3-${i}`,\n                                    }\n                                })\n                            },\n                        ]\n                    },\n                    {\n                        label: \"Race for seats\",\n                        content: [\n                            {\n                                icon: `1-2-1`,\n                                label: `National assembly`,\n                                to: `1-2-1`\n                            },\n                            {\n                                icon: `1-2-2`,\n                                label: `Comparisons`,\n                                to: `1-2-2`,\n                            },\n                            // {\n                            //     icon: `1-2-3`,\n                            //     label: `Electeds`,\n                            //     to: `1-2-3`,\n                            // },\n                            // {\n                            //     icon: `1-2-4`,\n                            //     label: `Women`,\n                            //     to: `1-2-4`,\n                            // },\n                            // {\n                            //     icon: `1-2-5`,\n                            //     label: `Age`,\n                            //     to: `1-2-5`,\n                            // }\n                        ]\n                    }\n                ]\n            },\n            {\n                label: 'Provincial Legislature',\n                content: provincesData.map((province, i) => {\n                    return {\n                        label: province.name,\n                        content: [\n                            {\n                                label: \"Race for votes\",\n                                content: [\n                                    {\n                                        icon: `2-${i}-1-1`,\n                                        label: `Provincial legislature`,\n                                        to: `2-${i}-1-1`,\n                                    },\n                                    {\n                                        icon: `2-${i}-1-2`,\n                                        label: `Comparisons`,\n                                        to: `2-${i}-1-2`,\n                                    },\n                                    {\n                                        icon: `2-${i}-1-3`,\n                                        label: `Counting progress`,\n                                        to: `2-${i}-1-3`,\n                                    },\n                                    {\n                                        icon: `2-${i}-1-4`,\n                                        label: `Turnout`,\n                                        to: `2-${i}-1-4`,\n                                    },\n                                    {\n                                        icon: `2-${i}-1-5`,\n                                        label: `Split (Nat/Prov)`,\n                                        to: `2-${i}-1-5`,\n                                    },\n                                    {\n                                        icon: `2-${i}-1-6`,\n                                        label: `CSIR Predictions`,\n                                        to: `2-${i}-1-6`,\n                                    },\n                                ]\n                            },\n                            {\n                                label: \"Race for seats\",\n                                content: [\n                                    {\n                                        icon: `2-${i}-2-1`,\n                                        label: `Provincial legislature`,\n                                        to: `2-${i}-2-1`,\n                                    },\n                                    {\n                                        icon: `2-${i}-2-2`,\n                                        label: `Comparisons`,\n                                        to: `2-${i}-2-2`,\n                                    },\n                                    // {\n                                    //     icon: `2-${i}-2-3`,\n                                    //     label: `Electeds`,\n                                    //     to: `2-${i}-2-3`,\n                                    // },\n                                    // {\n                                    //     icon: `2-${i}-2-4`,\n                                    //     label: `Women`,\n                                    //     to: `2-${i}-2-4`,\n                                    // },\n                                    // {\n                                    //     icon: `2-${i}-2-5`,\n                                    //     label: `Age`,\n                                    //     to: `2-${i}-2-5`,\n                                    // }\n                                ]\n                            }\n                        ]\n                    }\n                })\n            },\n            // {\n            //     icon: '',\n            //     label: 'Metros',\n                // content: metrosData.map((metro, i) => {\n                //     return {\n                //         icon: `4-${i}`,\n                //         label: metro.muniName.split(\"-\")[1].split(\"[\")[0],\n                //         to: `4-${i}`,\n                //         // content: toShowCharts.map((toshowchart, chartIdx) => {\n                //         //     return {\n                //         //         icon: `4-${i}-${chartIdx}`,\n                //         //         label: toshowchart,\n                //         //         to: `4-${i}-${chartIdx}`,\n                //         //     }\n                //         // })\n                //     }\n                // })\n            // }\n        ];\n        // this.state.activeLinkId\n        \n        return (\n            <div className={[className(cssPrefix(\"menu-widget\")), cssPrefix(\"menu-widget\")].join(\" \")} ref=\"navbar\">\n                <MetisMenu activeLinkTo={`1-2-1`} content={content} LinkComponent={CustomLink}/>\n            </div>\n        )\n    }\n}\n\nexport default NavBar;\n","import React, { Component } from \"react\";\nimport styles from \"./quickResultsWidget.css\";\n\nimport config from '../../config'\nimport events from \"../../events\";\n\nimport BarChart from '../BarChart/barchart';\n\nimport ProgressVotesPieChart from '../ProgVotesCountPiechart/piechart';\n\nimport RaceForSeatDonut from '../RaceForSeatDonut/piechart';\nimport VoteCompBarchart from '../VoteCompBarchart/barchart';\nimport SeatCompBarchart from '../SeatCompBarchart/barchart';\nimport SeatHorseShoeChart from \"../SeatHorseShoeChart/horseshoe\";\nimport VotePredictionLineChart from \"../VotePredictionLineChart/voteprediction\";\n\nimport SpoiltBarChart from '../SpoiltBarchart/barchart';\nimport SplitNatProvChart from '../SplitNatProv/barchart';\n\nimport TurnoutBarchart from '../TurnoutBarchart/barchart';\nimport TurnoutMap from '../TurnoutMap/map';\n\nimport NavBar from '../NavBar/navbar';\nimport Map from '../Map/map';\n\nimport {saveAs} from \"file-saver\";\n\nimport {\n    getSpoiltData,\n    getTurnoutDataForOneEvent,\n    getProgressVotesCount,\n    getVotesDataM,\n    getSeatsData\n} from \"../../api\";\n\nimport {\n    getRegionName,\n    getRegionName2,\n    getRegionName4,\n\n    getNationalProvincialStr,\n    getNationalProvincialStr2,\n    getNationalProvincialStr3,\n    getNationalProvincialStr4,\n\n    triggerCustomEvent,\n    fetchDataFromOBJ,\n    handleRegionChange,\n\n    parseSpoiltVotesData,\n    parseTurnoutDataForOneEvent,\n    parseProgressVotesCount,\n    parseVotesData,\n    parseSeatsData,\n\n    getSeatsCount\n} from \"../../utils\";\n\nvar dataRefreshTime = 30 * 1000;\n\nfunction className(originName) {\n    return styles[originName] || originName;\n}\n\nfunction cn(originName) {\n    return className(config.CSS_PREFIX + originName);\n}\n\nclass QuickResultsWidget extends Component {\n    constructor(props) {\n        super(props);\n        this._isMounted = false;\n        this.state = {\n            numParties: 5,\n            electionType: \"national\",\n            eventDescription: \"2019 National Election\",\n            nationalEventDescription: \"2019 National Election\",\n            provincialEventDescription: \"2019 Provincial Election\",\n            regionType: \"national\",\n            provinceName: \"\",\n            muniName: \"\",\n            muniCode: \"\",\n            iecId: \"65010035\", // regionIecId\n            comp: \"votes-default\",\n            stylesheetFor: \"web\",\n            componentID: 5,\n            enableBarChart: true,\n            enableMap: true,\n            enableTurnoutProgressSpoilt: true,\n\n            partyAbbrs: [\"ANC\", \"DA\", \"EFF\", \"ID\"],\n            partyIecIds: [null, null, null, null],        \n            eventDescriptions: {\n                national : [\n                    \"2019 NATIONAL ELECTION\",\n                    \"2014 National Election\",\n                    \"22 Apr 2009 National Election\",\n                    \"14 Apr 2004 National Election\",\n                    //\"National Elections 1999\",\n                ],\n                provincial : [\n                    // \"Provincial Elections 1999\",\n                    \"2019 PROVINCIAL ELECTION\",\n                    \"2014 Provincial Election\",\n                    \"22 Apr 2009 Provincial Election\",\n                    \"14 Apr 2004 Provincial Election\",\n                ]\n            },\n            eventDescriptionsSplitNatProv: [\n                // \"National Elections 1999\",\n                // \"Provincial Elections 1999\",\n                // \"14 Apr 2004 National Election\",\n                // \"14 Apr 2004 Provincial Election\",\n                \"22 Apr 2009 National Election\",\n                \"22 Apr 2009 Provincial Election\",\n                \"2014 National Election\",\n                \"2014 Provincial Election\",\n                // \"2019 NATIONAL ELECTION\",\n                // \"2019 PROVINCIAL ELECTION\",\n            ],\n            currentTurnout: 0,\n            currentCountingProg: 0,\n            currentSpoiltVotes: 0\n        }\n        fetchDataFromOBJ(this.state, props);\n\n        this.refreshIntervalID = 0;\n        this.exportAsPNG = this.exportAsPNG.bind(this);\n        this.handleRegionChange = handleRegionChange.bind(this);\n        this.handlePreviewEvent = this.handlePreviewEvent.bind(this);\n    }\n\n    componentDidMount() {\n        this._isMounted = true;\n        var self = this;\n        this.refreshIntervalID = setInterval(() => {\n            self.fetchCurrentResultData(false);\n        }, dataRefreshTime);\n\n        document.addEventListener(events.EXPORT_SUPERWIDGET_PNG, this.exportAsPNG);\n        document.addEventListener(events.REGION_CHANGE, this.handleRegionChange);\n        document.addEventListener(events.QUICK_RESULTS_PREVIEW, this.handlePreviewEvent);\n\n        document.addEventListener(events.SEATS_ELECTEDS_EVENT, this.handleSeatsElectedsEvent); // \"seats-electeds-event\"\n\n        this.fetchCurrentResultData(false);\n    }\n  \n    componentWillUnmount() {\n        this._isMounted = false;\n        document.removeEventListener(events.EXPORT_SUPERWIDGET_PNG, this.exportAsPNG);\n        document.removeEventListener(events.REGION_CHANGE, this.handleRegionChange);\n        document.removeEventListener(events.QUICK_RESULTS_PREVIEW, this.handlePreviewEvent);\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n      this.fetchCurrentResultData(true)\n    }\n\n    handleSeatsElectedsEvent(event) {\n    }\n\n    fetchCurrentResultData(showLoadingIcon) {\n        var self = this;\n        var newProps = JSON.parse(JSON.stringify(this.state));\n        var {comp, iecId} = this.state;\n\n        if (showLoadingIcon) {\n            console.log(\"showLoadingIcon\");\n            if (self.refs.currentTurnout)\n                self.refs.currentTurnout.innerHTML = \"--\";\n            if (self.refs.currentCountingProg)\n                self.refs.currentCountingProg.innerHTML = \"--\";\n            if (self.refs.currentSpoiltVotes)\n                self.refs.currentSpoiltVotes.innerHTML = \"--\";\n        }\n\n        function dataLoadCallback(values) {\n            var spoiltData = values[0];\n            var turnoutData = values[1];\n            var progVotesData = values[2];\n\n            var parsedSpoiltData = parseSpoiltVotesData(spoiltData, newProps);\n            var parsedTurnoutData = parseTurnoutDataForOneEvent(turnoutData, newProps);\n            var parsedProgVotesData = parseProgressVotesCount(progVotesData, newProps);\n\n            var newState;\n            if (parsedTurnoutData[0] && parsedProgVotesData[0] && parsedSpoiltData[1]) {\n                newState = {            \n                    currentTurnout: parsedTurnoutData[0].percVoterTurnout,\n                    currentCountingProg: parsedProgVotesData[0].percent,\n                    currentSpoiltVotes: parsedSpoiltData[1].percent\n                };\n            } else {\n                newState = {            \n                    currentTurnout: 0,\n                    currentCountingProg: 0,\n                    currentSpoiltVotes: 0\n                };\n            }\n\n            if (comp == 'votes-comparisons') {\n                var votesData = values[3];\n                var parsedVotesData = parseVotesData(votesData, newProps);\n                newState.partyAbbrs = parsedVotesData.map(voteItem => voteItem.name);\n                newState.partyIecIds = parsedVotesData.map(voteItem => voteItem.iecId);\n            } else if (comp == 'seats-comparisons') {\n                var seatsData = values[3];\n                var parsedSeatsData = parseSeatsData(seatsData, newProps);\n                newState.partyAbbrs = parsedSeatsData.map(seatItem => seatItem.name);\n                newState.partyIecIds = parsedSeatsData.map(seatItem => seatItem.iecId);\n            }\n\n            if (newState.partyIecIds && newState.partyIecIds.join(\" \") != self.state.partyIecIds.join(\" \")) {\n                self.setState(newState);\n            } else {\n                if (self.refs.currentTurnout) {\n                    self.refs.currentTurnout.innerHTML = newState.currentTurnout + \"%\";\n                }\n                if(self.refs.currentCountingProg) {\n                    self.refs.currentCountingProg.innerHTML = newState.currentCountingProg + \"%\";\n                } \n                if (self.refs.curCountingProg && self.refs.curCountingProg.innerHTML  && self._isMounted) {\n                    console.log(\"self.refs.curCountingProg\", self.refs.curCountingProg, self._isMounted);\n                    self.refs.curCountingProg.innerHTML = newState.currentCountingProg + \"%\";\n                }\n                if (self.refs.currentSpoiltVotes) {\n                    self.refs.currentSpoiltVotes.innerHTML = newState.currentSpoiltVotes + \"%\";\n                }\n            }\n        }\n\n        if (newProps.regionType == \"municipality-vd\" && (!iecId || !iecId.length)) {\n            if (self.refs.currentTurnout)\n                self.refs.currentTurnout.innerHTML = \"--\";\n            if (self.refs.currentCountingProg)\n                self.refs.currentCountingProg.innerHTML = \"--\";\n            if (self.refs.currentSpoiltVotes)\n                self.refs.currentSpoiltVotes.innerHTML = \"--\";\n            return;\n        }\n\n        // newProps.eventDescription = \"2019_mock1\";\n        var dataLoaders = [\n            getSpoiltData(newProps), \n            getTurnoutDataForOneEvent(newProps),\n            getProgressVotesCount(newProps),\n        ];\n\n        if (comp == 'votes-comparisons') {\n            dataLoaders.push(getVotesDataM(newProps));\n        }\n        if (comp == 'seats-comparisons') {\n            dataLoaders.push(getSeatsData(newProps));\n        }\n\n        Promise.all(dataLoaders)\n            .then(dataLoadCallback)\n            .catch(error => console.error(\"catched error\", error));\n    }\n\n    exportAsPNG(event) {\n        var targetState = event.detail;\n        if (targetState.componentID != this.state.componentID)\n          return;\n        var {\n            comp\n        } = this.state;\n        var self = this;\n        var zipfileName = `quick-results-widget-${comp.replace(/\\s/gi, '-')}(${getRegionName(self.state)})`;\n        var imageLoadPromises = [];\n        if (comp == 'votes-comparisons' || comp == 'seats-comparisons') {\n            imageLoadPromises = [\n                ...this.barchartInstances.map(instance => instance.exportAsPNGUri()),\n                this.mapInstance.exportAsPNGUri()\n            ];\n        } else {\n            imageLoadPromises = [\n                this.barchartInstance.exportAsPNGUri(), \n                this.mapInstance.exportAsPNGUri()\n            ];\n        }\n        Promise.all(imageLoadPromises).then(values => {\n            var zip = new window.JSZip();\n\n            var imgs = zip.folder(zipfileName);\n            values.forEach((element, idx) => {\n                imgs.file(`image${idx+1}.png`, element, {base64: true});\n            });\n\n            zip.generateAsync({type:\"blob\"})\n            .then(function(content) {\n                saveAs(content, `${zipfileName}.zip`);\n            });\n        }).catch(error => {\n            console.error(\"export error\", error);\n        })\n    }\n\n    handlePreviewEvent(event) {\n\n      if (this._isMounted) {\n        var newState = event.detail;\n        if (newState.regionType == \"national\" && this.state.comp == \"votes-split\") {\n            newState.regionType = \"province\";\n            newState.provinceName = this.state.provinceName || \"Western Cape\";\n        }\n        this.setState(newState);\n\n        var triggerState = JSON.parse(JSON.stringify(newState));\n        triggerState.componentID = -1000;\n\n        triggerCustomEvent(events.CHART_PREVIEW, triggerState);\n        triggerCustomEvent(events.MAP_PREVIEW, triggerState);\n      }\n    };\n\n    renderTurnoutProgressSpoilt() {\n        var {\n            comp,\n            currentTurnout,\n            currentCountingProg,\n            currentSpoiltVotes,\n        } = this.state;\n\n        if (comp == 'votes-turnout' || comp == 'votes-progress') {\n            return null;\n        }\n\n        return (\n            <div className={cn(\"current-progress\")}>\n                <div className={cn(\"current-turnout\")}>\n                    <div>Turnout</div>\n                    <div ref=\"currentTurnout\">{currentTurnout}%</div>\n                </div>\n                <div className={cn(\"current-counting-progress\")}>\n                    <div>Counting Progress</div>\n                    <div ref=\"currentCountingProg\">{currentCountingProg}%</div>\n                </div>\n                <div className={cn(\"current-spoilt-votes\")}>\n                    <div>Spoilt Votes</div>\n                    <div ref=\"currentSpoiltVotes\">{currentSpoiltVotes}%</div>\n                </div>\n            </div>\n        )\n    }\n\n    renderQuickResultsTitle() {\n        var {\n            comp,\n            currentCountingProg\n        } = this.state;\n        var self = this;\n        if (comp == 'votes-default') {\n            return (\n                <div className={className(\"quick-results-title\")}>\n                    Race for Votes: {getNationalProvincialStr2(self.state)}\n                </div>\n            );\n        }\n        if (comp == 'votes-default-metro') {\n            return (\n                <div className={className(\"quick-results-title\")}>\n                    Race for Votes: {getNationalProvincialStr(self.state)} - <span className=\"regionName\">{getRegionName2(self.state)}</span>\n                </div>\n            );\n        }\n        if (comp == 'seats-default') {\n            return (\n                <div className={className(\"quick-results-title\")+\" \"+className(\"race-for-seats\")}>\n                    Race for Seats: {getNationalProvincialStr2(self.state)} ({getSeatsCount(self.state)})\n                </div>\n            );\n        }\n        if (comp == 'votes-turnout') {\n            return (\n                <div className={className(\"quick-results-title\")}>\n                    Turnout: {getNationalProvincialStr4(self.state)}\n                </div>\n            );\n        }\n        if (comp == 'votes-progress') {\n            return (\n                <div className={className(\"quick-results-title\")}>\n                    Counting Progress{getNationalProvincialStr3(self.state)}\n                </div>\n            );\n        }\n        if (comp == 'votes-comparisons') {\n            return (\n                <div className={className(\"quick-results-title\")}>\n                    Comparisons: {getNationalProvincialStr2(self.state)}\n                </div>\n            );\n        }\n        if (comp == 'seats-comparisons') {\n            return (\n                <div className={className(\"quick-results-title\")+\" \"+className(\"race-for-seats\")}>\n                    Comparisons: {getNationalProvincialStr2(self.state)} ({getSeatsCount(self.state)})\n                </div>\n            );\n        }\n        if (comp == 'votes-myvd') {\n            return (\n                <div className={className(\"quick-results-title\")}>\n                    Voting District\n                </div>\n            );\n        }\n        if (comp == 'votes-split') {\n            return (\n                <div className={className(\"quick-results-title\")}>\n                    Split (Nat/Prov): National and {getNationalProvincialStr2(self.state)}\n                </div>\n            )\n        }\n        if (comp == 'votes-predictions') {\n            \n            return (\n                <div className={className(\"quick-results-title\")}>\n                     CSIR predictions for final results, with <span ref=\"curCountingProg\">{currentCountingProg}%</span> VDs counted: {getRegionName4(self.state)}\n                </div>\n            )\n        }\n        return null;\n    }\n\n    renderMap() {\n        var {\n            comp,\n            iecId,\n            muniCode\n        } = this.state;\n        var mapState = JSON.parse(JSON.stringify(this.state));\n        if (comp == 'votes-myvd') {\n            if (iecId && iecId.length && muniCode && muniCode.length) {\n                mapState.disableNavigation = true;\n                return (\n                    <div className={className(\"map-container\")}>\n                        <div className={cn(\"leadingmap-title-container\")}>\n                            <div className={cn(\"leading-parties\")}>Leading Parties</div>\n                            <div className={cn(\"helper-text\")}>Click on the map for lower level results</div>\n                        </div>\n                        <Map\n                            ref={instance => { this.mapInstance = instance; }}\n                            key={comp}\n                            {...mapState}\n                            componentID={-1000}\n                        />\n                    </div>\n                );\n            }\n            return null;\n        }\n        if (comp == 'votes-split') {\n            mapState.disableNavigation = true;\n            mapState.regionType = \"national\";\n            return (\n                <div className={className(\"map-container\")}>\n                    <div className={cn(\"leadingmap-title-container\")}>\n                        <div className={cn(\"leading-parties\")}>Leading Parties</div>\n                        <div className={cn(\"helper-text\")}>Click on the map for lower level results</div>\n                    </div>\n                    <Map\n                        ref={instance => { this.mapInstance = instance; }}\n                        key={comp}\n                        {...mapState}\n                        componentID={-1000}\n                    />\n                </div>\n            );\n        } else if (comp == 'votes-turnout') {\n            return (\n                <div className={className(\"map-container\")}>\n                    <TurnoutMap\n                        ref={instance => { this.mapInstance = instance; }}\n                        key={comp}\n                        {...this.state}\n                        componentID={-1000} />\n                </div>\n            );\n        } else if (comp == 'votes-progress') {\n            console.log(\"votes-PROGRESS\");\n            return (\n                <div className={className(\"map-container\")}>\n                    <TurnoutMap\n                        ref={instance => { this.mapInstance = instance; }}\n                        key={comp}\n                        {...this.state}\n                        isTurnout={false}\n                        componentID={-1000} />\n                </div>\n            );\n        } else {\n            return (\n                <div className={className(\"map-container\")}>\n                    {\n                        (comp === 'votes-default' || comp === 'votes-default-metro') && \n                        <div className={cn(\"leadingmap-title-container\")}>\n                            <div className={cn(\"leading-parties\")}>Leading Parties</div>\n                            <div className={cn(\"helper-text\")}>Click on the map for lower level results</div>\n                        </div>\n                    }\n                    <Map\n                        ref={instance => { this.mapInstance = instance; }}\n                        key={comp}\n                        {...this.state}\n                        componentID={-1000} />\n                </div>\n            );\n        }\n    }\n\n    renderBarchart() {\n        var {\n            comp,\n            partyIecIds,\n            partyAbbrs,\n            iecId\n        } = this.state;\n        if (comp == 'votes-default' || comp == 'votes-default-metro' || (comp == 'votes-myvd' && iecId && iecId.length)) {\n            return (\n                <div className={className(\"barchart-container\")}>\n                    <BarChart \n                        key={comp}\n                        ref={instance => { this.barchartInstance = instance; }} \n                        {...this.state} \n                        componentID={-1000}/>\n                </div>\n            );\n        }\n        if (comp == 'seats-default') {\n            return (\n                <div className={className(\"barchart-container\")}>\n                    <SeatHorseShoeChart\n                        ref={instance => { this.barchartInstance = instance; }} \n                        {...this.state}\n                        componentID={-1000} />\n                </div>\n            );\n        }\n        if (comp == 'votes-turnout') {\n            return (\n                <div className={className(\"barchart-container\")}>\n                    <TurnoutBarchart \n                        ref={instance => { this.barchartInstance = instance; }} \n                        {...this.state}\n                        componentID={-1000} />\n                </div>\n            );\n        }\n        if (comp == 'votes-progress') {\n            return (\n                <div className={className(\"barchart-container\")}>\n                    <ProgressVotesPieChart \n                        ref={instance => { this.barchartInstance = instance; }} \n                        {...this.state}\n                        componentID={-1000} />\n                </div>\n            );\n        }\n        if (comp == 'votes-predictions') {\n            return (\n                <div className={className(\"barchart-container\")}>\n                    <VotePredictionLineChart\n                        ref={instance => { this.barchartInstance = instance; }}\n                        {...this.state}\n                        componentID={-1000} />\n                </div>\n            );\n        }\n        if (comp == 'votes-comparisons') {\n            var {numParties} = this.state;\n            this.barchartInstances = new Array(numParties);\n            return (\n                <div className={className(\"barchart-container\")}>\n                    {\n                        partyIecIds.map((partyIecId, partyIdx) => {\n                            return <VoteCompBarchart \n                                ref={instance => { this.barchartInstances[partyIdx] = instance; }} \n                                key={partyIdx}\n                                {...this.state}\n                                partyAbbr={partyAbbrs[partyIdx]}\n                                partyIecId={partyIecId}\n                                componentID={-1000}\n                            />\n                        })\n                    }\n                </div>\n            );\n        }\n        if (comp == 'seats-comparisons') {\n            this.barchartInstances = new Array(numParties);\n            return (\n                <div className={className(\"barchart-container\")}>\n                    {\n                        partyIecIds.map((partyIecId, partyIdx) => {\n                            return <SeatCompBarchart \n                                ref={instance => { this.barchartInstances[partyIdx] = instance; }} \n                                key={partyIdx}\n                                {...this.state}\n                                partyAbbr={partyAbbrs[partyIdx]}\n                                partyIecId={partyIecId}\n                                componentID={-1000}\n                            />\n                        })\n                    }\n                </div>\n            );\n        }\n        if (comp == 'votes-split') {\n            return (\n                <div className={className(\"barchart-container\")}>\n                    <SplitNatProvChart \n                        ref={instance => { this.barchartInstance = instance; }} \n                        {...this.state}\n                        componentID={-1000}\n                    />\n                </div>\n                \n            )\n        }\n        return null;\n    }\n\n    renderMyVDEnterForm() {\n        var {comp} = this.state;\n        if (comp != 'votes-myvd') {\n            return null;\n        }\n        return (\n            <div className=\"voting-district-enter-form\">\n                <input ref=\"vdInput\" type=\"text\" placeholder=\"Enter your VD number\"/>\n                <button onClick={this.onShowVDResult.bind(this)}> Show Result</button>\n                <p className=\"iec-link\">Look up your voting district number at the <a href=\"http://maps.elections.org.za/vsfinder/\">IEC</a>.</p>\n            </div>\n        )\n    }\n\n    onShowVDResult() {\n        if (this.refs.vdInput.value.length == 0) {\n            alert(\"please enter valid vd number\");\n            return;\n        }\n        var newState = {\n            regionType: \"municipality-vd\",\n            iecId: this.refs.vdInput.value,\n            muniCode: \"\"\n        }\n        triggerCustomEvent(events.REGION_CHANGE, newState);\n    }\n\n    render() {\n        var {\n            stylesheetFor,\n        } = this.state;\n\n        var components = [];\n        components.push(this.renderQuickResultsTitle())\n        if (this.state.enableTurnoutProgressSpoilt) {\n            components.push(this.renderTurnoutProgressSpoilt())\n        }\n        components.push(this.renderMyVDEnterForm())\n\n        if (this.state.enableBarChart)\n          components.push(this.renderBarchart())\n\n        if (this.state.enableMap)\n          components.push(this.renderMap())\n\n        return (\n            <div className={className(\"quickresultswidget\") + \" \" + cn(`stylesheet-${stylesheetFor}`)}>\n                <div className={cn(\"row\")}>\n                    <div className={cn(\"col-md-4\")+\" \"+className(\"main-left-part\")}>\n                        <NavBar {...this.state}/>\n                    </div>\n                    <div className={cn(\"col-md-8\")+\" \"+className(\"main-right-part\")}>\n                        {components}\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default QuickResultsWidget;\n","import * as d3 from \"d3\";\nimport {createTooltip, formatPartyName, formatClassNameFromString} from \"../../utils\";\nimport config from \"../../config\"\n\nexport function Chart(container, width, height, className, options) {\n  if (!options) {\n      options = {};\n  }\n  width = 700;\n  height = 300;\n  container.selectAll(\"svg\").remove();\n\n    var XaxisOffset = 70;\n    var YaxisOffset = 120;\n    var predefColors = [\"blue\", \"yellow\", \"red\"];\n\n    var svg = container.append(\"svg\")\n        .attr(\"preserveAspectRatio\", \"xMinYMin meet\")\n        .attr(\"viewBox\", options.viewBox || (\"0 0 \" + (width+XaxisOffset) + \" \" + (height+YaxisOffset)))\n        .classed(\"svg-content\", true);\n        \n    var tooltipDiv = createTooltip(className);\n  \n    var x = d3.scaleBand()\n      .rangeRound([XaxisOffset, width])\n  \n    var y = d3.scaleLinear()\n      .rangeRound([height, YaxisOffset]);\n  \n    var errorText = svg.append(\"g\")\n      .attr(\"transform\", \"translate(\"+(width/2)+\",\"+(height/2)+\")\")\n      .append(\"text\")\n      .attr(\"text-anchor\", \"middle\");\n  \n    this.draw = function(groupChartData, colorsData) {\n\n      svg.selectAll(\".topLabel\").remove();\n      svg.append(\"text\")\n        .attr(\"class\", \"topLabel\")\n        .attr(\"text-anchor\", \"middle\")\n        .attr(\"x\", width/2)\n        .attr(\"y\", 20)\n        .text(options.topLabel);\n\n      // svg.append(\"text\")\n      //   .attr(\"text-anchor\", \"end\")\n      //   .attr(\"x\", width)\n      //   .attr(\"y\", 40)\n      //   .text(options.usedValue);\n\n      if (!groupChartData) {\n        errorText.text(\"chart data is not available\");\n        return;\n      } else {\n        errorText.text(\"\");\n      }\n      var partyColorByName = {};\n\n        var partyColorsData = colorsData;\n        if (partyColorsData && partyColorsData[\"data\"][\"allParties\"][\"edges\"]) {\n            partyColorsData[\"data\"][\"allParties\"][\"edges\"].forEach(edge => {\n            partyColorByName[edge.node.name] = edge.node.colour;\n            })\n        }\n\n      function getFillColorFromPartyName(partyName, i) {\n        return partyColorByName[partyName.split(\"/\")[0]] || predefColors[i%predefColors.length];\n      }\n\n      function getFillColor(d, i) {\n          return getFillColorFromPartyName(d.partyInfo.name, i);\n      }\n\n      function getTooltipText(d, i) {\n        if (options.noXaxisByParty) {\n          return d.name + \" : \" + options.yValueFormat(options.yValue(d));\n        } else {\n          return formatPartyName(d.partyInfo.name) + \" : \" + options.yValueFormat(options.yValue(d));\n        }\t\n      }\n\n      x.domain(groupChartData.map(item => item.partyAbbr));\n\n      var minMaxY = [0, 100];\n      if (options.dynamicYAxisFromValues) {\n        minMaxY[1] = d3.max(groupChartData.map(item => d3.max(item.data, function(d) { return parseFloat(options.yValue(d)); }))) + 1\n      }\n      y.domain(minMaxY);\n\n      var groupSvgs = svg.selectAll(`.bar-group`).data(groupChartData);\n      groupSvgs.exit()\n        .transition()\n        .duration(300)\n        .style(\"fill-opacity\", 1e-6)\n        .remove();\n    \n      var groupSvg = groupSvgs.enter()\n        .append(\"g\")\n        .attr(\"class\", d => `bar-group ${formatClassNameFromString(d.partyAbbr)}`)\n        .attr(\"transform\", (d) => `translate(${x(d.partyAbbr)}, 0)`);\n\n      groupSvg.append('rect')\n        .attr('class', className(config.CSS_PREFIX + \"grouprect\"))\n        .attr('x', -x.bandwidth()*1/12)\n        .attr('y', YaxisOffset - 85)\n        .attr('width', x.bandwidth()*5/6)\n        .attr('height', 120 + height - YaxisOffset);\n\n      groupSvg.append(\"g\")\n        .attr(\"class\", \"groupname-container\")\n        .attr(\"transform\", `translate(${x.bandwidth()*1/3}, ${YaxisOffset - 50})`)\n        .append(\"text\")\n          .attr(\"text-anchor\", \"middle\")\n          .text(d => d.partyAbbr)\n\n      groupSvg.append(\"g\")\n        .attr(\"class\", \"bar-container\");\n\n      groupSvg.append(\"g\")\n        .attr(\"class\", \"bartext-container\");\n\n      groupSvg.append(\"g\")\n        .attr(\"class\", \"baraxistext-container\");\n      \n      for (var i = 0; i < groupChartData.length; i ++) {\n        var partyAbbr = groupChartData[i].partyAbbr;\n        var chartData = groupChartData[i].data;\n\n        var subX = d3.scaleBand()\n          .rangeRound([0, x.bandwidth()*2/3])\n          .domain(chartData.map(function (d) {\n            return d.name;\n          }));\n\n        var groupSvg = svg.selectAll(`.bar-group.${formatClassNameFromString(partyAbbr)}`);\n\n        var barSvg = groupSvg.select(\".bar-container\");\n        var barTextSvg = groupSvg.select(\".bartext-container\");\n        var barAxisTextSvg = groupSvg.select(\".baraxistext-container\");\n\n        var bars = barSvg.selectAll(`.${className(\"bar\")}`).data(chartData);\n  \n        bars.exit()\n          .transition()\n          .duration(300)\n          .attr(\"y\", function(d) {\n            return y(0);\n          })\n          .attr(\"height\", 0)\n          .style(\"fill-opacity\", 1e-6)\n          .remove();\n        \n    \n        bars.enter()\n            .append(\"rect\")\n            .attr(\"class\", (d) => className(\"bar\") + \" bar_\" + d.name)\n            .attr(\"x\", function (d, i) {\n              return subX(d.name)+subX.bandwidth()/4;\n            })\n            .attr(\"width\", subX.bandwidth()*1/2)\n            .attr(\"fill\", (d,i) => getFillColor(d, i))\n            .on(\"mousemove\", function(d, i) {\t\t\n                d3.select(this)\n                  .attr(\"opacity\", 0.8);\n                tooltipDiv.transition()\t\t\n                    .duration(200)\t\t\n                    .style(\"opacity\", .9);\t\t\n                tooltipDiv.html(getTooltipText(d, i))\n                    .style(\"left\", (d3.event.pageX) + \"px\")\t\t\n                    .style(\"top\", (d3.event.pageY - 28) + \"px\");\t\n                })\t\t\t\t\t\n            .on(\"mouseout\", function(d) {\t\t\n                d3.select(this)\n                  .attr(\"opacity\", 1);\n                tooltipDiv.transition()\t\t\n                    .duration(200)\t\t\n                    .style(\"opacity\", 0);\t\n            })\n            .attr(\"y\", function(d) {\n              return y(0);\n            })\n            .attr(\"height\", 0)        \n    \n          barSvg.selectAll(`.${className(\"bar\")}`).data(chartData)\n            .attr(\"fill\", (d, i) => getFillColor(d, i))\n            .transition()\n            .duration(300)\n            .attr(\"y\", function (d) {\n              return y(Number(options.yValue(d)));\n            })\n            .attr(\"height\", function (d) {\n              return height - y(Number(options.yValue(d)));\n            })\n            \n\n          var barAxisTexts = barAxisTextSvg.selectAll(`.${className(\"bartext\")}`).data(chartData);\n          barAxisTexts.exit()\n            .transition()\n            .duration(300)\n            .style(\"fill-opacity\", 1e-6)\n            .remove();\n    \n          barAxisTexts.enter().append(\"text\")\n            .attr(\"class\", className(\"bartext\"))\n            .attr(\"x\", function (d) {\n              return subX(d.name)+subX.bandwidth()/2;\n            })\n            .attr(\"text-anchor\", \"middle\")\n            .attr(\"font-size\", \"7px\")\n            .attr(\"y\", function(d) {\n              return y(0) + 18;\n            })\n          barAxisTextSvg.selectAll(`.${className(\"bartext\")}`).data(chartData)\n            .text(function(d) {\n              return /(19|20)\\d{2}/g.exec(d.name)[0];\n            });\n            \n    \n          var barTexts = barTextSvg.selectAll(`.${className(\"bartext\")}`).data(chartData);\n          barTexts.exit()\n            .transition()\n            .duration(300)\n            .attr(\"y\", function(d) {\n              return y(0) - 5;\n            })\n            .style(\"fill-opacity\", 1e-6)\n            .remove();\n    \n          barTexts.enter().append(\"text\")\n            .attr(\"class\", className(\"bartext\"))\n            .attr(\"x\", function (d) {\n              return subX(d.name)+subX.bandwidth()/2;\n            })\n            .attr(\"text-anchor\", \"middle\")\n            .attr(\"font-size\", \"7px\")\n            .attr(\"y\", function(d) {\n              return y(0) - 5;\n            })\n          barTextSvg.selectAll(`.${className(\"bartext\")}`).data(chartData)\n            .text(function(d) {\n              return options.yValueFormat(options.yValue(d));\n            })\n            .transition()\n            .duration(300)\n            .attr(\"y\", function (d) {\n              return y(Number(options.yValue(d))) - 5;\n            })\n      }\n    }\n    this.destroy = function() {\n      svg.remove();\n    }\n  }","import React, { Component } from \"react\";\nimport * as d3 from \"d3\";\nimport styles from \"../BarChart/barchart.css\";\nimport {Chart} from \"../TVVoteCompBarchart/d3groupbarchart\";\nimport svgToPng from \"save-svg-as-png\";\n\nimport events from \"../../events\";\nimport config from \"../../config\";\nimport {\n  getPartyColors,\n  getSeatsDataForComparison\n} from \"../../api\";\nimport {\n  parseSeatsComparisonDataMultipleParties,\n  getNationOrProvinceName,\n  fetchDataFromOBJ,\n  handleRegionChange\n} from \"../../utils\";\n\n\nvar dataRefreshTime = 30 * 1000;\n\nvar chartOptions = {\n  topLabel: \"NATIONAL ASSEMBLY: 2009, 2014, 2019\",\n  usedValue: \"SEATS COUNTED\",\n  yValue: d => d.seats,\n  yValueFormat: seats => seats,\n  dynamicYAxisFromValues: true,\n  viewBox: '45 0 655 340'\n}\n\nfunction className(originName) {\n  return styles[originName] || originName;\n}\n\nfunction cn(originName) {\n  return className(config.CSS_PREFIX + originName);\n}\n\nvar partyColorsData;\n\nclass BarChart extends Component {\n\n    constructor(props) {\n      super(props);\n      this.state = {\n        partyAbbrs: [\"ANC\", \"DA\", \"EFF\", \"ID\"],\n        partyIecIds: [null, null, null, null],\n        eventDescriptions: [\n            // \"National Elections 1999\",\n            // \"Provincial Elections 1999\",\n            \"14 Apr 2004 National Election\",\n            // \"14 Apr 2004 Provincial Election\",\n            \"22 Apr 2009 National Election\",\n            // \"22 Apr 2009 Provincial Election\",\n            \"2014 National Election\",\n            // \"2014 Provincial Election\",\n            \"2019 NATIONAL ELECTION\",\n            // \"2019 PROVINCIAL ELECTION\",\n        ],\n        regionType: \"national\",\n        provinceName: \"\",\n        muniName: \"\",\n        muniCode: \"\",\n        iecId: \"\",\n        stylesheetFor: \"web\",\n        componentID: 12\n      }\n\n      fetchDataFromOBJ(this.state, props);\n\n      this.chart = null;\n      this.refreshIntervalID = 0;\n      this.exportAsPNG = this.exportAsPNG.bind(this);\n      this.exportAsPNGUri = this.exportAsPNGUri.bind(this);\n      this.handleRegionChange = handleRegionChange.bind(this);\n      this.handlePreviewEvent = this.handlePreviewEvent.bind(this);\n    }\n  \n    componentDidMount() {\n      var self = this;\n      this.draw(this.getContainer(), this.state);\n      this.refreshIntervalID = setInterval(() => {\n        self.draw(self.getContainer(), self.state)\n      }, dataRefreshTime);\n      document.addEventListener(events.EXPORT_PNG, this.exportAsPNG);\n      document.addEventListener(events.REGION_CHANGE, this.handleRegionChange);\n      document.addEventListener(events.CHART_PREVIEW, this.handlePreviewEvent);\n    }\n\n    componentDidUpdate() {\n      this.draw(this.getContainer(), this.state)\n    }\n\n    componentWillUnmount() {\n      this.chart = null;\n      document.removeEventListener(events.EXPORT_PNG, this.exportAsPNG);\n      document.removeEventListener(events.REGION_CHANGE, this.handleRegionChange);\n      document.removeEventListener(events.CHART_PREVIEW, this.handlePreviewEvent);\n      clearInterval(this.refreshIntervalID);\n    }\n\n    exportAsPNGUri() {\n      var self = this;\n      return new Promise(function(resolve, reject) {\n        svgToPng.svgAsPngUri(self.refs.vizcontainer.childNodes[0], {}, function(uri) {\n          resolve(uri.split(',')[1]);\n        });\n      });\n    }\n\n    exportAsPNG(event) {\n      var targetState = event.detail;\n      if (targetState.componentID != this.state.componentID)\n        return;\n      svgToPng.saveSvgAsPng(this.refs.vizcontainer.childNodes[0], `race-for-seats-comparison-barchart(${getNationOrProvinceName(this.state)}).png`);\n    }\n\n    handlePreviewEvent(event) {\n      var newState = event.detail;\n      if (this.chart)\n        this.chart.destroy();\n      this.chart = new Chart(this.getContainer(), null, null, className, chartOptions);\n      this.setState(newState)\n    }\n\n    getContainer() {\n      return d3.select(this.refs.vizcontainer)\n    }\n      \n    render () {\n\n      const {\n        stylesheetFor\n      } = this.state;\n      return (\n          <div className={cn(\"groupbarchart\") + \" \" + cn(`stylesheet-${stylesheetFor}`)}>\n            {/* <div className={cn(\"chart-title\")}>{chartOptions.chartType} ({getNationOrProvinceName(this.state)}): </div> */}\n            <div \n              ref=\"vizcontainer\" \n              className={cn(\"chart-body\")} \n              ></div>\n          </div>\n        )\n    }\n\n    draw(container, props) {\n      var self = this;\n      var seatsDataLoader = getSeatsDataForComparison(props);\n      var dataLoaders = [seatsDataLoader];\n      \n      chartOptions.topLabel = `${props.regionType.toUpperCase()} ASSEMBLY: ${props.eventDescriptions.map(desc => /(19|20)\\d{2}/g.exec(desc)[0]).join(\", \")}`\n\n      if (props.regionType == \"national\") {\n        chartOptions.topLabel = \"Race for Seats Comparison - National Assembly\";\n      } else {\n        chartOptions.topLabel = `Race for Seats Comparison - ${getNationOrProvinceName(props)}`;\n      }\n\n      if (!partyColorsData) {\n        var partyColorsLoader = getPartyColors();\n        dataLoaders.push(partyColorsLoader);\n      }\n\n      Promise.all(dataLoaders).then(function(values){ \n        var seatsData = values[0];\n        partyColorsData = partyColorsData || values[1];         \n        self.drawGraph(container, props, seatsData, partyColorsData);\n      }).catch(error => console.error(error));\n    }\n\n    drawGraph(container, props, data, partyColorsData) {\n        var chartData = parseSeatsComparisonDataMultipleParties(data, props);\n        if (!this.chart)\n          this.chart = new Chart(container, null, null, className, chartOptions);\n        \n        this.chart.draw(chartData, partyColorsData);\n    }\n}\n\nexport default BarChart;\n","import * as d3 from \"d3\";\nimport {createTooltip, formatPartyName, formatClassNameFromString} from \"../../utils\";\nexport function Chart(container, width, height, className, options) {\n  if (!options) {\n      options = {};\n  }\n  width = 700;\n  height = 300;\n  container.selectAll(\"svg\").remove();\n\n    var XaxisOffset = 70;\n    var YaxisOffset = 120;\n    var predefColors = [\"blue\", \"yellow\", \"red\"];\n\n    var svg = container.append(\"svg\")\n        .attr(\"preserveAspectRatio\", \"xMinYMin meet\")\n        .attr(\"viewBox\", \"0 0 \" + (width+XaxisOffset) + \" \" + (height+YaxisOffset))\n        .classed(\"svg-content\", true);\n        \n    var tooltipDiv = createTooltip(className);\n  \n    var x = d3.scaleBand()\n      .rangeRound([XaxisOffset, width])\n  \n    var y = d3.scaleLinear()\n      .rangeRound([height, YaxisOffset]);\n  \n    var errorText = svg.append(\"g\")\n      .attr(\"transform\", \"translate(\"+(width/2)+\",\"+(height/2)+\")\")\n      .append(\"text\")\n      .attr(\"text-anchor\", \"middle\");\n  \n    this.draw = function(groupChartData, colorsData) {\n\n      svg.selectAll(\".topLabel\").remove();\n      svg.append(\"text\")\n        .attr(\"text-anchor\", \"middle\")\n        .attr(\"class\", \"topLabel\")\n        .attr(\"x\", width/2)\n        .attr(\"y\", 20)\n        .text(options.topLabel);\n\n      if (!groupChartData) {\n        errorText.text(\"chart data is not available\");\n        return;\n      } else {\n        errorText.text(\"\");\n      }\n      var partyColorByName = {};\n\n        var partyColorsData = colorsData;\n        if (partyColorsData && partyColorsData[\"data\"][\"allParties\"][\"edges\"]) {\n            partyColorsData[\"data\"][\"allParties\"][\"edges\"].forEach(edge => {\n            partyColorByName[edge.node.name] = edge.node.colour;\n            })\n        }\n\n      function getFillColorFromPartyName(partyName, i) {\n        return partyColorByName[partyName.split(\"/\")[0]] || predefColors[i%predefColors.length];\n      }\n\n      function getFillColor(d, i) {\n          return getFillColorFromPartyName(d.partyInfo.name, i);\n      }\n\n      function getTooltipText(d, i) {\n        if (options.noXaxisByParty) {\n          return d.name + \" : \" + options.yValueFormat(d.delta);\n        } else {\n          return formatPartyName(d.partyInfo.name) + \" : \" + options.yValueFormat(d.delta);\n        }\t\n      }\n\n      var newGroupChartData = groupChartData.map(item => {\n        var chartData = item.data;\n        return {\n          ...item,\n          data: [{\n            ...chartData[1],\n            delta: options.yValue(chartData[1]) - options.yValue(chartData[0])\n          }]\n        }\n      });\n\n      x.domain(groupChartData.map(item => item.partyAbbr));\n\n      var minMaxY = [-100, 100];\n      if (options.dynamicYAxisFromValues) {\n        minMaxY[1] = d3.max(newGroupChartData.map(item => parseFloat(item.data[0].delta))) + 1\n        minMaxY[0] = d3.min(newGroupChartData.map(item => parseFloat(item.data[0].delta))) - 1\n      }\n      y.domain(minMaxY);\n\n      var groupSvgs = svg.selectAll(`.bar-group`).data(newGroupChartData);\n      groupSvgs.exit()\n        .transition()\n        .duration(300)\n        .style(\"fill-opacity\", 1e-6)\n        .remove();\n    \n      var groupSvg = groupSvgs.enter()\n        .append(\"g\")\n        .attr(\"class\", d => `bar-group ${formatClassNameFromString(d.partyAbbr)}`)\n        .attr(\"transform\", (d) => `translate(${x(d.partyAbbr)}, 0)`);\n\n      groupSvg.append(\"g\")\n        .attr(\"class\", \"groupname-container\")\n        .attr(\"transform\", `translate(${x.bandwidth()*1/3}, ${YaxisOffset - 50})`)\n        .append(\"text\")\n          .attr(\"text-anchor\", \"middle\")\n          .text(d => d.partyAbbr)\n\n      groupSvg.append(\"g\")\n        .attr(\"class\", \"bar-container\");\n\n      groupSvg.append(\"g\")\n        .attr(\"class\", \"bartext-container\");\n      \n      for (var i = 0; i < newGroupChartData.length; i ++) {\n        var partyAbbr = newGroupChartData[i].partyAbbr;\n        var deltaData = newGroupChartData[i].data;\n\n        var groupSvg = svg.selectAll(`.bar-group.${formatClassNameFromString(partyAbbr)}`);\n\n        var barSvg = groupSvg.select(\".bar-container\");\n        var barTextSvg = groupSvg.select(\".bartext-container\");\n\n        var bars = barSvg.selectAll(`.${className(\"bar\")}`).data(deltaData);\n\n        bars.exit()\n          .transition()\n          .duration(300)\n          .attr(\"height\", 0)\n          .style(\"fill-opacity\", 1e-6)\n          .remove();\n        \n        bars.enter()\n            .append(\"rect\")\n            .attr(\"class\", (d) => className(\"bar\") + \" bar_\" + d.name)\n            .attr(\"x\", x.bandwidth()/6)\n            .attr(\"width\", x.bandwidth()*1/3)\n            .attr(\"fill\", (d,i) => getFillColor(d, i))\n            .on(\"mousemove\", function(d, i) {\t\t\n                d3.select(this)\n                  .attr(\"opacity\", 0.8);\n                tooltipDiv.transition()\t\t\n                    .duration(200)\t\t\n                    .style(\"opacity\", .9);\t\t\n                tooltipDiv.html(getTooltipText(d, i))\n                    .style(\"left\", (d3.event.pageX) + \"px\")\t\t\n                    .style(\"top\", (d3.event.pageY - 28) + \"px\");\t\n                })\t\t\t\t\t\n            .on(\"mouseout\", function(d) {\t\t\n                d3.select(this)\n                  .attr(\"opacity\", 1);\n                tooltipDiv.transition()\t\t\n                    .duration(200)\t\t\n                    .style(\"opacity\", 0);\t\n            })\n            .attr(\"y\", function(d) {\n              return y(0);\n            })\n            .attr(\"height\", 0)        \n    \n          barSvg.selectAll(`.${className(\"bar\")}`).data(deltaData)\n            .attr(\"fill\", (d, i) => getFillColor(d, i))\n            .transition()\n            .duration(300)\n            .attr(\"y\", function (d) {\n              return Math.min(y(Number(d.delta)), y(0));\n            })\n            .attr(\"height\", function (d) {\n              return Math.abs(y(Number(d.delta)) - y(0));\n            })\n    \n          var barTexts = barTextSvg.selectAll(`.${className(\"bartext\")}`).data(deltaData);\n          barTexts.exit()\n            .transition()\n            .duration(300)\n            .style(\"fill-opacity\", 1e-6)\n            .remove();\n    \n          barTexts.enter().append(\"text\")\n            .attr(\"class\", className(\"bartext\"))\n            .attr(\"x\", function (d) {\n              return x.bandwidth()/3;\n            })\n            .attr(\"text-anchor\", \"middle\")\n            .attr(\"font-size\", \"12px\")\n            .attr(\"y\", function(d) {\n              if (d.delta > 0)\n                return y(0) - 5;\n              return y(0) + 5;\n            })\n          barTextSvg.selectAll(`.${className(\"bartext\")}`).data(deltaData)\n            .text(function(d) {\n              return options.yValueFormat(d.delta);\n            })\n            .transition()\n            .duration(300)\n            .attr(\"y\", function (d) {\n              var barTextYDelta = 0;\n              if (d.delta > 0) {\n                barTextYDelta = -5;\n              } else {\n                barTextYDelta = 15;\n              }\n              return y(Number(d.delta)) + barTextYDelta;\n            })\n      }\n\n      svg.selectAll(\".xAxisLine\").remove();\n      var axisThick = 2;\n      svg.append('line')\n        .attr('class', 'xAxisLine')\n        .attr('stroke-width', axisThick)\n        .attr('stroke', \"currentColor\")\n        .attr('x1', XaxisOffset)\n        .attr('y1', y(0)-axisThick/2)\n        .attr('x2', width)\n        .attr('y2', y(0)-axisThick/2)\n    }\n    this.destroy = function() {\n      svg.remove();\n    }\n  }","import React, { Component } from \"react\";\nimport * as d3 from \"d3\";\nimport styles from \"../BarChart/barchart.css\";\nimport {Chart} from \"../TVVoteSwingBarchart/d3deltabarchart\";\nimport svgToPng from \"save-svg-as-png\";\n\nimport events from \"../../events\";\nimport config from \"../../config\";\nimport {\n  getPartyColors,\n  getSeatsDataForComparison\n} from \"../../api\";\nimport {\n  parseSeatsComparisonDataMultipleParties,\n  getNationOrProvinceName,\n  fetchDataFromOBJ,\n  handleRegionChange\n} from \"../../utils\";\n\n\nvar dataRefreshTime = 30 * 1000;\n\nvar chartOptions = {\n  topLabel: \"NATIONAL ASSEMBLY: 2009, 2014\",\n  usedValue: \"SEATS COUNTED\",\n  yValue: d => d.seats,\n  yValueFormat: seats => seats,\n  dynamicYAxisFromValues: true\n}\n\nfunction className(originName) {\n  return styles[originName] || originName;\n}\n\nfunction cn(originName) {\n  return className(config.CSS_PREFIX + originName);\n}\n\nvar partyColorsData;\n\nclass BarChart extends Component {\n\n    constructor(props) {\n      super(props);\n      this.state = {\n        partyAbbrs: [\"ANC\", \"DA\", \"EFF\", \"ID\"],\n        partyIecIds: [null, null, null, null],\n        eventDescriptions: [\n            // \"National Elections 1999\",\n            // \"Provincial Elections 1999\",\n            // \"14 Apr 2004 National Election\",\n            // \"14 Apr 2004 Provincial Election\",\n            \"22 Apr 2009 National Election\",\n            // \"22 Apr 2009 Provincial Election\",\n            \"2014 National Election\",\n            // \"2014 Provincial Election\",\n            // \"2019 NATIONAL ELECTION\",\n            // \"2019 PROVINCIAL ELECTION\",\n        ],\n        regionType: \"national\",\n        provinceName: \"\",\n        muniName: \"\",\n        muniCode: \"\",\n        iecId: \"\",\n        stylesheetFor: \"web\",\n        componentID: 13\n      }\n\n      fetchDataFromOBJ(this.state, props);\n\n      this.chart = null;\n      this.refreshIntervalID = 0;\n      this.exportAsPNG = this.exportAsPNG.bind(this);\n      this.exportAsPNGUri = this.exportAsPNGUri.bind(this);\n      this.handleRegionChange = handleRegionChange.bind(this);\n      this.handlePreviewEvent = this.handlePreviewEvent.bind(this);\n    }\n  \n    componentDidMount() {\n      var self = this;\n      this.draw(this.getContainer(), this.state);\n      this.refreshIntervalID = setInterval(() => {\n        self.draw(self.getContainer(), self.state)\n      }, dataRefreshTime);\n      document.addEventListener(events.EXPORT_PNG, this.exportAsPNG);\n      document.addEventListener(events.REGION_CHANGE, this.handleRegionChange);\n      document.addEventListener(events.CHART_PREVIEW, this.handlePreviewEvent);\n    }\n\n    componentDidUpdate() {\n      this.draw(this.getContainer(), this.state)\n    }\n\n    componentWillUnmount() {\n      this.chart = null;\n      document.removeEventListener(events.EXPORT_PNG, this.exportAsPNG);\n      document.removeEventListener(events.REGION_CHANGE, this.handleRegionChange);\n      document.removeEventListener(events.CHART_PREVIEW, this.handlePreviewEvent);\n      clearInterval(this.refreshIntervalID);\n    }\n\n    exportAsPNGUri() {\n      var self = this;\n      return new Promise(function(resolve, reject) {\n        svgToPng.svgAsPngUri(self.refs.vizcontainer.childNodes[0], {}, function(uri) {\n          resolve(uri.split(',')[1]);\n        });\n      });\n    }\n\n    exportAsPNG(event) {\n      var targetState = event.detail;\n      if (targetState.componentID != this.state.componentID)\n        return;\n      svgToPng.saveSvgAsPng(this.refs.vizcontainer.childNodes[0], `race-for-seats-swing-barchart(${getNationOrProvinceName(this.state)}).png`);\n    }\n\n    handlePreviewEvent(event) {\n      var newState = event.detail;\n      if (this.chart)\n        this.chart.destroy();\n      this.chart = new Chart(this.getContainer(), null, null, className, chartOptions);\n      this.setState(newState)\n    }\n\n    getContainer() {\n      return d3.select(this.refs.vizcontainer)\n    }\n      \n    render () {\n\n      const {\n        stylesheetFor\n      } = this.state;\n      return (\n          <div className={cn(\"deltabarchart\") + \" \" + cn(`stylesheet-${stylesheetFor}`)}>\n            {/* <div className={cn(\"chart-title\")}>{chartOptions.chartType} ({getNationOrProvinceName(this.state)}): </div> */}\n            <div \n              ref=\"vizcontainer\" \n              className={cn(\"chart-body\")} \n              ></div>\n          </div>\n        )\n    }\n\n    draw(container, props) {\n      var self = this;\n      var seatsDataLoader = getSeatsDataForComparison(props);\n      var dataLoaders = [seatsDataLoader];\n\n      var years = props.eventDescriptions.map(desc => /(19|20)\\d{2}/g.exec(desc)[0]).join(\"/\");\n      if (props.regionType == \"national\") {\n        chartOptions.topLabel = `National Assembly: Swing ${years}`;\n      } else {\n        chartOptions.topLabel = `${getNationOrProvinceName(props)}: Swing ${years}`;\n      }\n\n      if (!partyColorsData) {\n        var partyColorsLoader = getPartyColors();\n        dataLoaders.push(partyColorsLoader);\n      }\n\n      Promise.all(dataLoaders).then(function(values){ \n        var seatsData = values[0];\n        partyColorsData = partyColorsData || values[1];         \n        self.drawGraph(container, props, seatsData, partyColorsData);\n      }).catch(error => console.error(error));\n    }\n\n    drawGraph(container, props, data, partyColorsData) {\n        var chartData = parseSeatsComparisonDataMultipleParties(data, props);\n        if (!this.chart)\n          this.chart = new Chart(container, null, null, className, chartOptions);\n        \n        this.chart.draw(chartData, partyColorsData);\n    }\n}\n\nexport default BarChart;\n","import React, { Component } from \"react\";\nimport * as d3 from \"d3\";\nimport styles from \"../BarChart/barchart.css\";\nimport {Chart} from \"../TVVoteCompBarchart/d3groupbarchart\";\nimport svgToPng from \"save-svg-as-png\";\n\nimport events from \"../../events\";\nimport config from \"../../config\";\nimport {\n  getVotesDataForComparison,\n  getPartyColors,\n  getProvincesData\n} from \"../../api\";\nimport {\n  parseVotesComparisonDataMultipleParties,\n  getRegionName,\n  fetchDataFromOBJ,\n  handleRegionChange\n} from \"../../utils\";\n\nvar provincesData = getProvincesData();\n\nvar dataRefreshTime = 30 * 1000;\n\nfunction className(originName) {\n  return styles[originName] || originName;\n}\n\nfunction cn(originName) {\n  return className(config.CSS_PREFIX + originName);\n}\n\nvar partyColorsData;\n\nvar chartOptions = {\n  topLabel: \"NATIONAL ASSEMBLY: 2009, 2014, 2019\",\n  usedValue: \"% VDS COUNTED\",\n  yValue: d => d.percOfVotes,\n  yValueFormat: value => value + '%',\n  dynamicYAxisFromValues: true\n}\n\nclass BarChart extends Component {\n\n    constructor(props) {\n      super(props);\n      this.state = {\n        partyAbbrs: [\"ANC\", \"DA\", \"EFF\", \"ID\"],\n        partyIecIds: [null, null, null, null],\n        eventDescriptions: [\n            // \"National Elections 1999\",\n            // \"Provincial Elections 1999\",\n            \"14 Apr 2004 National Election\",\n            // \"14 Apr 2004 Provincial Election\",\n            \"22 Apr 2009 National Election\",\n            // \"22 Apr 2009 Provincial Election\",\n            \"2014 National Election\",\n            // \"2014 Provincial Election\",\n            \"2019 NATIONAL ELECTION\",\n            // \"2019 PROVINCIAL ELECTION\",\n        ],\n        regionType: \"national\",\n        provinceName: \"\",\n        muniName: \"\",\n        muniCode: \"\",\n        iecId: \"\",\n        stylesheetFor: \"web\",\n        componentID: 14\n      }\n\n      fetchDataFromOBJ(this.state, props);\n\n      this.chart = null;\n      this.refreshIntervalID = 0;\n      this.exportAsPNG = this.exportAsPNG.bind(this);\n      this.exportAsPNGUri = this.exportAsPNGUri.bind(this);\n      this.handleRegionChange = handleRegionChange.bind(this);\n      this.handlePreviewEvent = this.handlePreviewEvent.bind(this);\n    }\n  \n    componentDidMount() {\n\n      var self = this;\n      this.draw(this.getContainer(), this.state);\n      this.refreshIntervalID = setInterval(() => {\n        self.draw(self.getContainer(), self.state)\n      }, dataRefreshTime);\n      document.addEventListener(events.EXPORT_PNG, this.exportAsPNG);\n      document.addEventListener(events.REGION_CHANGE, this.handleRegionChange);\n      document.addEventListener(events.CHART_PREVIEW, this.handlePreviewEvent);\n    }\n\n    componentDidUpdate() {\n      this.draw(this.getContainer(), this.state)\n    }\n\n    componentWillUnmount() {\n      if (this.chart) {\n        this.chart.destroy();\n        this.chart = null;\n      }\n      document.removeEventListener(events.EXPORT_PNG, this.exportAsPNG);\n      document.removeEventListener(events.REGION_CHANGE, this.handleRegionChange);\n      document.removeEventListener(events.CHART_PREVIEW, this.handlePreviewEvent);\n      clearInterval(this.refreshIntervalID);\n    }\n\n    exportAsPNGUri() {\n      var self = this;\n      return new Promise(function(resolve, reject) {\n        svgToPng.svgAsPngUri(self.refs.vizcontainer.childNodes[0], {}, function(uri) {\n          resolve(uri.split(',')[1]);\n        });\n      });\n    }\n\n    exportAsPNG(event) {\n      var targetState = event.detail;\n      if (targetState.componentID != this.state.componentID)\n        return;\n      svgToPng.saveSvgAsPng(this.refs.vizcontainer.childNodes[0], `race-for-votes-comparison-barchart(${getRegionName(this.state)}).png`);\n    }\n\n    handlePreviewEvent(event) {\n      var newState = event.detail;\n      if (this.chart)\n        this.chart.destroy();\n      this.chart = new Chart(this.getContainer(), null, null, className, chartOptions);\n      this.setState(newState)\n    }\n\n    getContainer() {\n      return d3.select(this.refs.vizcontainer)\n    }\n      \n    render () {\n      const {\n        stylesheetFor\n      } = this.state;\n      return (\n          <div className={cn(\"groupbarchart\") + \" \" + cn(`stylesheet-${stylesheetFor}`)}>\n            {/* <div className={cn(\"chart-title\")}>{chartOptions.chartType} ({getRegionName(this.state)}): </div> */}\n            <div \n              ref=\"vizcontainer\" \n              className={cn(\"chart-body\")} \n              ></div>\n          </div>\n        )\n    }\n\n    draw(container, props) {\n      var self = this;\n      var votesDataLoader = getVotesDataForComparison(props);\n      var dataLoaders = [votesDataLoader];\n      chartOptions.topLabel = `${props.regionType.toUpperCase()} ASSEMBLY: ${props.eventDescriptions.map(desc => /(19|20)\\d{2}/g.exec(desc)[0]).join(\", \")}`\n      \n      if (props.regionType == \"national\") {\n        chartOptions.topLabel = \"Race for Votes Comparison - National Assembly\";\n      } else {\n        chartOptions.topLabel = `Race for Votes Comparison - ${getRegionName(props)}`;\n      }\n      \n      if (!partyColorsData) {\n        var partyColorsLoader = getPartyColors();\n        dataLoaders.push(partyColorsLoader);\n      }\n\n      Promise.all(dataLoaders).then(function(values){ \n        var votesData = values[0];\n        partyColorsData = partyColorsData || values[1];          \n        self.drawGraph(container, props, votesData, partyColorsData);\n      }).catch(error => console.error(error));\n    }\n\n    drawGraph(container, props, data, partyColorsData) {\n        var chartData = parseVotesComparisonDataMultipleParties(data, props);\n\n        if (!this.chart)\n          this.chart = new Chart(container, null, null, className, chartOptions);\n        this.chart.draw(chartData, partyColorsData);\n    }\n}\n\nexport default BarChart;\n","import React, { Component } from \"react\";\nimport * as d3 from \"d3\";\nimport styles from \"../BarChart/barchart.css\";\nimport {Chart} from \"../TVVoteSwingBarchart/d3deltabarchart\";\nimport svgToPng from \"save-svg-as-png\";\n\nimport events from \"../../events\";\nimport config from \"../../config\";\nimport {\n  getVotesDataForComparison,\n  getPartyColors,\n  getProvincesData\n} from \"../../api\";\nimport {\n  parseVotesComparisonDataMultipleParties,\n  getRegionName,\n  fetchDataFromOBJ,\n  handleRegionChange\n} from \"../../utils\";\n\nvar provincesData = getProvincesData();\n\nvar dataRefreshTime = 30 * 1000;\n\nfunction className(originName) {\n  return styles[originName] || originName;\n}\n\nfunction cn(originName) {\n  return className(config.CSS_PREFIX + originName);\n}\n\nvar partyColorsData;\n\nvar chartOptions = {\n  topLabel: \"NATIONAL ASSEMBLY: 2009, 2014, 2019\",\n  usedValue: \"% VDS COUNTED\",\n  yValue: d => d.percOfVotes,\n  yValueFormat: value => (value > 0? '+': '') + (value.toFixed(2)) + '%',\n  dynamicYAxisFromValues: true\n}\n\nclass BarChart extends Component {\n\n    constructor(props) {\n      super(props);\n      this.state = {\n        partyAbbrs: [\"ANC\", \"DA\", \"EFF\", \"ID\"],\n        partyIecIds: [null, null, null, null],\n        eventDescriptions: [\n            // \"National Elections 1999\",\n            // \"Provincial Elections 1999\",\n            // \"14 Apr 2004 National Election\",\n            // \"14 Apr 2004 Provincial Election\",\n            \"22 Apr 2009 National Election\",\n            // \"22 Apr 2009 Provincial Election\",\n            \"2014 National Election\",\n            // \"2014 Provincial Election\",\n            // \"2019 NATIONAL ELECTION\",\n            // \"2019 PROVINCIAL ELECTION\",\n        ],\n        regionType: \"national\",\n        provinceName: \"\",\n        muniName: \"\",\n        muniCode: \"\",\n        iecId: \"\",\n        stylesheetFor: \"web\",\n        componentID: 15\n      }\n\n      fetchDataFromOBJ(this.state, props);\n\n      this.chart = null;\n      this.refreshIntervalID = 0;\n      this.exportAsPNG = this.exportAsPNG.bind(this);\n      this.exportAsPNGUri = this.exportAsPNGUri.bind(this);\n      this.handleRegionChange = handleRegionChange.bind(this);\n      this.handlePreviewEvent = this.handlePreviewEvent.bind(this);\n    }\n  \n    componentDidMount() {\n\n      var self = this;\n      this.draw(this.getContainer(), this.state);\n      this.refreshIntervalID = setInterval(() => {\n        self.draw(self.getContainer(), self.state)\n      }, dataRefreshTime);\n      document.addEventListener(events.EXPORT_PNG, this.exportAsPNG);\n      document.addEventListener(events.REGION_CHANGE, this.handleRegionChange);\n      document.addEventListener(events.CHART_PREVIEW, this.handlePreviewEvent);\n    }\n\n    componentDidUpdate() {\n      this.draw(this.getContainer(), this.state)\n    }\n\n    componentWillUnmount() {\n      if (this.chart) {\n        this.chart.destroy();\n        this.chart = null;\n      }\n      document.removeEventListener(events.EXPORT_PNG, this.exportAsPNG);\n      document.removeEventListener(events.REGION_CHANGE, this.handleRegionChange);\n      document.removeEventListener(events.CHART_PREVIEW, this.handlePreviewEvent);\n      clearInterval(this.refreshIntervalID);\n    }\n\n    exportAsPNGUri() {\n      var self = this;\n      return new Promise(function(resolve, reject) {\n        svgToPng.svgAsPngUri(self.refs.vizcontainer.childNodes[0], {}, function(uri) {\n          resolve(uri.split(',')[1]);\n        });\n      });\n    }\n\n    exportAsPNG(event) {\n      var targetState = event.detail;\n      if (targetState.componentID != this.state.componentID)\n        return;\n      svgToPng.saveSvgAsPng(this.refs.vizcontainer.childNodes[0], `race-for-votes-swing-barchart(${getRegionName(this.state)}).png`);\n    }\n\n    handlePreviewEvent(event) {\n      var newState = event.detail;\n      if (this.chart)\n        this.chart.destroy();\n      this.chart = new Chart(this.getContainer(), null, null, className, chartOptions);\n      this.setState(newState)\n    }\n\n    getContainer() {\n      return d3.select(this.refs.vizcontainer)\n    }\n      \n    render () {\n      const {\n        stylesheetFor\n      } = this.state;\n      return (\n          <div className={cn(\"deltabarchart\") + \" \" + cn(`stylesheet-${stylesheetFor}`)}>\n            {/* <div className={cn(\"chart-title\")}>{chartOptions.chartType} ({getRegionName(this.state)}): </div> */}\n            <div \n              ref=\"vizcontainer\" \n              className={cn(\"chart-body\")} \n              ></div>\n          </div>\n        )\n    }\n\n    draw(container, props) {\n      var self = this;\n      var votesDataLoader = getVotesDataForComparison(props);\n      var dataLoaders = [votesDataLoader];\n      \n      var years = props.eventDescriptions.map(desc => /(19|20)\\d{2}/g.exec(desc)[0]).join(\"/\");\n      if (props.regionType == \"national\") {\n        chartOptions.topLabel = `National Assembly: Swing ${years}`;\n      } else {\n        chartOptions.topLabel = `${getRegionName(props)}: Swing ${years}`;\n      }\n      \n      if (!partyColorsData) {\n        var partyColorsLoader = getPartyColors();\n        dataLoaders.push(partyColorsLoader);\n      }\n\n      Promise.all(dataLoaders).then(function(values){ \n        var votesData = values[0];\n        partyColorsData = partyColorsData || values[1];          \n        self.drawGraph(container, props, votesData, partyColorsData);\n      }).catch(error => console.error(error));\n    }\n\n    drawGraph(container, props, data, partyColorsData) {\n        var chartData = parseVotesComparisonDataMultipleParties(data, props);\n\n        if (!this.chart)\n          this.chart = new Chart(container, null, null, className, chartOptions);\n        this.chart.draw(chartData, partyColorsData);\n    }\n}\n\nexport default BarChart;\n","export {default as BarChart} from \"./BarChart/barchart\";\nexport {default as RaceForSeatsBarChart} from \"./RaceForSeatBarchart/barchart\";\nexport {default as SpoiltBarChart} from \"./SpoiltBarchart/barchart\";\nexport {default as Map} from \"./Map/map\";\nexport {default as TurnoutMap} from \"./TurnoutMap/map\";\nexport {default as TurnoutBarChart} from \"./TurnoutBarchart/barchart\";\nexport {default as BarchartWithNavMap} from \"./BarchartWithNavMap/barchartMap\";\nexport {default as QuickResultsWidget} from \"./QuickResultsWidget/quickResultsWidget\";\nexport {default as ProgVotesCountPiechart} from \"./ProgVotesCountPiechart/piechart\";\nexport {default as RaceForSeatsComparisonBarChart} from \"./SeatCompBarchart/barchart\";\nexport {default as SeatHorseShoeChart} from \"./SeatHorseShoeChart/horseshoe\";\nexport {default as VoteComparisonBarchart} from \"./VoteCompBarchart/barchart\";\n\nexport {default as TVSeatCompBarchart} from \"./TVSeatCompBarchart/barchart\";\nexport {default as TVSeatSwingBarchart} from \"./TVSeatSwingBarchart/barchart\";\nexport {default as TVVoteCompBarchart} from \"./TVVoteCompBarchart/barchart\";\nexport {default as TVVoteSwingBarchart} from \"./TVVoteSwingBarchart/barchart\";\n\nexport {default as SeatDonutChart} from \"./RaceForSeatDonut/piechart\";\nexport {default as SplitNatProv} from \"./SplitNatProv/barchart\";","var config = {\n    \"DOMAIN\": \"https://sabc-eds.github.io/elections-dataviz\",\n    // \"DOMAIN\": \"http://127.0.0.1:8080\",\n    \"CSS_PREFIX\": \"ELVIZ_\"\n}\n\nexport default config;","const REGION_CHANGE = \"region-change\";\nconst CHART_PREVIEW = \"chart-preview\";\nconst SEATS_ELECTEDS_EVENT = \"seats-electeds-event\";\nconst MAP_PREVIEW = \"map-preview\";\nconst QUICK_RESULTS_PREVIEW = \"quick-results-preview\"\nconst EXPORT_PNG = \"export-png\";\nconst EXPORT_SUPERWIDGET_PNG = \"export-superwidget-png\";\n\nexport default {\n    REGION_CHANGE,\n    CHART_PREVIEW,\n    SEATS_ELECTEDS_EVENT,\n    MAP_PREVIEW,\n    QUICK_RESULTS_PREVIEW,\n    EXPORT_PNG,\n    EXPORT_SUPERWIDGET_PNG,\n};","import * as d3 from \"d3\";\nimport config from \"../config\";\n\nfunction calcPercent(a, b) {\n  if (b == 0) {\n    return 0;\n  } else {\n    return (a/b*100).toFixed(2);\n  }\n}\n\nexport function getShortenedEventDescription(event) {\n  var year = /(19|20)\\d{2}/g.exec(event[\"description\"])[0];\n  var shortenedNatProv = (event[\"eventType\"][\"description\"] == \"National Election\"? \"Nat\": \"Prov\");\n  return `${year} ${shortenedNatProv}`;\n}\n\nexport function getYear(desc) {\n  return /(19|20)\\d{2}/g.exec(desc)[0];\n}\n\nexport function parseVotesDataForAllEvents(data, props) {\n    var results, edges;\n    var regionType = props.regionType;\n    if (regionType == \"national\") {\n      edges = data[\"data\"][\"allBallots\"].edges;\n    } else if (regionType == \"province\") {\n      edges = data[\"data\"][\"allProvincialBallots\"].edges;\n    } else if (regionType == \"municipality\") {\n      edges= data[\"data\"][\"allMunicipalBallots\"].edges;\n    } else { //\"municipality-vd\"\n      edges = data[\"data\"][\"allVotingDistrictBallots\"].edges;\n    }\n\n    console.log(\"props\", props)\n    return edges.map(edge => {\n      var nodeData = edge[\"node\"];\n\n      var eventDescription = getShortenedEventDescription(nodeData[\"event\"]); //nodeData[\"event\"][\"description\"];\n      var partyResults = nodeData[\"partyResults\"] || nodeData[\"topResult\"];\n      results = partyResults[\"edges\"];\n      results = results.sort(function(a, b) {return b.node.percOfVotes - a.node.percOfVotes});\n      results = results.slice(0, props.numPartiesSplitNatProv);\n\n      return {\n        longEventDescription: nodeData[\"event\"][\"description\"],\n        eventDescription,\n        data: results.map(function(node) {\n          var el = node[\"node\"];\n          return {\n              name: el[\"party\"][\"abbreviation\"],\n              iecId: el[\"party\"][\"iecId\"],\n              validVotes: el[\"validVotes\"].toFixed(2),\n              percOfVotes: el[\"percOfVotes\"].toFixed(2),\n              partyInfo: el[\"party\"]\n          }\n        })\n      }\n    }).filter(edge => props.eventDescriptionsSplitNatProv.indexOf(edge.longEventDescription) != -1)\n    .sort(function(edge1, edge2) {\n      var edge1Year = parseInt(/(19|20)\\d{2}/g.exec(edge1.eventDescription)[0]);\n      var edge2Year = parseInt(/(19|20)\\d{2}/g.exec(edge2.eventDescription)[0]);\n      if (edge1Year == edge2Year) {\n        if (edge1.eventDescription > edge2.eventDescription) {\n          return 1;\n        }\n        return -1;\n      }\n      return edge1Year - edge2Year;\n    })\n}\n \nexport function parseVotesData(data, props) {\n    var results, firstEdge;\n    var regionType = props.regionType;\n    if (regionType == \"national\") {\n      firstEdge = data[\"data\"][\"allBallots\"].edges[0];\n    } else if (regionType == \"province\") {\n      firstEdge = data[\"data\"][\"allProvincialBallots\"].edges[0];\n    } else if (regionType == \"municipality\") {\n      firstEdge= data[\"data\"][\"allMunicipalBallots\"].edges[0];\n    } else { //\"municipality-vd\"\n      firstEdge = data[\"data\"][\"allVotingDistrictBallots\"].edges[0];\n    }\n    if (!firstEdge){\n      console.error(\"party data is empty!!\");\n      return null;\n    }\n\n    var nodeData = firstEdge[\"node\"];\n    var partyResults = nodeData[\"partyResults\"] || nodeData[\"topResult\"];\n    results = partyResults[\"edges\"];\n    results = results.sort(function(a, b) {return b.node.percOfVotes - a.node.percOfVotes});\n\n    results = results.slice(0, props.numParties);\n\n    return results.map(function(node) {\n        var el = node[\"node\"];\n        return {\n            name: el[\"party\"][\"abbreviation\"],\n            iecId: el[\"party\"][\"iecId\"],\n            validVotes: el[\"validVotes\"].toFixed(2),\n            percOfVotes: el[\"percOfVotes\"].toFixed(2),\n            partyInfo: el[\"party\"]\n        }\n    });\n}\n\nexport function fetchLocationTrackFromVDdata(data) {\n  var firstEdge = data[\"data\"][\"allVotingDistrictBallots\"].edges[0];\n  var nodeData = firstEdge[\"node\"];\n  var locationResult = nodeData[\"location\"];\n  var newState = {\n    regionType: \"municipality-vd\",\n    iecId: locationResult[\"iecId\"],\n    muniCode: locationResult[\"ward\"][\"municipality\"][\"code\"],\n    provinceName: locationResult[\"ward\"][\"municipality\"][\"province\"][\"name\"],\n  };     \n  return newState;      \n}\n\nexport function parseVotesComparisonData(data, props) {\n  var results, edges;\n\n  var regionType = props.regionType;\n  var eventDescriptions = props.eventDescriptions[\"national\"]\n  if (props.electionType === \"provincial\")\n    eventDescriptions = props.eventDescriptions[\"provincial\"]\n\n  if (regionType == \"national\") {\n    edges = data[\"data\"][\"allBallots\"].edges;\n  } else if (regionType == \"province\") {\n    edges = data[\"data\"][\"allProvincialBallots\"].edges;\n  } else if (regionType == \"municipality\") {\n    edges= data[\"data\"][\"allMunicipalBallots\"].edges;\n  } else { //\"municipality-vd\"\n    edges = data[\"data\"][\"allVotingDistrictBallots\"].edges;\n  }\n\n  var partyfilter_edges = edges.map(edge => {\n    var nodeData = edge[\"node\"];\n    var partyResults = nodeData[\"partyResults\"] || nodeData[\"topResult\"];\n    results = partyResults[\"edges\"]\n      .filter(a => props.partyIecId\n        ? (a.node[\"party\"][\"iecId\"] == props.partyIecId) \n        : (a.node[\"party\"][\"abbreviation\"] == props.partyAbbr));\n    var result = results[0];\n    if (result) {\n      var el = result[\"node\"];\n      return {\n          name: nodeData[\"event\"][\"description\"],\n          percOfVotes: el[\"percOfVotes\"].toFixed(2),\n          partyInfo: el[\"party\"]\n      }\n    }\n    return {\n      name: nodeData[\"event\"][\"description\"],\n      percOfVotes: 0,\n      partyInfo: {\n        name: props.partyAbbr,\n        abbreviation: props.partyAbbr,\n      }\n    }\n  });\n  var results = partyfilter_edges.filter(edge => eventDescriptions.indexOf(edge.name) != -1);\n\n  var new_results = [];\n  for(var i = 0; i < eventDescriptions.length; i ++) {\n    var available = false;\n    for (var j = 0; j < results.length; j ++) {\n      if (results[j].name == eventDescriptions[i]) {\n        var available = true;\n        new_results.push({\n          ...results[j],\n          name: getYear(results[j].name)\n        });\n        break;\n      }\n    }\n    if (!available) {\n      new_results.push({\n        name: getYear(eventDescriptions[i]),\n        percOfVotes: 0,\n        partyInfo: {\n          name: props.partyAbbr,\n          abbreviation: props.partyAbbr,\n        } \n      })\n    }\n  }\n  new_results.sort(function(a, b) {\n    return a.name - b.name;\n  })\n  return new_results;\n}\n\nexport function parseVotesComparisonDataMultipleParties(data, props) {\n  return props.partyAbbrs.map((partyAbbr, partyIdx) => {\n    var newProps = {...props};\n    newProps.partyAbbr = partyAbbr;\n    newProps.partyIecId = props.partyIecIds[partyIdx];\n    return {\n      partyAbbr,\n      data: parseVotesComparisonData(data, newProps)\n    }\n  })\n}\n\nexport function parseProgressVotesCount(data, props) {\n  var firstEdge;\n  var regionType = props.regionType;\n  if (regionType == \"national\") {\n    firstEdge = data[\"data\"][\"allBallots\"].edges[0];\n  } else if (regionType == \"province\") {\n    firstEdge = data[\"data\"][\"allProvincialBallots\"].edges[0];\n  } else if (regionType == \"municipality\") {\n    firstEdge= data[\"data\"][\"allMunicipalBallots\"].edges[0];\n  } else { //\"municipality-vd\"\n    firstEdge = data[\"data\"][\"allVotingDistrictBallots\"].edges[0];\n  }\n  if (!firstEdge){\n    console.error(\"progress votes count data is empty!!\");\n    return null;\n  }\n\n  var nodeData = firstEdge[\"node\"];\n\n  return [\n    {\n      name: \"Completed\",\n      percent: calcPercent(nodeData[\"vdWithResultsCaptured\"], nodeData[\"vdCount\"]),\n      totalCount: nodeData[\"vdCount\"],\n      count: nodeData[\"vdWithResultsCaptured\"]\n    }, {\n      name: \"Not Completed\",\n      percent: 100 - calcPercent(nodeData[\"vdWithResultsCaptured\"], nodeData[\"vdCount\"]),\n      totalCount: nodeData[\"vdCount\"],\n      count: nodeData[\"vdCount\"] - nodeData[\"vdWithResultsCaptured\"]\n    }\n  ]\n}\n\n// export function parseMainPartyData(data, props) {\n//     if (!data)  return null;\n//     var locationToMainParty = {};\n//     var edges;\n//     var regionType = props.regionType;\n//     var sort_results = function(party_results) {\n//         party_results[\"edges\"] = party_results[\"edges\"].sort(function(a, b) {\n//             return b.node.percOfVotes - a.node.percOfVotes;\n//         })\n//         return party_results;\n//     }\n//     if (regionType === \"national\") {\n//         edges = data[\"data\"][\"allProvincialBallots\"].edges;\n//         edges.forEach(function(edge) {\n//             var node = edge.node;\n//             var provinceName = node[\"location\"][\"name\"];\n//             var partyResults = sort_results(node[\"partyResults\"]);\n//             var partyName = partyResults[\"edges\"][0][\"node\"][\"party\"][\"name\"];\n//             locationToMainParty[provinceName] = partyName;\n//         })\n//     } else if (regionType === \"province\") {\n//         edges = data[\"data\"][\"allMunicipalBallots\"].edges;\n//         edges.forEach(function(edge) {\n//             var node = edge.node;\n//             var muniCode = node[\"location\"][\"code\"];\n//             var partyResults = sort_results(node[\"partyResults\"]);\n\n//             var partyName = partyResults[\"edges\"][0][\"node\"][\"party\"][\"name\"];\n//             locationToMainParty[muniCode] = partyName;\n//         })\n//     } else {// \"municipality\"\n//         edges = data[\"data\"][\"allVotingDistrictBallots\"].edges;\n//         edges.forEach(function(edge) {\n//             var node = edge.node;\n//             var iecId = node[\"location\"][\"iecId\"];\n//             var partyResults = sort_results(node[\"partyResults\"]);\n\n//             var partyName = partyResults[\"edges\"][0][\"node\"][\"party\"][\"name\"];\n//             locationToMainParty[iecId] = partyName;\n//         })\n//     }\n//     return locationToMainParty;\n// }\n\nfunction getTopPartyNameFromNode(node) {\n  if (node && node[\"topParty\"] && node[\"topParty\"][\"party\"] && node[\"topParty\"][\"party\"][\"name\"])\n      return node[\"topParty\"][\"party\"][\"name\"];\n  return \"\";\n}\n\nexport function parseMainPartyData(data, props) {\n  if (!data)  return null;\n  var locationToMainParty = {};\n  var edges;\n  var regionType = props.regionType;\n  if (regionType === \"national\") {\n      edges = data[\"data\"][\"topPartiesByProvince\"].edges;\n      edges.forEach(function(edge) {\n          var node = edge.node;\n          var provinceName = node[\"location\"][\"name\"];\n          locationToMainParty[provinceName] = getTopPartyNameFromNode(node);\n      })\n  } else if (regionType === \"province\") {\n      edges = data[\"data\"][\"topPartiesByMunicipality\"].edges;\n      edges.forEach(function(edge) {\n          var node = edge.node;\n          var muniCode = node[\"location\"][\"code\"];\n          locationToMainParty[muniCode] = getTopPartyNameFromNode(node);\n      })\n  } else {// \"municipality\"\n      edges = data[\"data\"][\"topPartiesByVotingDistrict\"].edges;\n      edges.forEach(function(edge) {\n          var node = edge.node;\n          var iecId = node[\"location\"][\"iecId\"];\n          locationToMainParty[iecId] = getTopPartyNameFromNode(node);\n      })\n  }\n  return locationToMainParty;\n}\n\nexport function parseSeatsData(data, props) {\n  if (!data)  return null;\n  var edges = data[\"data\"][\"allSeatCalculations\"].edges;\n  var regionType = props.regionType;\n  var results = edges.map(edge => {\n    var node = edge.node;\n    var seats = 0;\n    if (regionType === \"national\") {\n      seats = node[\"nationalPr\"] + node[\"regional\"];\n    } else {//\"province\"\n      seats = node[\"regional\"];\n    }\n    return {\n      seats,\n      name: node[\"party\"][\"abbreviation\"],\n      iecId: node[\"party\"][\"iecId\"],\n      partyInfo: node[\"party\"],\n    }\n  })\n  \n  // results.sort(function(a,b) {\n  //   return b[\"seats\"] - a[\"seats\"];\n  // })\n  return results.slice(0, props.numParties);\n}\n\nexport function parseVotesPredictionData(data, props) {\n  // TODO actually implement a function that removes hypens and .s\n  var edges = data[\"data\"][\"CSIRPrediction\"][\"results\"].edges;\n  var partyIecIds = [];\n  var lineData = [];\n  edges.forEach(function(edge) {\n    var nodeData = edge.node;\n    var percVds = nodeData.percVds;\n    var prediction = nodeData.prediction;\n    var predictionEdges = prediction.edges;\n    predictionEdges.forEach(function(predictionEdge) {\n      console.log(\"predictionEdge\", predictionEdge);\n      var predictionNodeData = predictionEdge.node;\n      var partyInfo = predictionNodeData.party;\n      if (!partyInfo) {\n        return;\n      }\n      var predictedPercent = predictionNodeData.predictedPercent;\n      var actualPercent = predictionNodeData.actualPercent;\n\n      var partyIndex = partyIecIds.indexOf(partyInfo.iecId);\n      if (partyIndex == -1) {\n        partyIecIds.push(partyInfo.iecId);\n        lineData.push({\n          name: partyInfo.name,\n          iecId: partyInfo.iecId,\n          abbreviation: partyInfo.abbreviation,\n          cleaned_name: partyInfo.abbreviation.replace(/[^a-zA-Z0-9]+/g, ''),\n          data: []\n        });\n        partyIndex = partyIecIds.length - 1;\n      }\n      lineData[partyIndex].data.push({\n        'x': percVds,\n        'y': predictedPercent\n      })\n    })\n  })\n  lineData.forEach(oneLine => {\n    oneLine.data.sort(function(a, b) {\n      return a.x - b.x;\n    })\n  })\n  console.log(\"parsedLineData\", lineData);\n  // var lineData = [{\n  //     name : \"AFRICAN NATIONAL CONGRESS\",\n  //     cleaned_name : \"anc\",\n  //     data : [\n  //       {'x': 3, 'y': 51.6},\n  //       {'x': 6, 'y': 59.3},\n  //       {'x': 12, 'y': 55.4},\n  //       {'x': 20, 'y': 56},\n  //       {'x': 27, 'y': 59.5},\n  //       {'x': 33, 'y': 59.8},\n  //       {'x': 39, 'y': 61.2},\n  //       {'x': 45, 'y': 61.8},\n  //       {'x': 51, 'y': 62.7},\n  //       {'x': 57, 'y': 63.1},\n  //       {'x': 63, 'y': 63.6},\n  //       {'x': 69, 'y': 62.7},\n  //       {'x': 69, 'y': 62.7},\n  //       {'x': 75, 'y': 62.3},\n  //       {'x': 81, 'y': 62.9},\n  //       {'x': 87, 'y': 63},\n  //       {'x': 93, 'y': 62.8},\n  //       {'x': 100, 'y': 62.8},\n  //     ]\n  //   },\n  //   {\n  //     name : \"DEMOCRATIC ALLIANCE\",\n  //     cleaned_name: \"da\",\n  //     data : [\n  //       {'x': 3, 'y': 31.6},\n  //       {'x': 6, 'y': 39.3},\n  //       {'x': 12, 'y': 35.4},\n  //       {'x': 20, 'y': 36},\n  //       {'x': 27, 'y': 39.6},\n  //       {'x': 33, 'y': 39.8},\n  //       {'x': 39, 'y': 31.2},\n  //       {'x': 45, 'y': 31.4},\n  //       {'x': 51, 'y': 22.7},\n  //       {'x': 57, 'y': 33.1},\n  //       {'x': 63, 'y': 23.6},\n  //       {'x': 69, 'y': 32.7},\n  //       {'x': 69, 'y': 32.7},\n  //       {'x': 75, 'y': 22.3},\n  //       {'x': 81, 'y': 32.9},\n  //       {'x': 87, 'y': 33},\n  //       {'x': 93, 'y': 22.8},\n  //       {'x': 100, 'y': 22.8},\n  //     ]\n  //   }\n  // ];\n\n  return lineData;\n}\n\nexport function parseCSIRTurnoutTimestamp(data) {\n  var predictionData = data[\"data\"][\"CSIRPrediction\"];\n  var {\n    turnout,\n    timestamp\n  } = predictionData;\n  return {\n    turnout: turnout.toFixed(2),\n    timestamp\n  }\n}\n\nexport function parseCSIRMinMax(data) {\n  var predictionData = data[\"data\"][\"CSIRPrediction\"];\n  var {\n    minX,\n    maxX\n  } = predictionData;\n  return {\n    minX,\n    maxX\n  }\n}\n\nexport function parseSeatsComparisonData(data, props) {\n  if (!data)  return null;\n  var edges = data[\"data\"][\"allSeatCalculations\"].edges;\n  var regionType = props.regionType;\n  var eventDescriptions = props.eventDescriptions[\"national\"]\n  if (props.electionType === \"provincial\")\n    eventDescriptions = props.eventDescriptions[\"provincial\"]\n\n  var results = edges.map(edge => {\n    var node = edge.node;\n    var seats = 0;\n    if (regionType === \"national\") {\n      seats = node[\"nationalPr\"] + node[\"regional\"];\n    } else {//\"province\"\n      seats = node[\"regional\"];\n    }\n    return {\n      seats,\n      name: node[\"party\"][\"event\"][\"description\"],\n      partyInfo: node[\"party\"]\n    }\n  }).filter(result => eventDescriptions.indexOf(result.name) != -1)\n  .filter(result => \n    props.partyIecId\n    ? (result.partyInfo[\"iecId\"] == props.partyIecId)\n    : (result.partyInfo[\"abbreviation\"] == props.partyAbbr)\n  )\n\n  var new_results = [];\n  for(var i = 0; i < eventDescriptions.length; i ++) {\n    var available = false;\n    for (var j = 0; j < results.length; j ++) {\n      if (results[j].name == eventDescriptions[i]) {\n        var available = true;\n        new_results.push({\n          ...results[j],\n          name: getYear(results[j].name)\n        });\n        break;\n      }\n    }\n    if (!available) {\n      new_results.push({\n        name: getYear(props.eventDescriptions[i]),\n        seats: 0,\n        partyInfo: {\n          name: props.partyAbbr,\n          abbreviation: props.partyAbbr,\n        } \n      })\n    }\n  }\n      // name: nodeData[\"event\"][\"description\"],\n      // percOfVotes: 0,\n      // partyInfo: {\n      //   name: props.partyAbbr,\n      //   abbreviation: props.partyAbbr,\n      // }\n  // results.sort(function(a,b) {\n  //   return b[\"seats\"] - a[\"seats\"];\n  // })\n  return new_results;\n}\n\nexport function parseSeatsComparisonDataMultipleParties(data, props) {\n  return props.partyAbbrs.map((partyAbbr, partyIdx) => {\n    var newProps = {...props};\n    newProps.partyAbbr = partyAbbr;\n    newProps.partyIecId = props.partyIecIds[partyIdx];\n    return {\n      partyAbbr,\n      data: parseSeatsComparisonData(data, newProps)\n    }\n  })\n}\n\nexport function parseTurnoutData(data, props) {\n  if (!data)  return null;\n  var locationToTurnout = {};\n  var edges;\n  var regionType = props.regionType;\n  if (regionType === \"national\") {\n      edges = data[\"data\"][\"allProvincialBallots\"].edges;\n      edges.forEach(function(edge) {\n          var node = edge.node;\n          var provinceName = node[\"location\"][\"name\"];\n          var percVoterTurnout = node[\"percVoterTurnout\"].toFixed(2); \n          locationToTurnout[provinceName] = percVoterTurnout;\n      })\n  } else if (regionType === \"province\") {\n      edges = data[\"data\"][\"allMunicipalBallots\"].edges;\n      edges.forEach(function(edge) {\n          var node = edge.node;\n          var muniCode = node[\"location\"][\"code\"];\n          var percVoterTurnout = node[\"percVoterTurnout\"].toFixed(2); \n          locationToTurnout[muniCode] = percVoterTurnout;\n      })\n  } else {// \"municipality\" or \"municipality-vd\"\n      edges = data[\"data\"][\"allVotingDistrictBallots\"].edges;\n      edges.forEach(function(edge) {\n          var node = edge.node;\n          var iecId = node[\"location\"][\"iecId\"];\n          var percVoterTurnout = node[\"percVoterTurnout\"].toFixed(2); \n          locationToTurnout[iecId] = percVoterTurnout;\n      })\n  }\n  return locationToTurnout;\n}\n\nexport function parseCountingProgressDataForMap(data, props) {\n  if (!data)  return null;\n  var locationToProgVotes = {};\n  var edges;\n  var regionType = props.regionType;\n  if (regionType === \"national\") {\n      edges = data[\"data\"][\"allProvincialBallots\"].edges;\n      edges.forEach(function(edge) {\n          var node = edge.node;\n          var provinceName = node[\"location\"][\"name\"];\n          \n          locationToProgVotes[provinceName] = calcPercent(node[\"vdWithResultsCaptured\"], node[\"vdCount\"]); \n      })\n  } else if (regionType === \"province\") {\n      edges = data[\"data\"][\"allMunicipalBallots\"].edges;\n      edges.forEach(function(edge) {\n          var node = edge.node;\n          var muniCode = node[\"location\"][\"code\"];\n          locationToProgVotes[muniCode] = calcPercent(node[\"vdWithResultsCaptured\"], node[\"vdCount\"]); \n      })\n  } else {// \"municipality\" or \"municipality-vd\"\n      edges = data[\"data\"][\"allVotingDistrictBallots\"].edges;\n      edges.forEach(function(edge) {\n          var node = edge.node;\n          var iecId = node[\"location\"][\"iecId\"];\n          locationToProgVotes[iecId] = calcPercent(node[\"vdWithResultsCaptured\"], node[\"vdCount\"]); \n      })\n  }\n  return locationToProgVotes;\n}\n\nexport function parseTurnoutDataForAllEvents(data, props) {\n  if (!data)  return null;\n  var edges;\n  var regionType = props.regionType;\n  if (regionType == \"national\") {\n    edges = data[\"data\"][\"allBallots\"].edges;\n  } else if (regionType == \"province\") {\n    edges = data[\"data\"][\"allProvincialBallots\"].edges;\n  } else if (regionType == \"municipality\") {\n    edges = data[\"data\"][\"allMunicipalBallots\"].edges;\n  } else if (regionType == \"municipality-vd\") {\n    edges = data[\"data\"][\"allVotingDistrictBallots\"].edges;\n  }\n  \n  return edges.map(function(edge) {\n    var node = edge.node;\n    var event = node[\"event\"][\"description\"];\n    var eventType = node[\"event\"][\"eventType\"][\"description\"];\n    var percVoterTurnout = node[\"percVoterTurnout\"].toFixed(2); \n    return {\n      name: getYear(event),\n      eventType: eventType,\n      percVoterTurnout\n    }\n  }).filter(edge => edge.eventType.toLowerCase().indexOf(props.eventType) != -1)\n  .sort(function(edge1, edge2) {\n    var edge1Year = parseInt(/(19|20)\\d{2}/g.exec(edge1.name)[0]);\n    var edge2Year = parseInt(/(19|20)\\d{2}/g.exec(edge2.name)[0]);\n    return edge1Year - edge2Year;\n  })\n}\n\nexport function parseTurnoutDataForOneEvent(data, props) {\n  if (!data)  return null;\n  var edges;\n  var regionType = props.regionType;\n  if (regionType == \"national\") {\n    edges = data[\"data\"][\"allBallots\"].edges;\n  } else if (regionType == \"province\") {\n    edges = data[\"data\"][\"allProvincialBallots\"].edges;\n  } else if (regionType == \"municipality\") {\n    edges = data[\"data\"][\"allMunicipalBallots\"].edges;\n  } else if (regionType == \"municipality-vd\") {\n    edges = data[\"data\"][\"allVotingDistrictBallots\"].edges;\n  }\n  \n  return edges.map(function(edge) {\n    var node = edge.node;\n    var event = node[\"event\"][\"description\"];\n    var percVoterTurnout = node[\"percVoterTurnout\"].toFixed(2); \n    return {\n      name: getYear(event),\n      percVoterTurnout\n    }\n  })\n}\n\nexport function parseSpoiltVotesData(data, props) {\n  var firstEdge;\n  var regionType = props.regionType;\n  if (regionType == \"national\") {\n    firstEdge = data[\"data\"][\"allBallots\"].edges[0];\n  } else if (regionType == \"province\") {\n    firstEdge = data[\"data\"][\"allProvincialBallots\"].edges[0];\n  } else if (regionType == \"municipality\") {\n    firstEdge= data[\"data\"][\"allMunicipalBallots\"].edges[0];\n  } else { //\"municipality-vd\"\n    firstEdge = data[\"data\"][\"allVotingDistrictBallots\"].edges[0];\n  }\n  if (!firstEdge){\n    console.error(\"spoilt data is empty!!\");\n    return null;\n  }\n\n  var nodeData = firstEdge[\"node\"];\n\n  return [\n    {\n      name: \"Valid\",\n      percent: calcPercent(nodeData[\"totalValidVotes\"], nodeData[\"totalVotesCast\"])\n    }, {\n      name: \"Spoilt\",\n      percent: calcPercent(nodeData[\"spoiltVotes\"], nodeData[\"totalVotesCast\"])\n    }\n  ]\n}\n\nexport function getRegionName(state) {\n  function beautifiedMuniName(muniName) {\n    if (muniName.indexOf(\" - \") != -1) {\n        muniName = muniName.split(\" - \")[1];\n    }\n    if (muniName.indexOf(\"[\") != -1) {\n        muniName = muniName.split(\"[\")[0];\n    }\n    return muniName;\n  }\n  if (state.regionType == \"national\") {\n    return \"South Africa\";\n  }\n  if (state.regionType == \"province\") {\n    return state.provinceName;\n  }\n  if (state.regionType == \"municipality\") {\n    return beautifiedMuniName(state.muniName);\n  }\n  if (state.regionType == \"municipality-vd\") {\n    return beautifiedMuniName(state.muniName) + \"-\" + state.iecId;\n  }\n}\n\nexport function getRegionName2(state) {\n  if (state.regionType == \"national\") {\n    var event = state.eventDescription.toLocaleLowerCase()\n\n    if (event.indexOf(\"national election\") >= 0) {\n      return \"National Assembly\"\n    }\n    else if (event.indexOf(\"provincial election\") >= 0) {\n      return \"Results for Provincial Legislatures\"\n    }\n    else\n      return \"\"\n  }\n  else if (state.regionType == \"province\") {\n    return getRegionName(state) + \" Legislature\";\n  }\n  return getRegionName(state);\n}\n\nexport function getRegionName3(state) {\n  if (state.regionType == \"national\")\n    return \"National\";\n  if (state.regionType == \"province\") {\n    return getRegionName(state) + \" Legislature\";\n  }\n  return getRegionName(state);\n}\n\nexport function getRegionName4(state) {\n  if (state.regionType == \"national\") {\n    return \"National Assembly\";\n  } else { // province\n    return state.provinceName + \" Legislature\";\n  }\n}\n\nexport function getNationalProvincialStr(state) {\n  var event = state.eventDescription.toLocaleLowerCase()\n  var nationalProvincialStr = \"\"; \n  if (event.indexOf(\"national election\") >= 0) {\n      nationalProvincialStr = \"National Assembly\";\n  } else {\n      nationalProvincialStr = \"Provincial Legislature\";\n  }\n  return nationalProvincialStr;\n}\n\nexport function getNationalProvincialStr2(state) {\n  var event = state.eventDescription.toLocaleLowerCase()\n  var nationalProvincialStr = \"\"; \n  if (event.indexOf(\"national election\") >= 0) {\n      nationalProvincialStr = \"National Assembly\";\n  } else {\n      nationalProvincialStr = state.provinceName + \" Legislature\";\n  }\n  return nationalProvincialStr;\n}\n\nexport function getNationalProvincialStr3(state) {\n  var event = state.eventDescription.toLocaleLowerCase()\n  var nationalProvincialStr = \"\"; \n  if (event.indexOf(\"national election\") >= 0) {\n      nationalProvincialStr = \"\";\n  } else {\n      nationalProvincialStr = \": \" + state.provinceName + \" Legislature\";\n  }\n  return nationalProvincialStr;\n}\n\nexport function getNationalProvincialStr4(state) {\n  var event = state.eventDescription.toLocaleLowerCase()\n  var nationalProvincialStr = \"\"; \n  if (event.indexOf(\"national election\") >= 0) {\n      nationalProvincialStr = \"National\";\n  } else {\n      nationalProvincialStr = state.provinceName + \" Legislature\";\n  }\n  return nationalProvincialStr;\n}\n\nexport function getSeatsCount(state) {\n  if (state.regionType == \"national\") {\n    return 400;\n  } else {\n    var seatsTable = {\n      \"Eastern Cape\": 63,\n      \"Free State\": 30,\n      \"Gauteng\": 73,\n      \"KwaZulu-Natal\": 80,\n      \"Limpopo\": 49,\n      \"Mpumalanga\": 30,\n      \"North West\": 33,\n      \"Northern Cape\": 30,\n      \"Western Cape\": 42,\n    }\n    return seatsTable[state.provinceName];\n  }\n  \n}\n\nexport function getNationOrProvinceName(state) {\n  if (state.regionType == \"national\") {\n    return \"South Africa\";\n  }\n  return state.provinceName;\n}\n\nexport function getNationOrProvinceName2(state) {\n  if (state.regionType == \"national\") {\n    return \"National Assembly\";\n  }\n  return state.provinceName;\n}\n\nexport function createTooltip(className) {\n  var tooltipClassName = className(config.CSS_PREFIX + \"tooltip\")\n  if (document.getElementsByClassName(tooltipClassName)[0]) {\n    return d3.select(`.${tooltipClassName}`);\n  } else {\n    return d3.select(\"body\").append(\"div\")\t\n      .attr(\"class\", tooltipClassName)\t\t\t\t\n      .style(\"opacity\", 0);\n  }\n}\n\n\n\nexport function fixMapLabelIntersect() {\n  var labelElements = document.getElementsByClassName(\"place-label\");\n  var regions = {};\n  var overlapCnt = {};\n  var i;\n\n  for (i = 0; i < labelElements.length; i ++) {\n      regions[i] = labelElements[i].getBoundingClientRect();\n  }\n\n  for (i = 0; i < labelElements.length; i ++) {\n      for (var j = 0; j < i; j ++) {\n          var rect1 = regions[i];\n          var rect2 = regions[j];\n          var overlap = !(rect1.right < rect2.left || \n              rect1.left > rect2.right || \n              rect1.bottom < rect2.top || \n              rect1.top > rect2.bottom);\n          if (overlap) {\n              overlapCnt[i] = overlapCnt[i]? (overlapCnt[i] + 1): 1;\n          }\n      }\n      if (overlapCnt[i] > 2) {\n          labelElements[i].setAttribute(\"opacity\", 0)\n      } else if (overlapCnt[i] > 0){\n          labelElements[i].innerHTML = labelElements[i].innerHTML.slice(0, 3) + \"...\";\n      } else {\n\n      }\n  }\n}\n\nexport function triggerCustomEvent(eventName, eventParam) {\n  var event = new CustomEvent(eventName, { detail: eventParam });\n  document.dispatchEvent(event);\n}\n\nexport function formatPartyName(name) {\n  return name.split(\"/\")[0].toLowerCase().replace(/\\b\\w/g, function(l){ return l.toUpperCase() })\n}\n\nexport function getSubRegionName(properties, state) {\n  if (state.regionType === \"national\") {\n      return properties.SPROVINCE;\n  } else if (state.regionType === \"province\") {\n      return properties.smunicipal && properties.smunicipal.split(\" - \")[1].split(\"[\")[0]; \n  } else {//municipality\n    return getMunicipalityiecId(properties);\n    // if (properties.Municipali) {\n    //   return properties.Municipali.split(\" - \")[1].split(\"[\")[0];\n    // }\n    // return properties.SMUNICIPAL && properties.SMUNICIPAL.split(\" - \")[1].split(\"[\")[0]; \n  }\n}\n\nexport function getMunicipalityCode(properties) {\n  return properties.code || (properties.smunicipal && properties.smunicipal.split(\" - \")[0].replace(/\\s/g, \"\"));\n}\n\nexport function getMunicipalityiecId(properties) {\n  return properties.VDNumber || properties.PKLVDNUMBE;\n}\n\nexport function getRegionFileName(state) {\n  var nationalMapFile = \"province_lo-res.geojson\";\n  function getProvinceFileName(provinceName) {\n      var provinceNameToFileMap = {\n          \"Limpopo\": \"lim_lo-res.geojson\",\n          \"Mpumalanga\": \"mp_lo-res.geojson\",\n          \"Gauteng\": \"gt_lo-res.geojson\",\n          \"KwaZulu-Natal\": \"kzn_lo-res.geojson\",\n          \"North West\": \"nw_lo-res.geojson\",\n          \"Free State\": \"fs_lo-res.geojson\",\n          \"Eastern Cape\": \"ec_lo-res.geojson\",\n          \"Northern Cape\": \"nc_lo-res.geojson\",\n          \"Western Cape\": \"wc_lo-res.geojson\",\n      }\n      return provinceNameToFileMap[provinceName];\n  }\n  switch(state.regionType) {\n      case \"national\":\n          return nationalMapFile;\n      case \"province\":\n          return getProvinceFileName(state.provinceName);\n      case \"municipality\":\n          return state.muniCode + \".topojson\";//\".geojson\";\n      case \"municipality-vd\":\n          return \"vd-data/\" + state.muniCode + \"-\" + state.iecId + \".topojson\"; //\".geojson\";\n      default:\n          return null;\n  }\n}\n\nexport function loadScript(id, scriptURL, callback) {\n  if (document.getElementById(id))\n    return;\n  var script = document.createElement('script');\n  script.onload = function () {\n    if(callback) {\n      callback();\n    }\n  };\n  script.id = id;\n  script.src = scriptURL;\n\n  document.head.appendChild(script);\n}\n\nexport function loadCanvg() {\n  loadScript(\"canvgScript\", \"https://cdn.jsdelivr.net/npm/canvg/dist/browser/canvg.min.js\", function() {\n    console.log(\"canvgScript load finished\");\n  });\n}\n\nexport function loadJSZip() {\n  loadScript(\"jsZipScript\", \"https://cdnjs.cloudflare.com/ajax/libs/jszip/3.2.0/jszip.min.js\", function() {\n    console.log(\"loadJSZip load finished\");\n  });\n}\n\nexport function loadScriptsForEmbedMode() {\n  loadCanvg();\n  loadJSZip();\n}\n\n\nexport function handleRegionChange(event) {\n  var newState = JSON.parse(JSON.stringify(event.detail));\n  delete newState.componentID;\n  this.setState(newState)\n}\n\nexport function fetchDataFromOBJ(state, props) {\n  Object.keys(state).forEach(key => {\n    if (typeof props[key] != 'undefined') {\n      state[key] = props[key];\n    }\n  })\n}\n\nexport function formatClassNameFromString(str) {\n  return \"formedClass_\" + str.replace(/[^a-zA-Z0-9]+/g, '');\n}\n\nexport function onPartyAbbrsChange(e) {\n    var options = e.target.options;\n    var values = [];\n    for (var i = 0, l = options.length; i < l; i++) {\n      if (options[i].selected) {\n        values.push(options[i].value);\n      }\n    }\n    values = values.slice(0, 4);\n    this.setState({\n        partyAbbrs: values.map(value => value.split(\"\\x22\")[0]),\n        partyIecIds: values.map(value => value.split(\"\\x22\")[1]),\n    })\n}\n\nexport function nationalEventSelected(state) {\n  for (var i = 0; i < state.electionEvents.length; i ++) {\n    if (state.electionEvents[i].description == state.eventDescription) {\n      if (state.electionEvents[i].eventType.description.toLowerCase().indexOf(\"national\") != -1) {\n        return true;\n      }\n    }\n  }\n  return false;\n}\n\nexport function createSvg(container, width, height) {\n  container.selectAll(\"svg\").remove();\n  var svg = container.append(\"svg\")\n      .attr(\"preserveAspectRatio\", \"xMinYMin meet\")\n      .attr(\"viewBox\", \"0 0 \" + (width) + \" \" + (height))\n      .classed(\"svg-content\", true);\n\n  return svg;\n}\n\nexport function createErrorText(container, xOffset, yOffset) {\n  if (xOffset === undefined) xOffset = 0;\n  if (yOffset === undefined) yOffset = 0;\n\n  var errorText = container.append(\"g\")\n    .attr(\"transform\", \"translate(\"+ xOffset + \",\" + yOffset + \")\")\n    .append(\"text\")\n    .attr(\"text-anchor\", \"middle\");\n\n  return errorText;\n}\n\nexport function PartyColours(partyColours) {\n  var partyColourByName = {};\n\n  if (partyColours && partyColours[\"data\"][\"allParties\"][\"edges\"]) {\n      partyColours[\"data\"][\"allParties\"][\"edges\"].forEach(edge => {\n        partyColourByName[edge.node.name] = edge.node.colour;\n      })\n  }\n\n  // TODO should used cleaned name\n  function getFillColourFromPartyName(partyName, i) {\n    // console.log(partyColourByName[partyName])\n    // console.log(partyColourByName)\n    return partyColourByName[partyName];\n    //return partyColourByName[partyName.split(\"/\")[0]] || predefColours[i%predefColours.length];\n  }\n\n  return getFillColourFromPartyName;\n}\n\n"],"sourceRoot":""}