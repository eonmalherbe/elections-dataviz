(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"./src/api/index.js":function(e,t,n){"use strict";var a=n("./node_modules/graphql-tag/src/index.js"),r=n.n(a),o=n("./node_modules/apollo-client/ApolloClient.js"),i=n("./node_modules/apollo-link-http/lib/bundle.esm.js"),c=n("./node_modules/apollo-cache-inmemory/lib/inMemoryCache.js"),l=new o.a({link:new i.a({uri:"https://eds.elections.sabc.co.za/graphql",useGETForQueries:!0,headers:{"Content-Type":"application/graphql"}}),cache:new c.a});function u(){var e=d(['\n        {\n            allSeatCalculations(\n              province:"','", \n              event:"','", \n              orderBy:["-seats"]\n            ) {\n              edges{\n                node\n                {\n                  nationalPr\n                  regional\n                  party{\n                    name\n                    abbreviation\n                    iecId\n                  }\n                  province{\n                    name\n                    country{\n                      event{\n                        description\n                      }\n                    }\n                  }\n                }\n              }\n            }\n        }\n        ']);return u=function(){return e},e}function s(){var e=d(['\n        {\n            allSeatCalculations(\n              event:"','", \n              orderBy:["-seats"]\n            ) {\n              edges{\n                node\n                {\n                  nationalPr\n                  regional\n                  party{\n                    name\n                    abbreviation\n                    iecId\n                  }\n                  province{\n                    name\n                    country{\n                      event{\n                        description\n                      }\n                    }\n                  }\n                }\n              }\n            }\n        }\n        ']);return s=function(){return e},e}function m(){var e=d(['\n      {\n          allSeatCalculations(\n            province:"','", \n            orderBy:["-seats"]\n          ) {\n            edges{\n              node\n              {\n                nationalPr\n                regional\n                party{\n                  event {\n                    description\n                  }\n                  name\n                  abbreviation\n                  iecId\n                }\n                province{\n                  name\n                }\n              }\n            }\n          }\n      }\n      ']);return m=function(){return e},e}function p(){var e=d(['\n      {\n          allSeatCalculations(\n            eventType:"National Election" \n            orderBy:["-seats"]){\n            edges{\n              node\n              {\n                nationalPr\n                regional\n                party{\n                  event {\n                    description\n                  }\n                  name\n                  abbreviation\n                  iecId\n                }\n                province{\n                  name\n                }\n              }\n            }\n          }\n      }\n      ']);return p=function(){return e},e}function d(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function f(e){return"national"===e.regionType?l.query({query:r()(p())}):l.query({query:r()(m(),e.provinceName)})}function v(e){var t=e.eventDescription;if(t)return"national"===e.regionType?l.query({query:r()(s(),t)}):(t=(t=(t=t.replace("National","Provincial")).replace("NATIONAL","PROVINCIAL")).replace("national","provincial"),l.query({query:r()(u(),e.provinceName,t)}))}function y(){var e=j(['\n          {\n            topPartiesByVotingDistrict(\n              event:"','", \n              province:"','",\n              municipalCode: "','"\n            ) {\n              \n              edges {\n                node {\n                  location{\n                    iecId\n                  }\n                  topParty{\n                    party{\n                      name\n                      abbreviation\n                      iecId\n                    }\n                  }\n                }\n              }\n            }\n          }\n          ']);return y=function(){return e},e}function h(){var e=j(['\n        {\n          topPartiesByMunicipality(\n            event:"','", \n            province:"','") {\n            \n            edges {\n              node {\n                location{\n                    code\n                    name\n                    longName\n                }\n                totalVotesCast\n                topParty{\n                  party {               \n                    name\n                    abbreviation\n                    iecId\n                  }\n                  validVotes\n                  percOfVotes\n                }\n              }\n            }\n          }\n        }\n        ']);return h=function(){return e},e}function b(){var e=j(['\n        {\n          topPartiesByProvince(event:"','") {\n            edges {\n              node {\n                location{\n                  id\n                  name\n                }\n                totalVotesCast\n                topParty{\n                  validVotes\n                  percOfVotes\n                  party {\n                      id\n                      name\n                      abbreviation\n                      iecId\n                  }\n                }\n              }\n            }\n          }\n        }\n        ']);return b=function(){return e},e}function N(){var e=j(['\n        {\n          allVotingDistrictBallots(\n            event:"','",\n            iecId:"','"\n          ) {\n            edges{\n              node{\n                location {\n                  iecId\n                  ward {\n                    municipality {\n                      code\n                      province {\n                        name\n                      }\n                    }\n                  }\n                }\n                partyResults {\n                  edges{\n                    node{\n                      party{\n                        name\n                        abbreviation\n                        iecId\n                      }\n                      validVotes\n                      percOfVotes\n                    }\n                  }  \n                }\n              }\n            }\n          }\n        }\n        ']);return N=function(){return e},e}function E(){var e=j(['\n        {\n          allMunicipalBallots(\n            event:"','",\n            province:"','", \n            municipalCode: "','"\n          ) {\n            edges{\n              node {\n                partyResults {\n                  edges{\n                    node{\n                      party {               \n                        name\n                        abbreviation\n                        iecId\n                      }\n                      validVotes\n                      percOfVotes\n                    }\n                  }\n                  \n                }\n                location {\n                  code\n                  name\n                  longName\n                }\n              }\n            }\n          }\n        }\n        ']);return E=function(){return e},e}function g(){var e=j(['\n        {\n          allProvincialBallots(\n            event:"','",\n            province:"','"\n          ){\n            edges{\n              node{\n                partyResults {\n                  edges{\n                    node{\n                      validVotes\n                      percOfVotes\n                      party {\n                        id\n                        name\n                        abbreviation\n                        iecId\n                      }\n                    }\n                  }\n                }\n                location {\n                  id\n                  name\n                }\n              }\n            }\n          }\n        }\n        ']);return g=function(){return e},e}function C(){var e=j(['\n        {\n          allBallots(\n            event:"','"\n          ){\n            edges{\n              node{\n                partyResults {\n                  edges{\n                    node{\n                      validVotes\n                      percOfVotes\n                      party {\n                        id\n                        name\n                        abbreviation\n                        iecId\n                      }\n                    }\n                  }\n                  \n                }\n                location {\n                  id\n                  name\n                }\n              }\n            }\n          }\n        }\n        ']);return C=function(){return e},e}function P(){var e=j(['\n        {\n          allVotingDistrictBallots(\n            iecId:"','"\n          ) {\n            edges{\n              node{\n                event {\n                  description\n                  eventType {\n                    description\n                  }\n                }\n                location {\n                  iecId\n                }\n                partyResults {\n                  edges{\n                    node{\n                      party{\n                        name\n                        abbreviation\n                        iecId\n                      }\n                      validVotes\n                      percOfVotes\n                    }\n                  }  \n                }\n              }\n            }\n          }\n        }\n        ']);return P=function(){return e},e}function S(){var e=j(['\n        {\n          allMunicipalBallots(\n            province:"','", \n            municipalCode: "','"\n          ) {\n            edges{\n              node {\n                event {\n                  description\n                  eventType {\n                    description\n                  }\n                }\n                partyResults {\n                  edges{\n                    node{\n                      party {               \n                        name\n                        abbreviation\n                        iecId\n                      }\n                      validVotes\n                      percOfVotes\n                    }\n                  }\n                  \n                }\n                location {\n                  code\n                  name\n                  longName\n                }\n              }\n            }\n          }\n        }\n        ']);return S=function(){return e},e}function I(){var e=j(['\n        {\n          allProvincialBallots(\n            province:"','"\n          ){\n            edges{\n              node{\n                event {\n                  description\n                  eventType {\n                    description\n                  }\n                }\n                partyResults {\n                  edges{\n                    node{\n                      validVotes\n                      percOfVotes\n                      party {\n                        id\n                        name\n                        abbreviation\n                        iecId\n                      }\n                    }\n                  }\n                }\n                location {\n                  id\n                  name\n                }\n              }\n            }\n          }\n        }\n        ']);return I=function(){return e},e}function w(){var e=j(["\n        {\n          allBallots{\n            edges{\n              node{\n                event {\n                  description\n                  eventType {\n                    description\n                  }\n                }\n                partyResults {\n                  edges{\n                    node{\n                      validVotes\n                      percOfVotes\n                      party {\n                        id\n                        name\n                        abbreviation\n                        iecId\n                      }\n                    }\n                  }\n                  \n                }\n                location {\n                  id\n                  name\n                }\n              }\n            }\n          }\n        }\n        "]);return w=function(){return e},e}function O(){var e=j(['\n      {\n        allVotingDistrictBallots(\n          iecId:"','", \n        ) {\n          edges{\n            node{\n              event {\n                description\n              }\n              location {\n                iecId\n              }\n              partyResults {\n                edges{\n                  node{\n                    party{\n                      name\n                    }\n                    percOfVotes\n                  }\n                }  \n              }\n            }\n          }\n        }\n      }\n      ']);return O=function(){return e},e}function _(){var e=j(['\n      {\n        allMunicipalBallots(\n          province:"','", \n          municipalCode: "','"\n        ) {\n          edges{\n            node {\n              event {\n                description\n              }\n              partyResults {\n                edges{\n                  node{\n                    party {               \n                      name\n                      abbreviation\n                      iecId\n                    }\n                    validVotes\n                    percOfVotes\n                  }\n                }\n                \n              }\n              location {\n                code\n                name\n                longName\n              }\n            }\n          }\n        }\n      }\n      ']);return _=function(){return e},e}function k(){var e=j(['\n      {\n        allProvincialBallots(\n          province:"','"\n        ){\n          edges{\n            node{\n              event {\n                description\n              }\n              partyResults {\n                edges{\n                  node{\n                    percOfVotes\n                    party {\n                      name\n                      abbreviation\n                      iecId\n                    }\n                  }\n                }\n              }\n              location {\n                name\n              }\n            }\n          }\n        }\n      }\n      ']);return k=function(){return e},e}function x(){var e=j(["\n      {\n        allBallots{\n          edges{\n            node{\n              event {\n                description\n              }\n              partyResults {\n                edges{\n                  node{\n                    percOfVotes\n                    party {\n                      name\n                      abbreviation\n                      iecId\n                    }\n                  }\n                }\n              }\n              location {\n                name\n              }\n            }\n          }\n        }\n      }\n      "]);return x=function(){return e},e}function T(){var e=j(['\n        {\n          CSIRPrediction(eventType: "','", areaType:"Provincial", province: "','") {\n            turnout\n            timestamp\n            results{\n              edges{\n                node{\n                  percVds\n                  prediction{\n                    edges{\n                      node{\n                        party{\n                          name\n                          abbreviation\n                          iecId\n                        }\n                        actualPercent\n                        predictedPercent\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }']);return T=function(){return e},e}function A(){var e=j(['\n        {\n          CSIRPrediction(eventType: "','", areaType:"National") {\n            turnout\n            timestamp\n            results{\n              edges{\n                node{\n                  percVds\n                  prediction{\n                    edges{\n                      node{\n                        party{\n                          name\n                          abbreviation\n                          iecId\n                        }\n                        actualPercent\n                        predictedPercent\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }']);return A=function(){return e},e}function j(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function D(e){console.log("getVotesPredictionData",e);var t="national"==e.electionType?"National Election":"Provincial Election";return"national"===e.regionType?l.query({query:r()(A(),t)}):l.query({query:r()(T(),t,e.provinceName)})}function R(e){if("national"===e.regionType)return l.query({query:r()(x())});if("province"===e.regionType)return l.query({query:r()(k(),e.provinceName)});if("municipality"===e.regionType){var t=e.muniCode||e.muniName.split(" - ")[0];return l.query({query:r()(_(),e.provinceName,t)})}return"municipality-vd"===e.regionType?l.query({query:r()(O(),e.iecId)}):void 0}function G(e){if("national"===e.regionType)return l.query({query:r()(w())});if("province"===e.regionType)return l.query({query:r()(I(),e.provinceName)});if("municipality"===e.regionType){var t=e.muniCode||e.muniName.split(" - ")[0];return l.query({query:r()(S(),e.provinceName,t)})}return"municipality-vd"===e.regionType?l.query({query:r()(P(),e.iecId)}):void 0}function L(e){var t=e.eventDescription;if(t){if("national"===e.regionType)return l.query({query:r()(C(),t)});if("province"===e.regionType)return l.query({query:r()(g(),t,e.provinceName)});if("municipality"===e.regionType){var n=e.muniCode||e.muniName.split(" - ")[0];return l.query({query:r()(E(),t,e.provinceName,n)})}return"municipality-vd"===e.regionType?l.query({query:r()(N(),t,e.iecId)}):void 0}}function V(e){var t=e.eventDescription;if(t)return"national"===e.regionType?l.query({query:r()(b(),t)}):"province"===e.regionType?l.query({query:r()(h(),t,e.provinceName)}):l.query({query:r()(y(),t,e.provinceName,e.muniCode)})}function M(){var e=Y(['\n          {\n            allVotingDistrictBallots(\n              iecId:"','" \n            ) {\n              edges{\n                node{\n                  event {\n                    description\n                    eventType {\n                      description\n                    }\n                  }\n                  percVoterTurnout\n                }\n              }\n            }\n          }\n          ']);return M=function(){return e},e}function W(){var e=Y(['\n          {\n            allMunicipalBallots( \n              province:"','", \n              municipalCode: "','"\n            ) {\n              edges{\n                node{\n                  event {\n                    description\n                    eventType {\n                      description\n                    }\n                  }\n                  percVoterTurnout\n                }\n              }\n            }\n          }\n          ']);return W=function(){return e},e}function F(){var e=Y(['\n        {\n          allProvincialBallots(\n            province:"','"\n          ) {\n            edges{\n              node {\n                event {\n                  description\n                  eventType {\n                    description\n                  }\n                }\n                percVoterTurnout\n              }\n            }\n          }\n        }\n        ']);return F=function(){return e},e}function B(){var e=Y(["\n        {\n          allBallots{\n            edges{\n              node{\n                event {\n                  description\n                  eventType {\n                    description\n                  }\n                }\n                percVoterTurnout\n              }\n            }\n          }\n        }\n        "]);return B=function(){return e},e}function U(){var e=Y(['\n          {\n            allVotingDistrictBallots(\n              event:"','"\n              iecId:"','"\n            ) {\n              edges{\n                node{\n                  event {\n                    description\n                    eventType {\n                      description\n                    }\n                  }\n                  percVoterTurnout\n                }\n              }\n            }\n          }\n          ']);return U=function(){return e},e}function Z(){var e=Y(['\n          {\n            allMunicipalBallots( \n              event:"','"\n              province:"','", \n              municipalCode: "','"\n            ) {\n              edges{\n                node{\n                  event {\n                    description\n                    eventType {\n                      description\n                    }\n                  }\n                  percVoterTurnout\n                }\n              }\n            }\n          }\n          ']);return Z=function(){return e},e}function K(){var e=Y(['\n        {\n          allProvincialBallots(\n            event:"','"\n            province:"','"\n          ) {\n            edges{\n              node {\n                event {\n                  description\n                  eventType {\n                    description\n                  }\n                }\n                percVoterTurnout\n              }\n            }\n          }\n        }\n        ']);return K=function(){return e},e}function H(){var e=Y(['\n        {\n          allBallots(\n            event:"','"\n          ) {\n            edges{\n              node{\n                event {\n                  description\n                  eventType {\n                    description\n                  }\n                }\n                percVoterTurnout\n              }\n            }\n          }\n        }\n        ']);return H=function(){return e},e}function z(){var e=Y(['\n          {\n            allVotingDistrictBallots( \n              event:"','",\n              municipalCode:"','"\n            ) {\n              edges{\n                node{\n                  location {\n                    iecId\n                  }\n                  percVoterTurnout\n                  vdCount\n                  vdWithResultsCaptured\n                }\n              }\n            }\n          }\n          ']);return z=function(){return e},e}function q(){var e=Y(['\n        {\n          allMunicipalBallots(\n            event:"','",\n            province:"','"\n          ) {\n            edges{\n              node {\n                percVoterTurnout\n                vdCount\n                vdWithResultsCaptured\n                location {\n                  code\n                  name\n                  longName\n                }\n              }\n            }\n          }\n        }\n        ']);return q=function(){return e},e}function X(){var e=Y(['\n        {\n          allProvincialBallots(\n            event:"','"\n          ){\n            edges{\n              node{\n                percVoterTurnout\n                vdCount\n                vdWithResultsCaptured\n                location {\n                  id\n                  name\n                }\n              }\n            }\n          }\n        }\n        ']);return X=function(){return e},e}function Y(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function J(e){var t=e.eventDescription;if(t)return"national"===e.regionType?l.query({query:r()(X(),t)}):"province"===e.regionType?l.query({query:r()(q(),t,e.provinceName)}):l.query({query:r()(z(),t,e.muniCode)})}function Q(e){var t=e.eventDescription;if(t){if("national"===e.regionType)return l.query({query:r()(H(),t)});if("province"===e.regionType)return l.query({query:r()(K(),t,e.provinceName)});if("municipality"===e.regionType){var n=e.muniCode||e.muniName.split(" - ")[0];return l.query({query:r()(Z(),t,e.provinceName,n)})}return"municipality-vd"===e.regionType?l.query({query:r()(U(),t,e.iecId)}):void 0}}function $(e){if("national"===e.regionType)return l.query({query:r()(B())});if("province"===e.regionType)return l.query({query:r()(F(),e.provinceName)});if("municipality"===e.regionType){var t=e.muniCode||e.muniName.split(" - ")[0];return l.query({query:r()(W(),e.provinceName,t)})}return"municipality-vd"===e.regionType?l.query({query:r()(M(),e.iecId)}):void 0}function ee(){var e=re(['\n          {\n            allVotingDistrictBallots(\n              event:"','",\n              iecId:"','"\n            ) {\n              edges{\n                node{\n                  location {\n                    iecId\n                  }\n                  spoiltVotes\n                  totalVotesCast\n                  totalValidVotes\n                }\n              }\n            }\n          }\n          ']);return ee=function(){return e},e}function te(){var e=re(['\n          {\n            allMunicipalBallots( \n                event:"','",\n                province:"','", \n                municipalCode: "','"\n            ) {\n              edges{\n                node{\n                  location {\n                    code\n                    name\n                    longName\n                  }\n                  spoiltVotes\n                  totalVotesCast\n                  totalValidVotes\n                }\n              }\n            }\n          }\n          ']);return te=function(){return e},e}function ne(){var e=re(['\n        {\n          allProvincialBallots(\n            event:"','",\n            province:"','"\n          ) {\n            edges{\n              node {\n                spoiltVotes\n                totalVotesCast\n                totalValidVotes\n                location {\n                    id\n                    name\n                }\n              }\n            }\n          }\n        }\n        ']);return ne=function(){return e},e}function ae(){var e=re(['\n        {\n          allBallots(\n            event:"','"\n          ){\n            edges{\n              node{\n                spoiltVotes\n                totalVotesCast\n                totalValidVotes\n                location {\n                  id\n                  name\n                }\n              }\n            }\n          }\n        }\n        ']);return ae=function(){return e},e}function re(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function oe(e){var t=e.eventDescription;if(t){if("national"===e.regionType)return l.query({query:r()(ae(),t)});if("province"===e.regionType)return l.query({query:r()(ne(),t,e.provinceName)});if("municipality"===e.regionType){var n=e.muniCode||e.muniName.split(" - ")[0];return l.query({query:r()(te(),t,e.provinceName,n)})}return"municipality-vd"===e.regionType?l.query({query:r()(ee(),t,e.iecId)}):void 0}}function ie(){var e=se(['\n        {\n          allVotingDistrictBallots(\n            event:"','",\n            iecId:"','"\n          ) {\n            edges{\n              node{\n                vdCount\n                vdWithResultsCaptured\n              }\n            }\n          }\n        }\n        ']);return ie=function(){return e},e}function ce(){var e=se(['\n        {\n          allMunicipalBallots(\n            event:"','",\n            province:"','", \n            municipalCode: "','"\n          ) {\n            edges{\n              node {\n                vdCount\n                vdWithResultsCaptured\n              }\n            }\n          }\n        }\n        ']);return ce=function(){return e},e}function le(){var e=se(['\n        {\n          allProvincialBallots(\n            event:"','",\n            province:"','"\n          ){\n            edges{\n              node{\n                vdCount\n                vdWithResultsCaptured\n              }\n            }\n          }\n        }\n        ']);return le=function(){return e},e}function ue(){var e=se(['\n        {\n          allBallots(\n            event:"','"\n          ){\n            edges{\n              node{\n                vdCount\n                vdWithResultsCaptured\n              }\n            }\n          }\n        }\n        ']);return ue=function(){return e},e}function se(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function me(e){var t=e.eventDescription;if(t){if("national"==e.regionType)return l.query({query:r()(ue(),t)});if("province"==e.regionType)return l.query({query:r()(le(),t,e.provinceName)});if("municipality"==e.regionType){var n=e.muniCode||e.muniName.split(" - ")[0];return l.query({query:r()(ce(),t,e.provinceName,n)})}return"municipality-vd"==e.regionType?l.query({query:r()(ie(),t,e.iecId)}):void 0}}function pe(){var e=fe(["\n    {\n      allParties {\n        edges{\n          node{\n            name\n            abbreviation\n            colour\n            iecId\n          }\n        }\n      }\n    }\n    "]);return pe=function(){return e},e}function de(){var e=fe(["\n    {\n      allEvents {\n        description\n        eventType {\n          description\n        }\n      }\n    }\n    "]);return de=function(){return e},e}function fe(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function ve(){return l.query({query:r()(de())})}function ye(){return l.query({query:r()(pe())})}function he(){var e=[{name:"Limpopo",abbreviation:"LIM",munis:[{provinceName:"Limpopo",muniName:"LIM331 - Greater Giyani [Giyani]",muniCode:"LIM331"},{provinceName:"Limpopo",muniName:"LIM332 - Greater Letaba [Duiwelskloof]",muniCode:"LIM332"},{provinceName:"Limpopo",muniName:"LIM333 - Greater Tzaneen [Tzaneen]",muniCode:"LIM333"},{provinceName:"Limpopo",muniName:"LIM334 - Ba-Phalaborwa [Phalaborwa]",muniCode:"LIM334"},{provinceName:"Limpopo",muniName:"LIM335 - Maruleng [Hoedspruit]",muniCode:"LIM335"},{provinceName:"Limpopo",muniName:"LIM341 - Musina [Messina]",muniCode:"LIM341"},{provinceName:"Limpopo",muniName:"LIM342 - Mutale [Mutale-Masisi]",muniCode:"LIM342"},{provinceName:"Limpopo",muniName:"LIM343 - Thulamela [Thohoyandou]",muniCode:"LIM343"},{provinceName:"Limpopo",muniName:"LIM344 - Makhado [Louis Trichardt]",muniCode:"LIM344"},{provinceName:"Limpopo",muniName:"LIM351 - Blouberg [Bochum/My Darling]",muniCode:"LIM351"},{provinceName:"Limpopo",muniName:"LIM352 - Aganang [Moletji/Matlala]",muniCode:"LIM352"},{provinceName:"Limpopo",muniName:"LIM353 - Molemole [Dendron/Dikgale]",muniCode:"LIM353"},{provinceName:"Limpopo",muniName:"LIM354 - Polokwane [Pietersburg]",muniCode:"LIM354"},{provinceName:"Limpopo",muniName:"LIM355 - Lepele-Nkumpi [Lebowakgomo]",muniCode:"LIM355"},{provinceName:"Limpopo",muniName:"LIM361 - Thabazimbi [Thabazimbi]",muniCode:"LIM361"},{provinceName:"Limpopo",muniName:"LIM362 - Lephalale [Ellisras]",muniCode:"LIM362"},{provinceName:"Limpopo",muniName:"LIM364 - Mookgopong [Naboomspruit]",muniCode:"LIM364"},{provinceName:"Limpopo",muniName:"LIM365 - Modimolle [Nylstroom]",muniCode:"LIM365"},{provinceName:"Limpopo",muniName:"LIM366 - Bela-Bela [Warmbad]",muniCode:"LIM366"},{provinceName:"Limpopo",muniName:"LIM367 - Mogalakwena [Potgietersrus]",muniCode:"LIM367"},{provinceName:"Limpopo",muniName:"LIM471 - Ephraim Mogale [Marble Hall]",muniCode:"LIM471"},{provinceName:"Limpopo",muniName:"LIM472 - Elias Motsoaledi [Groblersdal]",muniCode:"LIM472"},{provinceName:"Limpopo",muniName:"LIM473 - Makhuduthamaga [Ngwaritsi]",muniCode:"LIM473"},{provinceName:"Limpopo",muniName:"LIM474 - Fetakgomo [Fetakgomo ]",muniCode:"LIM474"},{provinceName:"Limpopo",muniName:"LIM475 - Greater Tubatse [Burgersfort/Ohrigstad/Eastern Tubatse]",muniCode:"LIM475"}]},{name:"Mpumalanga",abbreviation:"MP",munis:[{provinceName:"Mpumalanga",muniName:"MP301 - Albert Luthuli [Elukwatini/Carolina]",muniCode:"MP301"},{provinceName:"Mpumalanga",muniName:"MP302 - Msukaligwa [Ermelo]",muniCode:"MP302"},{provinceName:"Mpumalanga",muniName:"MP303 - Mkhondo [Piet Retief]",muniCode:"MP303"},{provinceName:"Mpumalanga",muniName:"MP304 - Pixley Ka Seme [Volksrust]",muniCode:"MP304"},{provinceName:"Mpumalanga",muniName:"MP305 - Lekwa [Standerton]",muniCode:"MP305"},{provinceName:"Mpumalanga",muniName:"MP306 - Dipaleseng [Balfour]",muniCode:"MP306"},{provinceName:"Mpumalanga",muniName:"MP307 - Govan Mbeki [Highveld Ridge]",muniCode:"MP307"},{provinceName:"Mpumalanga",muniName:"MP311 - Delmas [Delmas]",muniCode:"MP311"},{provinceName:"Mpumalanga",muniName:"MP312 - Emalahleni [Witbank]",muniCode:"MP312"},{provinceName:"Mpumalanga",muniName:"MP313 - Steve Tshwete [Middelburg]",muniCode:"MP313"},{provinceName:"Mpumalanga",muniName:"MP314 - Emakhazeni [Belfast]",muniCode:"MP314"},{provinceName:"Mpumalanga",muniName:"MP315 - Thembisile [KwaMhlanga]",muniCode:"MP315"},{provinceName:"Mpumalanga",muniName:"MP316 - Dr JS Moroka [Mdutjana]",muniCode:"MP316"},{provinceName:"Mpumalanga",muniName:"MP321 - Thaba Chweu [Sabie]",muniCode:"MP321"},{provinceName:"Mpumalanga",muniName:"MP322 - Mbombela [Nelspruit]",muniCode:"MP322"},{provinceName:"Mpumalanga",muniName:"MP323 - Umjindi [Barberton]",muniCode:"MP323"},{provinceName:"Mpumalanga",muniName:"MP324 - Nkomazi [Nkomazi]",muniCode:"MP324"},{provinceName:"Mpumalanga",muniName:"MP325 - Bushbuckridge [Bushbuckridge]",muniCode:"MP325"}]},{name:"Gauteng",abbreviation:"GT",munis:[{provinceName:"Gauteng",muniName:"EKU - Ekurhuleni [East Rand]",muniCode:"EKU"},{provinceName:"Gauteng",muniName:"GT421 - Emfuleni [Vereeniging]",muniCode:"GT421"},{provinceName:"Gauteng",muniName:"GT422 - Midvaal [Meyerton]",muniCode:"GT422"},{provinceName:"Gauteng",muniName:"GT423 - Lesedi [Heidelberg]",muniCode:"GT423"},{provinceName:"Gauteng",muniName:"GT481 - Mogale City [Krugersdorp]",muniCode:"GT481"},{provinceName:"Gauteng",muniName:"GT482 - Randfontein [Randfontein]",muniCode:"GT482"},{provinceName:"Gauteng",muniName:"GT483 - Westonaria [Westonaria]",muniCode:"GT483"},{provinceName:"Gauteng",muniName:"GT484 - Merafong City [Carletonville]",muniCode:"GT484"},{provinceName:"Gauteng",muniName:"JHB - City of Johannesburg [Johannesburg]",muniCode:"JHB"},{provinceName:"Gauteng",muniName:"TSH - Tshwane Metro [Pretoria]",muniCode:"TSH"}]},{name:"KwaZulu-Natal",abbreviation:"KZN",munis:[{provinceName:"KwaZulu-Natal",muniName:"ETH - eThekwini [Durban Metro]",muniCode:"ETH"},{provinceName:"KwaZulu-Natal",muniName:"KZN211 - Vulamehlo [Dududu]",muniCode:"KZN211"},{provinceName:"KwaZulu-Natal",muniName:"KZN212 - Umdoni [Scottburgh]",muniCode:"KZN212"},{provinceName:"KwaZulu-Natal",muniName:"KZN213 - Umzumbe [Umzumbe]",muniCode:"KZN213"},{provinceName:"KwaZulu-Natal",muniName:"KZN214 - UMuziwabantu [Harding]",muniCode:"KZN214"},{provinceName:"KwaZulu-Natal",muniName:"KZN215 - Ezinqoleni [Izinqolweni]",muniCode:"KZN215"},{provinceName:"KwaZulu-Natal",muniName:"KZN216 - Hibiscus Coast [Port Shepstone]",muniCode:"KZN216"},{provinceName:"KwaZulu-Natal",muniName:"KZN221 - uMshwathi [Wartburg]",muniCode:"KZN221"},{provinceName:"KwaZulu-Natal",muniName:"KZN222 - uMngeni [Howick]",muniCode:"KZN222"},{provinceName:"KwaZulu-Natal",muniName:"KZN223 - Mooi Mpofana [Mooirivier]",muniCode:"KZN223"},{provinceName:"KwaZulu-Natal",muniName:"KZN224 - Impendle [Impendle]",muniCode:"KZN224"},{provinceName:"KwaZulu-Natal",muniName:"KZN225 - Msunduzi [Pietermaritzburg]",muniCode:"KZN225"},{provinceName:"KwaZulu-Natal",muniName:"KZN226 - Mkhambathini [Camperdown]",muniCode:"KZN226"},{provinceName:"KwaZulu-Natal",muniName:"KZN227 - Richmond [Richmond]",muniCode:"KZN227"},{provinceName:"KwaZulu-Natal",muniName:"KZN232 - Emnambithi/Ladysmith [Ladysmith]",muniCode:"KZN232"},{provinceName:"KwaZulu-Natal",muniName:"KZN233 - Indaka [Waaihoek]",muniCode:"KZN233"},{provinceName:"KwaZulu-Natal",muniName:"KZN234 - Umtshezi [Estcourt]",muniCode:"KZN234"},{provinceName:"KwaZulu-Natal",muniName:"KZN235 - Okhahlamba [Bergville]",muniCode:"KZN235"},{provinceName:"KwaZulu-Natal",muniName:"KZN236 - Imbabazane [Loskop]",muniCode:"KZN236"},{provinceName:"KwaZulu-Natal",muniName:"KZN241 - Endumeni [Dundee]",muniCode:"KZN241"},{provinceName:"KwaZulu-Natal",muniName:"KZN242 - Nqutu [Nqutu]",muniCode:"KZN242"},{provinceName:"KwaZulu-Natal",muniName:"KZN244 - Msinga [Pomeroy]",muniCode:"KZN244"},{provinceName:"KwaZulu-Natal",muniName:"KZN245 - Umvoti [Greytown]",muniCode:"KZN245"},{provinceName:"KwaZulu-Natal",muniName:"KZN252 - Newcastle [Newcastle]",muniCode:"KZN252"},{provinceName:"KwaZulu-Natal",muniName:"KZN253 - eMadlangeni [Utrecht]",muniCode:"KZN253"},{provinceName:"KwaZulu-Natal",muniName:"KZN254 - Dannhauser [Durnacol]",muniCode:"KZN254"},{provinceName:"KwaZulu-Natal",muniName:"KZN261 - eDumbe [Paulpietersburg]",muniCode:"KZN261"},{provinceName:"KwaZulu-Natal",muniName:"KZN262 - UPhongolo [Pongola]",muniCode:"KZN262"},{provinceName:"KwaZulu-Natal",muniName:"KZN263 - Abaqulusi [Vryheid]",muniCode:"KZN263"},{provinceName:"KwaZulu-Natal",muniName:"KZN265 - Nongoma [Nongoma]",muniCode:"KZN265"},{provinceName:"KwaZulu-Natal",muniName:"KZN266 - Ulundi [Ulundi]",muniCode:"KZN266"},{provinceName:"KwaZulu-Natal",muniName:"KZN271 - Umhlabuyalingana [Emangusi]",muniCode:"KZN271"},{provinceName:"KwaZulu-Natal",muniName:"KZN272 - Jozini [Mkuze]",muniCode:"KZN272"},{provinceName:"KwaZulu-Natal",muniName:"KZN273 - The Big 5 False Bay [Hluhluwe]",muniCode:"KZN273"},{provinceName:"KwaZulu-Natal",muniName:"KZN274 - Hlabisa [Somkele]",muniCode:"KZN274"},{provinceName:"KwaZulu-Natal",muniName:"KZN275 - Mtubatuba [Mtubatuba]",muniCode:"KZN275"},{provinceName:"KwaZulu-Natal",muniName:"KZN281 - Mfolozi [KwaMbonambi]",muniCode:"KZN281"},{provinceName:"KwaZulu-Natal",muniName:"KZN282 - uMhlathuze [Richards Bay]",muniCode:"KZN282"},{provinceName:"KwaZulu-Natal",muniName:"KZN283 - Ntambana [Ntambana]",muniCode:"KZN283"},{provinceName:"KwaZulu-Natal",muniName:"KZN284 - uMlalazi [Eshowe]",muniCode:"KZN284"},{provinceName:"KwaZulu-Natal",muniName:"KZN285 - Mthonjaneni [Melmoth]",muniCode:"KZN285"},{provinceName:"KwaZulu-Natal",muniName:"KZN286 - Nkandla [Nkandla]",muniCode:"KZN286"},{provinceName:"KwaZulu-Natal",muniName:"KZN291 - Mandeni [Mandeni]",muniCode:"KZN291"},{provinceName:"KwaZulu-Natal",muniName:"KZN292 - KwaDukuza [Stanger]",muniCode:"KZN292"},{provinceName:"KwaZulu-Natal",muniName:"KZN293 - Ndwedwe [Ndwedwe]",muniCode:"KZN293"},{provinceName:"KwaZulu-Natal",muniName:"KZN294 - Maphumulo [Maphumulo]",muniCode:"KZN294"},{provinceName:"KwaZulu-Natal",muniName:"KZN431 - Ingwe [Creighton]",muniCode:"KZN431"},{provinceName:"KwaZulu-Natal",muniName:"KZN432 - Kwa Sani [Underberg]",muniCode:"KZN432"},{provinceName:"KwaZulu-Natal",muniName:"KZN433 - Greater Kokstad [Kokstad]",muniCode:"KZN433"},{provinceName:"KwaZulu-Natal",muniName:"KZN434 - Ubuhlebezwe [Ixopo]",muniCode:"KZN434"},{provinceName:"KwaZulu-Natal",muniName:"KZN435 - Umzimkhulu [Umzimkulu]",muniCode:"KZN435"}]},{name:"North West",abbreviation:"NW",munis:[{provinceName:"North West",muniName:"NW371 - Moretele [Makapanstad]",muniCode:"NW371"},{provinceName:"North West",muniName:"NW372 - Madibeng [Brits]",muniCode:"NW372"},{provinceName:"North West",muniName:"NW373 - Rustenburg [Rustenburg]",muniCode:"NW373"},{provinceName:"North West",muniName:"NW374 - Kgetlengrivier [Koster]",muniCode:"NW374"},{provinceName:"North West",muniName:"NW375 - Moses Kotane [Mogwase]",muniCode:"NW375"},{provinceName:"North West",muniName:"NW381 - Ratlou [Setlagole]",muniCode:"NW381"},{provinceName:"North West",muniName:"NW382 - Tswaing [Delareyville]",muniCode:"NW382"},{provinceName:"North West",muniName:"NW383 - Mafikeng [Mafikeng]",muniCode:"NW383"},{provinceName:"North West",muniName:"NW384 - Ditsobotla [Lichtenburg]",muniCode:"NW384"},{provinceName:"North West",muniName:"NW385 - Ramotshere Moiloa [Zeerust]",muniCode:"NW385"},{provinceName:"North West",muniName:"NW392 - Naledi [Vryburg]",muniCode:"NW392"},{provinceName:"North West",muniName:"NW393 - Mamusa [Schweizer-Reneke]",muniCode:"NW393"},{provinceName:"North West",muniName:"NW394 - Greater Taung [Reivilo]",muniCode:"NW394"},{provinceName:"North West",muniName:"NW396 - Lekwa-Teemane [Christiana]",muniCode:"NW396"},{provinceName:"North West",muniName:"NW397 - NW397 Local Municipality [Ganyesa/Pomfret]",muniCode:"NW397"},{provinceName:"North West",muniName:"NW401 - Ventersdorp [Ventersdorp]",muniCode:"NW401"},{provinceName:"North West",muniName:"NW402 - Tlokwe [Potchefstroom]",muniCode:"NW402"},{provinceName:"North West",muniName:"NW403 - Matlosana [Klerksdorp]",muniCode:"NW403"},{provinceName:"North West",muniName:"NW404 - Maquassi Hills [Wolmaransstad]",muniCode:"NW404"}]},{name:"Free State",abbreviation:"FS",munis:[{provinceName:"Free State",muniName:"FS161 - Letsemeng [Koffiefontein]",muniCode:"FS161"},{provinceName:"Free State",muniName:"FS162 - Kopanong [Trompsburg]",muniCode:"FS162"},{provinceName:"Free State",muniName:"FS163 - Mohokare [Zastron]",muniCode:"FS163"},{provinceName:"Free State",muniName:"FS164 - Naledi [Dewetsdorp]",muniCode:"FS164"},{provinceName:"Free State",muniName:"FS181 - Masilonyana [Theunissen]",muniCode:"FS181"},{provinceName:"Free State",muniName:"FS182 - Tokologo [Dealesville]",muniCode:"FS182"},{provinceName:"Free State",muniName:"FS183 - Tswelopele [Hoopstad]",muniCode:"FS183"},{provinceName:"Free State",muniName:"FS184 - Matjhabeng [Welkom]",muniCode:"FS184"},{provinceName:"Free State",muniName:"FS185 - Nala [Bothaville]",muniCode:"FS185"},{provinceName:"Free State",muniName:"FS191 - Setsoto [Senekal]",muniCode:"FS191"},{provinceName:"Free State",muniName:"FS192 - Dihlabeng [Bethlehem]",muniCode:"FS192"},{provinceName:"Free State",muniName:"FS193 - Nketoana [Reitz]",muniCode:"FS193"},{provinceName:"Free State",muniName:"FS194 - Maluti a Phofung [Qwa-Qwa]",muniCode:"FS194"},{provinceName:"Free State",muniName:"FS195 - Phumelela [Vrede]",muniCode:"FS195"},{provinceName:"Free State",muniName:"FS196 - Mantsopa [Ladybrand]",muniCode:"FS196"},{provinceName:"Free State",muniName:"FS201 - Moqhaka [Kroonstad]",muniCode:"FS201"},{provinceName:"Free State",muniName:"FS203 - Ngwathe [Parys]",muniCode:"FS203"},{provinceName:"Free State",muniName:"FS204 - Metsimaholo [Sasolburg]",muniCode:"FS204"},{provinceName:"Free State",muniName:"FS205 - Mafube [Frankfort]",muniCode:"FS205"},{provinceName:"Free State",muniName:"MAN - Mangaung [Bloemfontein]",muniCode:"MAN"}]},{name:"Eastern Cape",abbreviation:"EC",munis:[{provinceName:"Eastern Cape",muniName:"BUF - Buffalo City [East London]",muniCode:"BUF"},{provinceName:"Eastern Cape",muniName:"EC101 - Camdeboo [Graaff-Reinet]",muniCode:"EC101"},{provinceName:"Eastern Cape",muniName:"EC102 - Blue Crane Route [Somerset East]",muniCode:"EC102"},{provinceName:"Eastern Cape",muniName:"EC103 - Ikwezi [Jansenville]",muniCode:"EC103"},{provinceName:"Eastern Cape",muniName:"EC104 - Makana [Grahamstown]",muniCode:"EC104"},{provinceName:"Eastern Cape",muniName:"EC105 - Ndlambe [Port Alfred]",muniCode:"EC105"},{provinceName:"Eastern Cape",muniName:"EC106 - Sundays River Valley [Kirkwood]",muniCode:"EC106"},{provinceName:"Eastern Cape",muniName:"EC107 - Baviaans [Willowmore]",muniCode:"EC107"},{provinceName:"Eastern Cape",muniName:"EC108 - Kouga [Humansdorp]",muniCode:"EC108"},{provinceName:"Eastern Cape",muniName:"EC109 - Kou-Kamma [Kareedouw]",muniCode:"EC109"},{provinceName:"Eastern Cape",muniName:"EC121 - Mbhashe [Idutywa]",muniCode:"EC121"},{provinceName:"Eastern Cape",muniName:"EC122 - Mnquma [Butterworth]",muniCode:"EC122"},{provinceName:"Eastern Cape",muniName:"EC123 - Great Kei [Komga]",muniCode:"EC123"},{provinceName:"Eastern Cape",muniName:"EC124 - Amahlathi [Stutterheim]",muniCode:"EC124"},{provinceName:"Eastern Cape",muniName:"EC126 - Ngqushwa [Peddie]",muniCode:"EC126"},{provinceName:"Eastern Cape",muniName:"EC127 - Nkonkobe [Alice]",muniCode:"EC127"},{provinceName:"Eastern Cape",muniName:"EC128 - Nxuba [Adelaide]",muniCode:"EC128"},{provinceName:"Eastern Cape",muniName:"EC131 - Inxuba Yethemba [Cradock]",muniCode:"EC131"},{provinceName:"Eastern Cape",muniName:"EC132 - Tsolwana [Tarkastad]",muniCode:"EC132"},{provinceName:"Eastern Cape",muniName:"EC133 - Inkwanca [Molteno]",muniCode:"EC133"},{provinceName:"Eastern Cape",muniName:"EC134 - Lukhanji [Queenstown]",muniCode:"EC134"},{provinceName:"Eastern Cape",muniName:"EC135 - Intsika Yethu [Cofimvaba]",muniCode:"EC135"},{provinceName:"Eastern Cape",muniName:"EC136 - Emalahleni [Lady Frere]",muniCode:"EC136"},{provinceName:"Eastern Cape",muniName:"EC137 - Engcobo [Engcobo]",muniCode:"EC137"},{provinceName:"Eastern Cape",muniName:"EC138 - Sakhisizwe [Elliot]",muniCode:"EC138"},{provinceName:"Eastern Cape",muniName:"EC141 - Elundini [Mount Fletcher]",muniCode:"EC141"},{provinceName:"Eastern Cape",muniName:"EC142 - Senqu [Lady Grey]",muniCode:"EC142"},{provinceName:"Eastern Cape",muniName:"EC143 - Maletswai [Aliwal North]",muniCode:"EC143"},{provinceName:"Eastern Cape",muniName:"EC144 - Gariep [Burgersdorp]",muniCode:"EC144"},{provinceName:"Eastern Cape",muniName:"EC153 - Ngquza Hill [Flagstaff]",muniCode:"EC153"},{provinceName:"Eastern Cape",muniName:"EC154 - Port St Johns [Port St Johns]",muniCode:"EC154"},{provinceName:"Eastern Cape",muniName:"EC155 - Nyandeni [Libode]",muniCode:"EC155"},{provinceName:"Eastern Cape",muniName:"EC156 - Mhlontlo [Qumbu]",muniCode:"EC156"},{provinceName:"Eastern Cape",muniName:"EC157 - King Sabata Dalindyebo [Umtata]",muniCode:"EC157"},{provinceName:"Eastern Cape",muniName:"EC441 - Matatiele [Matatiele]",muniCode:"EC441"},{provinceName:"Eastern Cape",muniName:"EC442 - Umzimvubu [Mount Ayliff]",muniCode:"EC442"},{provinceName:"Eastern Cape",muniName:"EC443 - Mbizana [Bizana]",muniCode:"EC443"},{provinceName:"Eastern Cape",muniName:"EC444 - Ntabankulu [Ntabankulu]",muniCode:"EC444"},{provinceName:"Eastern Cape",muniName:"NMA - Nelson Mandela Bay [Port Elizabeth]",muniCode:"NMA"}]},{name:"Northern Cape",abbreviation:"NC",munis:[{provinceName:"Northern Cape",muniName:"NC061 - RICHTERSVELD [Port Nolloth]",muniCode:"NC061"},{provinceName:"Northern Cape",muniName:"NC062 - NAMA KHOI [Springbok]",muniCode:"NC062"},{provinceName:"Northern Cape",muniName:"NC064 - KAMIESBERG [Garies]",muniCode:"NC064"},{provinceName:"Northern Cape",muniName:"NC065 - HANTAM [Calvinia]",muniCode:"NC065"},{provinceName:"Northern Cape",muniName:"NC066 - KAROO HOOGLAND [Fraserburg]",muniCode:"NC066"},{provinceName:"Northern Cape",muniName:"NC067 - KH\xe2I-MA [Pofadder]",muniCode:"NC067"},{provinceName:"Northern Cape",muniName:"NC071 - UBUNTU [Victoria West]",muniCode:"NC071"},{provinceName:"Northern Cape",muniName:"NC072 - UMSOBOMVU [Colesberg]",muniCode:"NC072"},{provinceName:"Northern Cape",muniName:"NC073 - EMTHANJENI [De Aar]",muniCode:"NC073"},{provinceName:"Northern Cape",muniName:"NC074 - KAREEBERG [Carnarvon]",muniCode:"NC074"},{provinceName:"Northern Cape",muniName:"NC075 - RENOSTERBERG [Phillipstown]",muniCode:"NC075"},{provinceName:"Northern Cape",muniName:"NC076 - THEMBELIHLE [Hopetown]",muniCode:"NC076"},{provinceName:"Northern Cape",muniName:"NC077 - SIYATHEMBA [Prieska]",muniCode:"NC077"},{provinceName:"Northern Cape",muniName:"NC078 - SIYANCUMA [Griekwastad]",muniCode:"NC078"},{provinceName:"Northern Cape",muniName:"NC081 - MIER [Mier]",muniCode:"NC081"},{provinceName:"Northern Cape",muniName:"NC082 - KAI !GARIB [Keimoes]",muniCode:"NC082"},{provinceName:"Northern Cape",muniName:"NC083 - KHARA HAIS [Upington]",muniCode:"NC083"},{provinceName:"Northern Cape",muniName:"NC084 - !KHEIS [Groblershoop]",muniCode:"NC084"},{provinceName:"Northern Cape",muniName:"NC085 - TSANTSABANE [Postmasburg]",muniCode:"NC085"},{provinceName:"Northern Cape",muniName:"NC086 - KGATELOPELE [Danielskuil]",muniCode:"NC086"},{provinceName:"Northern Cape",muniName:"NC091 - Sol Plaatje [Kimberley]",muniCode:"NC091"},{provinceName:"Northern Cape",muniName:"NC092 - Dikgatlong [Barkley West]",muniCode:"NC092"},{provinceName:"Northern Cape",muniName:"NC093 - Magareng [Warrenton]",muniCode:"NC093"},{provinceName:"Northern Cape",muniName:"NC094 - Phokwane [Hartswater]",muniCode:"NC094"},{provinceName:"Northern Cape",muniName:"NC451 - Joe Morolong [Kgalagadi]",muniCode:"NC451"},{provinceName:"Northern Cape",muniName:"NC452 - GA-SEGONYANA [Kuruman]",muniCode:"NC452"},{provinceName:"Northern Cape",muniName:"NC453 - GAMAGARA [Kathu]",muniCode:"NC453"}]},{name:"Western Cape",abbreviation:"WC",munis:[{provinceName:"Western Cape",muniName:"CPT - City of Cape Town [Cape Town]",muniCode:"CPT"},{provinceName:"Western Cape",muniName:"WC011 - Matzikama [Vredendal]",muniCode:"WC011"},{provinceName:"Western Cape",muniName:"WC012 - Cederberg [Citrusdal]",muniCode:"WC012"},{provinceName:"Western Cape",muniName:"WC013 - Bergrivier [Velddrif]",muniCode:"WC013"},{provinceName:"Western Cape",muniName:"WC014 - Saldanha Bay [West Coast Peninsula]",muniCode:"WC014"},{provinceName:"Western Cape",muniName:"WC015 - Swartland [Malmesbury]",muniCode:"WC015"},{provinceName:"Western Cape",muniName:"WC022 - Witzenberg [Ceres]",muniCode:"WC022"},{provinceName:"Western Cape",muniName:"WC023 - Drakenstein [Paarl]",muniCode:"WC023"},{provinceName:"Western Cape",muniName:"WC024 - Stellenbosch [Stellenbosch]",muniCode:"WC024"},{provinceName:"Western Cape",muniName:"WC025 - Breede Valley [Worcester]",muniCode:"WC025"},{provinceName:"Western Cape",muniName:"WC026 - Langeberg [Robertson]",muniCode:"WC026"},{provinceName:"Western Cape",muniName:"WC031 - Theewaterskloof [Caledon]",muniCode:"WC031"},{provinceName:"Western Cape",muniName:"WC032 - Overstrand [Greater Hermanus]",muniCode:"WC032"},{provinceName:"Western Cape",muniName:"WC033 - Cape Agulhas [Bredasdorp]",muniCode:"WC033"},{provinceName:"Western Cape",muniName:"WC034 - Swellendam [Barrydale/Swellendam ]",muniCode:"WC034"},{provinceName:"Western Cape",muniName:"WC041 - Kannaland [Ladismith]",muniCode:"WC041"},{provinceName:"Western Cape",muniName:"WC042 - Hessequa [Heidelberg/Riversdale]",muniCode:"WC042"},{provinceName:"Western Cape",muniName:"WC043 - Mossel Bay [Mossel Bay]",muniCode:"WC043"},{provinceName:"Western Cape",muniName:"WC044 - George [George]",muniCode:"WC044"},{provinceName:"Western Cape",muniName:"WC045 - Oudtshoorn [Oudtshoorn]",muniCode:"WC045"},{provinceName:"Western Cape",muniName:"WC047 - Bitou [Greater Plettenberg Bay]",muniCode:"WC047"},{provinceName:"Western Cape",muniName:"WC048 - Knysna [Knysna]",muniCode:"WC048"},{provinceName:"Western Cape",muniName:"WC051 - Laingsburg [Laingsburg]",muniCode:"WC051"},{provinceName:"Western Cape",muniName:"WC052 - Prince Albert [Prins Albert]",muniCode:"WC052"},{provinceName:"Western Cape",muniName:"WC053 - Beaufort West [Beaufort West]",muniCode:"WC053"}]}];return e.sort(function(e,t){return(""+e.name).localeCompare(t.name)}),e}function be(){return[{provinceName:"Eastern Cape",muniName:"BUF - Buffalo City [East London]",muniCode:"BUF"},{provinceName:"Western Cape",muniName:"CPT - City of Cape Town [Cape Town]",muniCode:"CPT"},{provinceName:"Gauteng",muniName:"JHB - City of Johannesburg [Johannesburg]",muniCode:"JHB"},{provinceName:"Gauteng",muniName:"TSH - Tshwane Metro [Pretoria]",muniCode:"TSH"},{provinceName:"Gauteng",muniName:"EKU - Ekurhuleni [East Rand]",muniCode:"EKU"},{provinceName:"KwaZulu-Natal",muniName:"ETH - eThekwini [Durban Metro]",muniCode:"ETH"},{provinceName:"Free State",muniName:"MAN - Mangaung [Bloemfontein]",muniCode:"MAN"},{provinceName:"Eastern Cape",muniName:"NMA - Nelson Mandela Bay [Port Elizabeth]",muniCode:"NMA"}]}n.d(t,"a",function(){return ve}),n.d(t,"d",function(){return ye}),n.d(t,"f",function(){return he}),n.d(t,"c",function(){return be}),n.d(t,"g",function(){return v}),n.d(t,"h",function(){return f}),n.d(t,"p",function(){return D}),n.d(t,"o",function(){return L}),n.d(t,"m",function(){return G}),n.d(t,"n",function(){return R}),n.d(t,"b",function(){return V}),n.d(t,"j",function(){return J}),n.d(t,"l",function(){return Q}),n.d(t,"k",function(){return $}),n.d(t,"i",function(){return oe}),n.d(t,"e",function(){return me})},"./src/components/BarChart/barchart.css":function(e,t,n){e.exports={"ELVIZ_percentage-label":"barchart_ELVIZ_percentage-label__11KBU",ELVIZ_tooltip:"barchart_ELVIZ_tooltip__1VYEb",ELVIZ_grouprect:"barchart_ELVIZ_grouprect__cJukT",ELVIZ_barchart:"barchart_ELVIZ_barchart__2b9Oe","ELVIZ_stylesheet-tv":"barchart_ELVIZ_stylesheet-tv__1lclY","ELVIZ_chart-title":"barchart_ELVIZ_chart-title__1mhdP","ELVIZ_chart-body":"barchart_ELVIZ_chart-body__1VZnA",ELVIZ_groupbarchart:"barchart_ELVIZ_groupbarchart__3gmZo",ELVIZ_deltabarchart:"barchart_ELVIZ_deltabarchart__ag53R"}},"./src/components/BarChart/barchartEmbed.css":function(e,t,n){e.exports={embedcode:"barchartEmbed_embedcode__PswXQ"}},"./src/components/BarchartWithNavMap/barchartMap.css":function(e,t,n){e.exports={ELVIZ_tooltip:"barchartMap_ELVIZ_tooltip__1F46X","barchart-map":"barchartMap_barchart-map__2u5lR","ELVIZ_stylesheet-tv":"barchartMap_ELVIZ_stylesheet-tv__1-UbB"}},"./src/components/BarchartWithNavMap/barchartMapEmbed.css":function(e,t,n){e.exports={embedcode:"barchartMapEmbed_embedcode__2_Wo2"}},"./src/components/Map/map.css":function(e,t,n){e.exports={"ELVIZ_map-title":"map_ELVIZ_map-title__KNJ39","ELVIZ_loading-spinner":"map_ELVIZ_loading-spinner__2GzFO",ELVIZ_tooltip:"map_ELVIZ_tooltip__3YG38","map-widget":"map_map-widget__1YpIc","ELVIZ_stylesheet-tv":"map_ELVIZ_stylesheet-tv__2wWa7",legend:"map_legend__1asN6","ELVIZ_stylesheet-web":"map_ELVIZ_stylesheet-web__306Nb","ELVIZ_stylesheet-none":"map_ELVIZ_stylesheet-none__2s44d","map-controls":"map_map-controls__Oq8G1"}},"./src/components/Map/mapEmbed.css":function(e,t,n){e.exports={embedcode:"mapEmbed_embedcode__2g8_I"}},"./src/components/NavBar/navbar.css":function(e,t,n){e.exports={"ELVIZ_menu-widget":"navbar_ELVIZ_menu-widget__2UYFB"}},"./src/components/ProgVotesCountPiechart/piechart.css":function(e,t,n){e.exports={"ELVIZ_chart-title":"piechart_ELVIZ_chart-title__2oxiY",piechart:"piechart_piechart__2tkNw","ELVIZ_stylesheet-tv":"piechart_ELVIZ_stylesheet-tv__1Sy81"}},"./src/components/ProgVotesCountPiechart/piechartEmbed.css":function(e,t,n){e.exports={embedcode:"piechartEmbed_embedcode__1_IsI"}},"./src/components/QuickResultsWidget/quickResultsWidget.css":function(e,t,n){e.exports={ELVIZ_tooltip:"quickResultsWidget_ELVIZ_tooltip__Bsr0u","ELVIZ_component-transition-menu":"quickResultsWidget_ELVIZ_component-transition-menu__3N2HT",label:"quickResultsWidget_label__3pk0G",active:"quickResultsWidget_active__3aFN4",quickresultswidget:"quickResultsWidget_quickresultswidget__1x9Ta","ELVIZ_stylesheet-tv":"quickResultsWidget_ELVIZ_stylesheet-tv__1Nxtj","quick-results-title":"quickResultsWidget_quick-results-title__3pCUn","race-for-seats":"quickResultsWidget_race-for-seats__3EH6s",ELVIZ_row:"quickResultsWidget_ELVIZ_row__2DmsC","ELVIZ_col-md-2":"quickResultsWidget_ELVIZ_col-md-2__3ze8n","ELVIZ_col-md-4":"quickResultsWidget_ELVIZ_col-md-4__3-2wP","ELVIZ_col-md-8":"quickResultsWidget_ELVIZ_col-md-8__3xjQ7","ELVIZ_current-progress":"quickResultsWidget_ELVIZ_current-progress__1LisK","ELVIZ_current-turnout":"quickResultsWidget_ELVIZ_current-turnout__1GWzr","ELVIZ_current-counting-progress":"quickResultsWidget_ELVIZ_current-counting-progress__1FcXo","ELVIZ_current-spoilt-votes":"quickResultsWidget_ELVIZ_current-spoilt-votes__2Z2aT","ELVIZ_leadingmap-title-container":"quickResultsWidget_ELVIZ_leadingmap-title-container__E0HcX","ELVIZ_leading-parties":"quickResultsWidget_ELVIZ_leading-parties__2ngL5","ELVIZ_helper-text":"quickResultsWidget_ELVIZ_helper-text__1s8c2"}},"./src/components/QuickResultsWidget/quickResultsWidgetEmbed.css":function(e,t,n){e.exports={embedcode:"quickResultsWidgetEmbed_embedcode__1Rhdr"}},"./src/components/RaceForSeatBarchart/barchartEmbed.css":function(e,t,n){e.exports={embedcode:"barchartEmbed_embedcode__2fRjA"}},"./src/components/RaceForSeatDonut/piechart.css":function(e,t,n){e.exports={"ELVIZ_chart-title":"piechart_ELVIZ_chart-title__3Buem",ELVIZ_tooltip:"piechart_ELVIZ_tooltip__yC8kA",donutchart:"piechart_donutchart__ZTyvg","ELVIZ_stylesheet-tv":"piechart_ELVIZ_stylesheet-tv__1Lomg"}},"./src/components/RaceForSeatDonut/piechartEmbed.css":function(e,t,n){e.exports={embedcode:"piechartEmbed_embedcode__2Lc6O"}},"./src/components/SeatCompBarchart/barchartEmbed.css":function(e,t,n){e.exports={embedcode:"barchartEmbed_embedcode__3-Yfc","multievent-container":"barchartEmbed_multievent-container__3pAXZ"}},"./src/components/SeatHorseShoeChart/horseshoe.css":function(e,t,n){e.exports={"ELVIZ_chart-title":"horseshoe_ELVIZ_chart-title__2LEig",ELVIZ_tooltip:"horseshoe_ELVIZ_tooltip__1oNUW",horseshoechart:"horseshoe_horseshoechart__1EvOs","ELVIZ_stylesheet-tv":"horseshoe_ELVIZ_stylesheet-tv__4J58K"}},"./src/components/SeatHorseShoeChart/horseshoeEmbed.css":function(e,t,n){e.exports={embedcode:"horseshoeEmbed_embedcode__3Da6m"}},"./src/components/SplitNatProv/barchartEmbed.css":function(e,t,n){e.exports={embedcode:"barchartEmbed_embedcode__jSgq1","multievent-container":"barchartEmbed_multievent-container__K8YGQ","multiparties-container":"barchartEmbed_multiparties-container__1K3Ei"}},"./src/components/SpoiltBarchart/barchartEmbed.css":function(e,t,n){e.exports={embedcode:"barchartEmbed_embedcode__2P1A1"}},"./src/components/TVSeatCompBarchart/barchartEmbed.css":function(e,t,n){e.exports={embedcode:"barchartEmbed_embedcode__-0R0Q","multievent-container":"barchartEmbed_multievent-container__cY35Q"}},"./src/components/TVSeatSwingBarchart/barchartEmbed.css":function(e,t,n){e.exports={embedcode:"barchartEmbed_embedcode__-1k1S","multievent-container":"barchartEmbed_multievent-container__YZQwz"}},"./src/components/TVVoteCompBarchart/barchartEmbed.css":function(e,t,n){e.exports={embedcode:"barchartEmbed_embedcode__2ig81","multievent-container":"barchartEmbed_multievent-container__2fDyw","multiparties-container":"barchartEmbed_multiparties-container__CqxMC"}},"./src/components/TVVoteSwingBarchart/barchartEmbed.css":function(e,t,n){e.exports={embedcode:"barchartEmbed_embedcode__1Z7jS","multievent-container":"barchartEmbed_multievent-container__3WXCe","multiparties-container":"barchartEmbed_multiparties-container__bBj1f"}},"./src/components/TurnoutBarchart/barchartEmbed.css":function(e,t,n){e.exports={embedcode:"barchartEmbed_embedcode__26LtM"}},"./src/components/TurnoutMap/mapEmbed.css":function(e,t,n){e.exports={embedcode:"mapEmbed_embedcode__g7FGq"}},"./src/components/VoteCompBarchart/barchartEmbed.css":function(e,t,n){e.exports={embedcode:"barchartEmbed_embedcode__2b7PV","multievent-container":"barchartEmbed_multievent-container__2pcWk"}},"./src/components/VotePredictionLineChart/voteprediction.css":function(e,t,n){e.exports={"ELVIZ_chart-title":"voteprediction_ELVIZ_chart-title__3Igd5",ELVIZ_tooltip:"voteprediction_ELVIZ_tooltip__6F4Bm","ELVIZ_vote-prediction-title":"voteprediction_ELVIZ_vote-prediction-title__22uW8","ELVIZ_projected-turnout":"voteprediction_ELVIZ_projected-turnout__4jxv3","ELVIZ_prediction-time":"voteprediction_ELVIZ_prediction-time__1OI8T","ELVIZ_CSIR-bottom-label":"voteprediction_ELVIZ_CSIR-bottom-label__2bvs8",votepredictionlinechart:"voteprediction_votepredictionlinechart__2xkJf","line-container":"voteprediction_line-container__wVs44","graph-points":"voteprediction_graph-points__2LPGi",axes:"voteprediction_axes__3LSHC","axis-text":"voteprediction_axis-text__9PTvd","graph-labels":"voteprediction_graph-labels__1IU05",line:"voteprediction_line__1JDOR","ELVIZ_stylesheet-tv":"voteprediction_ELVIZ_stylesheet-tv__327Z7"}},"./src/components/embed.js":function(e,t,n){"use strict";var a=n("./node_modules/react/index.js"),r=n.n(a),o=n("./src/utils/index.js");function i(e){return(i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e){return(c="function"===typeof Symbol&&"symbol"===i(Symbol.iterator)?function(e){return i(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":i(e)})(e)}function l(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function u(e,t){return!t||"object"!==c(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=u(this,s(t).call(this,e)),Object(o.A)(),n}var n,i,c;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,a["Component"]),n=t,(i=[{key:"render",value:function(){return r.a.createElement("div",null)}}])&&l(n.prototype,i),c&&l(n,c),t}();p.__docgenInfo={description:"",methods:[],displayName:"EmbedBase"};var d=n("./src/config/index.js"),f=n("./node_modules/bootstrap/dist/css/bootstrap.min.css"),v=n.n(f),y=n("./src/components/BarChart/barchartEmbed.css"),h=n.n(y),b=n("./src/events/index.js"),N=n("./src/api/index.js");function E(e){return(E="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e){return(g="function"===typeof Symbol&&"symbol"===E(Symbol.iterator)?function(e){return E(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":E(e)})(e)}function C(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function P(e,t){return!t||"object"!==g(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var w=Object(N.f)();function O(e){return v.a[e]||h.a[e]||e}var _=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=P(this,S(t).call(this,e))).state={elementId:"root",eventDescription:"2014 National Election",regionType:"province",provinceName:"Western Cape",muniName:"",muniCode:"",iecId:"",numParties:5,electionEvents:[],stylesheetFor:"web",componentID:1},n}var n,a,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(t,p),n=t,(a=[{key:"componentDidMount",value:function(){var e=this;Object(N.a)().then(function(t){var n=t.data.allEvents;e.setState({electionEvents:n})}).catch(function(e){return console.error(e)})}},{key:"componentDidUpdate",value:function(){}},{key:"onEventDescriptionChange",value:function(e){-1==e.target.value.toLowerCase().indexOf("national")&&"national"==this.state.regionType?this.setState({eventDescription:e.target.value,regionType:"province",provinceName:"Western Cape"}):this.setState({eventDescription:e.target.value})}},{key:"onRegionTypeChange",value:function(e){var t={regionType:e.target.value};this.setState(t)}},{key:"onPreview",value:function(e){Object(o.U)(b.a.CHART_PREVIEW,this.state)}},{key:"onExportAsPNG",value:function(e){Object(o.U)(b.a.EXPORT_PNG,this.state)}},{key:"render",value:function(){var e=this,t=d.a.DOMAIN,n=this.state,a=n.elementId,i=n.stylesheetFor,c=n.eventDescription,l=n.regionType,u=n.provinceName,s=n.muniName,m=n.muniCode,p=n.iecId,f=n.numParties,v=n.electionEvents,y=w.filter(function(e){return e.name==u})[0];return r.a.createElement("div",null,r.a.createElement("h3",null," Race For Votes Bar Chart Embed Script Generation "),r.a.createElement("div",{className:O("form-group")},r.a.createElement("label",null,"Element ID "),r.a.createElement("input",{type:"text",className:O("form-control"),placeholder:"chart-container",onChange:function(t){return e.setState({elementId:t.target.value})}})),r.a.createElement("div",{className:O("form-group")},r.a.createElement("label",null,"Stylesheet"),r.a.createElement("select",{className:O("form-control"),value:i,onChange:function(t){return e.setState({stylesheetFor:t.target.value})}},r.a.createElement("option",{value:"tv"},"TV"),r.a.createElement("option",{value:"web"},"Web"),r.a.createElement("option",{value:"none"},"None"))),r.a.createElement("div",{className:O("form-group")},r.a.createElement("label",null,"Event "),r.a.createElement("select",{className:O("form-control"),value:c,onChange:this.onEventDescriptionChange.bind(this)},v.map(function(e){return r.a.createElement("option",{key:e.description,value:e.description},e.description)}))),r.a.createElement("div",{className:O("form-group")},r.a.createElement("label",null,"Region Type "),r.a.createElement("select",{className:O("form-control"),value:l,onChange:this.onRegionTypeChange.bind(this)},Object(o.B)(this.state)&&r.a.createElement("option",{value:"national"},"national"),r.a.createElement("option",{value:"province"},"province"),r.a.createElement("option",{value:"municipality"},"municipality"),r.a.createElement("option",{value:"municipality-vd"},"voting district"))),"national"!=l&&r.a.createElement("div",{className:O("form-group")},r.a.createElement("label",null,"Province Name"),r.a.createElement("select",{className:O("form-control"),value:u,onChange:function(t){return e.setState({provinceName:t.target.value})}},r.a.createElement("option",{value:""},"Select ..."),w&&w.map(function(e){return r.a.createElement("option",{key:e.name,value:e.name},e.name)}))),"municipality"==l&&r.a.createElement("div",{className:O("form-group")},r.a.createElement("label",null,"Municipality Name"),r.a.createElement("select",{className:O("form-control"),value:s,onChange:function(t){return e.setState({muniName:t.target.value})}},r.a.createElement("option",{value:""},"Select ..."),y&&y.munis.map(function(e){return r.a.createElement("option",{key:e.muniName,value:e.muniName},e.muniName)}))),"municipality-vd"==l&&r.a.createElement("div",{className:O("form-group")},r.a.createElement("label",null,"Municipality Code"),r.a.createElement("input",{type:"text",className:O("form-control"),placeholder:"CPT",value:m,onChange:function(t){return e.setState({muniCode:t.target.value})}})),"municipality-vd"==l&&r.a.createElement("div",{className:O("form-group")},r.a.createElement("label",null,"Voting District Number"),r.a.createElement("input",{type:"text",className:O("form-control"),placeholder:"97860055",value:p,onChange:function(t){return e.setState({iecId:t.target.value})}})),r.a.createElement("div",{className:O("form-group")},r.a.createElement("label",null,"Number Of Parties"),r.a.createElement("input",{type:"number",className:O("form-control"),placeholder:"5",value:f,onChange:function(t){return e.setState({numParties:t.target.value})}})),r.a.createElement("div",{className:O("form-group")},r.a.createElement("button",{type:"button",onClick:this.onPreview.bind(this),className:O("btn")+" "+O("btn-primary")},"Preview")),r.a.createElement("div",{className:O("form-group")},r.a.createElement("button",{type:"button",onClick:this.onExportAsPNG.bind(this),className:O("btn")+" "+O("btn-primary")},"Export As PNG")),r.a.createElement("div",{className:O("form-group")},r.a.createElement("label",null,"Embed Code"),r.a.createElement("div",{className:O("embedcode")},r.a.createElement("span",null,'\n                    <div id="'.concat(a,'"></div>\n                    <script src="').concat(t,'/embed/embed.js"><\/script>\n                    <script>showBarChart(\n                        document.getElementById("').concat(a,'"),\n                        {\n                            stylesheetFor: "').concat(i,'",\n                            eventDescription: "').concat(c,'",\n                            regionType: "').concat(l,'",\n                            provinceName: "').concat(u,'",\n                            muniName: "').concat(s,'",\n                            muniCode: "').concat(m,'",\n                            iecId: "').concat(p,'",\n                            numParties: "').concat(f,'"\n                        });<\/script>').replace(/(\r\n|\n|\r)/gm,"")))))}}])&&C(n.prototype,a),i&&C(n,i),t}(),k=_;_.__docgenInfo={description:"",methods:[{name:"onEventDescriptionChange",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onRegionTypeChange",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onPreview",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onExportAsPNG",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"BarChartEmbed"};var x=n("./src/components/RaceForSeatBarchart/barchartEmbed.css"),T=n.n(x);function A(e){return(A="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e){return(j="function"===typeof Symbol&&"symbol"===A(Symbol.iterator)?function(e){return A(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":A(e)})(e)}function D(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function R(e,t){return!t||"object"!==j(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var V=Object(N.f)();function M(e){return v.a[e]||T.a[e]||e}var W=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=R(this,G(t).call(this,e))).state={elementId:"root",eventDescription:"2014 National Election",regionType:"national",provinceName:"",muniName:"",muniCode:"",iecId:"",numParties:5,electionEvents:[],stylesheetFor:"web",componentID:6},n}var n,a,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(t,p),n=t,(a=[{key:"componentDidMount",value:function(){var e=this;Object(N.a)().then(function(t){var n=t.data.allEvents;e.setState({electionEvents:n})}).catch(function(e){return console.error(e)})}},{key:"componentDidUpdate",value:function(){}},{key:"onEventDescriptionChange",value:function(e){-1==e.target.value.toLowerCase().indexOf("national")&&"national"==this.state.regionType?this.setState({eventDescription:e.target.value,regionType:"province",provinceName:"Western Cape"}):this.setState({eventDescription:e.target.value})}},{key:"onRegionTypeChange",value:function(e){var t={regionType:e.target.value};this.setState(t)}},{key:"onPreview",value:function(e){Object(o.U)(b.a.CHART_PREVIEW,this.state)}},{key:"onExportAsPNG",value:function(e){Object(o.U)(b.a.EXPORT_PNG,this.state)}},{key:"render",value:function(){var e=this,t=d.a.DOMAIN,n=this.state,a=n.elementId,i=n.stylesheetFor,c=n.eventDescription,l=n.regionType,u=n.provinceName,s=n.muniName,m=n.muniCode,p=n.iecId,f=n.numParties,v=n.electionEvents,y=V.filter(function(e){return e.name==u})[0];return r.a.createElement("div",null,r.a.createElement("h3",null," Race For Seat Bar Chart Embed Script Generation "),r.a.createElement("div",{className:M("form-group")},r.a.createElement("label",null,"Element ID "),r.a.createElement("input",{type:"text",className:M("form-control"),placeholder:"chart-container",onChange:function(t){return e.setState({elementId:t.target.value})}})),r.a.createElement("div",{className:M("form-group")},r.a.createElement("label",null,"Stylesheet"),r.a.createElement("select",{className:M("form-control"),value:i,onChange:function(t){return e.setState({stylesheetFor:t.target.value})}},r.a.createElement("option",{value:"tv"},"TV"),r.a.createElement("option",{value:"web"},"Web"),r.a.createElement("option",{value:"none"},"None"))),r.a.createElement("div",{className:M("form-group")},r.a.createElement("label",null,"Event "),r.a.createElement("select",{className:M("form-control"),value:c,onChange:this.onEventDescriptionChange.bind(this)},v.map(function(e){return r.a.createElement("option",{key:e.description,value:e.description},e.description)}))),r.a.createElement("div",{className:M("form-group")},r.a.createElement("label",null,"Region Type "),r.a.createElement("select",{className:M("form-control"),value:l,onChange:this.onRegionTypeChange.bind(this)},Object(o.B)(this.state)&&r.a.createElement("option",{value:"national"},"national"),r.a.createElement("option",{value:"province"},"province"))),"national"!=l&&r.a.createElement("div",{className:M("form-group")},r.a.createElement("label",null,"Province Name"),r.a.createElement("select",{className:M("form-control"),value:u,onChange:function(t){return e.setState({provinceName:t.target.value})}},r.a.createElement("option",{value:""},"Select ..."),V&&V.map(function(e){return r.a.createElement("option",{key:e.name,value:e.name},e.name)}))),"municipality"==l&&r.a.createElement("div",{className:M("form-group")},r.a.createElement("label",null,"Municipality Name"),r.a.createElement("select",{className:M("form-control"),value:s,onChange:function(t){return e.setState({muniName:t.target.value})}},r.a.createElement("option",{value:""},"Select ..."),y&&y.munis.map(function(e){return r.a.createElement("option",{key:e.muniName,value:e.muniName},e.muniName)}))),"municipality-vd"==l&&r.a.createElement("div",{className:M("form-group")},r.a.createElement("label",null,"Municipality Code"),r.a.createElement("input",{type:"text",className:M("form-control"),placeholder:"CPT",value:m,onChange:function(t){return e.setState({muniCode:t.target.value})},disabled:"national"==l})),"municipality-vd"==l&&r.a.createElement("div",{className:M("form-group")},r.a.createElement("label",null,"Voting District Number"),r.a.createElement("input",{type:"text",className:M("form-control"),placeholder:"97860055",value:p,onChange:function(t){return e.setState({iecId:t.target.value})},disabled:"national"==l})),r.a.createElement("div",{className:M("form-group")},r.a.createElement("label",null,"Number Of Parties"),r.a.createElement("input",{type:"number",className:M("form-control"),placeholder:"5",value:f,onChange:function(t){return e.setState({numParties:t.target.value})}})),r.a.createElement("div",{className:M("form-group")},r.a.createElement("button",{type:"button",onClick:this.onPreview.bind(this),className:M("btn")+" "+M("btn-primary")},"Preview")),r.a.createElement("div",{className:M("form-group")},r.a.createElement("button",{type:"button",onClick:this.onExportAsPNG.bind(this),className:M("btn")+" "+M("btn-primary")},"Export As PNG")),r.a.createElement("div",{className:M("form-group")},r.a.createElement("label",null,"Embed Code"),r.a.createElement("div",{className:M("embedcode")},r.a.createElement("span",null,'\n                    <div id="'.concat(a,'"></div>\n                    <script src="').concat(t,'/embed/embed.js"><\/script>\n                    <script>showRaceForSeatsBarChart(\n                        document.getElementById("').concat(a,'"),\n                        {\n                            stylesheetFor: "').concat(i,'",\n                            eventDescription: "').concat(c,'",\n                            regionType: "').concat(l,'",\n                            provinceName: "').concat(u,'",\n                            muniName: "').concat(s,'",\n                            muniCode: "').concat(m,'",\n                            iecId: "').concat(p,'",\n                            numParties: "').concat(f,'"\n                        });<\/script>').replace(/(\r\n|\n|\r)/gm,"")))))}}])&&D(n.prototype,a),i&&D(n,i),t}(),F=W;W.__docgenInfo={description:"",methods:[{name:"onEventDescriptionChange",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onRegionTypeChange",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onPreview",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onExportAsPNG",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"BarChartEmbed"};var B=n("./src/components/SpoiltBarchart/barchartEmbed.css"),U=n.n(B);function Z(e){return(Z="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function K(e){return(K="function"===typeof Symbol&&"symbol"===Z(Symbol.iterator)?function(e){return Z(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Z(e)})(e)}function H(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function z(e,t){return!t||"object"!==K(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function X(e,t){return(X=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Y=Object(N.f)();function J(e){return v.a[e]||U.a[e]||e}var Q=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=z(this,q(t).call(this,e))).state={elementId:"root",eventDescription:"2014 National Election",regionType:"national",provinceName:"",muniName:"",muniCode:"",iecId:"",electionEvents:[],stylesheetFor:"web",componentID:9},n}var n,a,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&X(e,t)}(t,p),n=t,(a=[{key:"componentDidMount",value:function(){var e=this;Object(N.a)().then(function(t){var n=t.data.allEvents;e.setState({electionEvents:n})}).catch(function(e){return console.error(e)})}},{key:"componentDidUpdate",value:function(){}},{key:"onEventDescriptionChange",value:function(e){-1==e.target.value.toLowerCase().indexOf("national")&&"national"==this.state.regionType?this.setState({eventDescription:e.target.value,regionType:"province",provinceName:"Western Cape"}):this.setState({eventDescription:e.target.value})}},{key:"onRegionTypeChange",value:function(e){var t={regionType:e.target.value};this.setState(t)}},{key:"onPreview",value:function(e){Object(o.U)(b.a.CHART_PREVIEW,this.state)}},{key:"onExportAsPNG",value:function(e){Object(o.U)(b.a.EXPORT_PNG,this.state)}},{key:"render",value:function(){var e=this,t=d.a.DOMAIN,n=this.state,a=n.elementId,i=n.stylesheetFor,c=n.eventDescription,l=n.regionType,u=n.provinceName,s=n.muniName,m=n.muniCode,p=n.iecId,f=n.electionEvents,v=Y.filter(function(e){return e.name==u})[0];return r.a.createElement("div",null,r.a.createElement("h3",null," Race For Seat Bar Chart Embed Script Generation "),r.a.createElement("div",{className:J("form-group")},r.a.createElement("label",null,"Element ID "),r.a.createElement("input",{type:"text",className:J("form-control"),placeholder:"chart-container",onChange:function(t){return e.setState({elementId:t.target.value})}})),r.a.createElement("div",{className:J("form-group")},r.a.createElement("label",null,"Stylesheet"),r.a.createElement("select",{className:J("form-control"),value:i,onChange:function(t){return e.setState({stylesheetFor:t.target.value})}},r.a.createElement("option",{value:"tv"},"TV"),r.a.createElement("option",{value:"web"},"Web"),r.a.createElement("option",{value:"none"},"None"))),r.a.createElement("div",{className:J("form-group")},r.a.createElement("label",null,"Event "),r.a.createElement("select",{className:J("form-control"),value:c,onChange:this.onEventDescriptionChange.bind(this)},f.map(function(e){return r.a.createElement("option",{key:e.description,value:e.description},e.description)}))),r.a.createElement("div",{className:J("form-group")},r.a.createElement("label",null,"Region Type "),r.a.createElement("select",{className:J("form-control"),value:l,onChange:this.onRegionTypeChange.bind(this)},Object(o.B)(this.state)&&r.a.createElement("option",{value:"national"},"national"),r.a.createElement("option",{value:"province"},"province"),r.a.createElement("option",{value:"municipality"},"municipality"),r.a.createElement("option",{value:"municipality-vd"},"voting district"))),"national"!=l&&r.a.createElement("div",{className:J("form-group")},r.a.createElement("label",null,"Province Name"),r.a.createElement("select",{className:J("form-control"),value:u,onChange:function(t){return e.setState({provinceName:t.target.value})}},r.a.createElement("option",{value:""},"Select ..."),Y&&Y.map(function(e){return r.a.createElement("option",{key:e.name,value:e.name},e.name)}))),"municipality"==l&&r.a.createElement("div",{className:J("form-group")},r.a.createElement("label",null,"Municipality Name"),r.a.createElement("select",{className:J("form-control"),value:s,onChange:function(t){return e.setState({muniName:t.target.value})}},r.a.createElement("option",{value:""},"Select ..."),v&&v.munis.map(function(e){return r.a.createElement("option",{key:e.muniName,value:e.muniName},e.muniName)}))),"municipality-vd"==l&&r.a.createElement("div",{className:J("form-group")},r.a.createElement("label",null,"Municipality Code"),r.a.createElement("input",{type:"text",className:J("form-control"),placeholder:"CPT",value:m,onChange:function(t){return e.setState({muniCode:t.target.value})},disabled:"national"==l})),"municipality-vd"==l&&r.a.createElement("div",{className:J("form-group")},r.a.createElement("label",null,"Voting District Number"),r.a.createElement("input",{type:"text",className:J("form-control"),placeholder:"97860055",value:p,onChange:function(t){return e.setState({iecId:t.target.value})},disabled:"national"==l})),r.a.createElement("div",{className:J("form-group")},r.a.createElement("button",{type:"button",onClick:this.onPreview.bind(this),className:J("btn")+" "+J("btn-primary")},"Preview")),r.a.createElement("div",{className:J("form-group")},r.a.createElement("button",{type:"button",onClick:this.onExportAsPNG.bind(this),className:J("btn")+" "+J("btn-primary")},"Export As PNG")),r.a.createElement("div",{className:J("form-group")},r.a.createElement("label",null,"Embed Code"),r.a.createElement("div",{className:J("embedcode")},r.a.createElement("span",null,'\n                    <div id="'.concat(a,'"></div>\n                    <script src="').concat(t,'/embed/embed.js"><\/script>\n                    <script>showSpoiltBarChart(\n                        document.getElementById("').concat(a,'"),\n                        {\n                            stylesheetFor: "').concat(i,'",\n                            eventDescription: "').concat(c,'",\n                            regionType: "').concat(l,'",\n                            provinceName: "').concat(u,'",\n                            muniName: "').concat(s,'",\n                            muniCode: "').concat(m,'",\n                            iecId: "').concat(p,'"\n                        });<\/script>').replace(/(\r\n|\n|\r)/gm,"")))))}}])&&H(n.prototype,a),i&&H(n,i),t}(),$=Q;Q.__docgenInfo={description:"",methods:[{name:"onEventDescriptionChange",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onRegionTypeChange",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onPreview",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onExportAsPNG",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"BarChartEmbed"};var ee=n("./src/components/Map/mapEmbed.css"),te=n.n(ee);function ne(e){return(ne="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ae(e){return(ae="function"===typeof Symbol&&"symbol"===ne(Symbol.iterator)?function(e){return ne(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":ne(e)})(e)}function re(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function oe(e,t){return!t||"object"!==ae(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ie(e){return(ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ce(e,t){return(ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var le=Object(N.f)();function ue(e){return v.a[e]||te.a[e]||e}var se=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=oe(this,ie(t).call(this,e))).state={elementId:"root",disableNavigation:!1,eventDescription:"2014 National Election",regionType:"province",provinceName:"Western Cape",muniName:"",electionEvents:[],stylesheetFor:"web",componentID:3},n}var n,a,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ce(e,t)}(t,p),n=t,(a=[{key:"componentDidMount",value:function(){Object(o.z)();var e=this;Object(N.a)().then(function(t){var n=t.data.allEvents;e.setState({electionEvents:n})}).catch(function(e){return console.error(e)})}},{key:"componentDidUpdate",value:function(){}},{key:"onEventDescriptionChange",value:function(e){-1==e.target.value.toLowerCase().indexOf("national")&&"national"==this.state.regionType?this.setState({eventDescription:e.target.value,regionType:"province",provinceName:"Western Cape"}):this.setState({eventDescription:e.target.value})}},{key:"onRegionTypeChange",value:function(e){var t={regionType:e.target.value};this.setState(t)}},{key:"onPreview",value:function(e){Object(o.U)(b.a.MAP_PREVIEW,this.state)}},{key:"onExportAsPNG",value:function(e){Object(o.U)(b.a.EXPORT_PNG,this.state)}},{key:"render",value:function(){var e=this,t=d.a.DOMAIN,n=this.state,a=n.elementId,o=n.stylesheetFor,i=n.eventDescription,c=n.disableNavigation,l=n.regionType,u=n.provinceName,s=n.muniName,m=n.electionEvents,p=le.filter(function(e){return e.name==u})[0];return r.a.createElement("div",null,r.a.createElement("h3",null," Map Embed Script Generation "),r.a.createElement("div",{className:ue("form-group")},r.a.createElement("label",null,"Element ID "),r.a.createElement("input",{type:"text",className:ue("form-control"),placeholder:"chart-container",onChange:function(t){return e.setState({elementId:t.target.value})}})),r.a.createElement("div",{className:ue("form-group")},r.a.createElement("label",null,"Stylesheet"),r.a.createElement("select",{className:ue("form-control"),value:o,onChange:function(t){return e.setState({stylesheetFor:t.target.value})}},r.a.createElement("option",{value:"tv"},"TV"),r.a.createElement("option",{value:"web"},"Web"),r.a.createElement("option",{value:"none"},"None"))),r.a.createElement("div",{className:ue("form-group")},r.a.createElement("label",null,"Event "),r.a.createElement("select",{className:ue("form-control"),value:i,onChange:this.onEventDescriptionChange.bind(this)},m.map(function(e){return r.a.createElement("option",{key:e.description,value:e.description},e.description)}))),r.a.createElement("div",{className:ue("form-group")},r.a.createElement("label",null,"Region Type "),r.a.createElement("select",{className:ue("form-control"),value:l,onChange:this.onRegionTypeChange.bind(this)},r.a.createElement("option",{value:"national"},"national"),r.a.createElement("option",{value:"province"},"province"),r.a.createElement("option",{value:"municipality"},"municipality"))),"national"!=l&&r.a.createElement("div",{className:ue("form-group")},r.a.createElement("label",null,"Province Name"),r.a.createElement("select",{className:ue("form-control"),value:u,onChange:function(t){return e.setState({provinceName:t.target.value})}},r.a.createElement("option",{value:""},"Select ..."),le&&le.map(function(e){return r.a.createElement("option",{key:e.name,value:e.name},e.name)}))),"municipality"==l&&r.a.createElement("div",{className:ue("form-group")},r.a.createElement("label",null,"Municipality Name"),r.a.createElement("select",{className:ue("form-control"),value:s,onChange:function(t){return e.setState({muniName:t.target.value})}},r.a.createElement("option",{value:""},"Select ..."),p&&p.munis.map(function(e){return r.a.createElement("option",{key:e.muniName,value:e.muniName},e.muniName)}))),r.a.createElement("div",{className:ue("form-check")},r.a.createElement("label",{className:ue("form-check-label")},r.a.createElement("input",{type:"checkbox",className:ue("form-check-input"),value:c,onChange:function(t){return e.setState({disableNavigation:t.target.checked})}}),"\xa0\xa0Disable Navigation")),r.a.createElement("div",{className:ue("form-group")},r.a.createElement("button",{type:"button",onClick:this.onPreview.bind(this),className:ue("btn")+" "+ue("btn-primary")},"Preview")),r.a.createElement("div",{className:ue("form-group")},r.a.createElement("button",{type:"button",onClick:this.onExportAsPNG.bind(this),className:ue("btn")+" "+ue("btn-primary")},"Export As PNG")),r.a.createElement("div",{className:ue("form-group")},r.a.createElement("label",null,"Embed Code"),r.a.createElement("div",{className:ue("embedcode")},r.a.createElement("span",null,'\n                    <div id="'.concat(a,'"></div>\n                    <script src="').concat(t,'/embed/embed.js"><\/script>\n                    <script>\n                        showMap(document.getElementById("').concat(a,'"),{\n                            stylesheetFor: "').concat(o,'",\n                            disableNavigation: ').concat(c,',\n                            regionType: "').concat(l,'",\n                            provinceName: "').concat(u,'",\n                            muniName: "').concat(s,'",\n                        });<\/script>').replace(/(\r\n|\n|\r)/gm,"")))))}}])&&re(n.prototype,a),i&&re(n,i),t}(),me=se;se.__docgenInfo={description:"",methods:[{name:"onEventDescriptionChange",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onRegionTypeChange",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onPreview",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onExportAsPNG",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"MapEmbed"};var pe=n("./src/components/TurnoutMap/mapEmbed.css"),de=n.n(pe);function fe(e){return(fe="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ve(e){return(ve="function"===typeof Symbol&&"symbol"===fe(Symbol.iterator)?function(e){return fe(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":fe(e)})(e)}function ye(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function he(e,t){return!t||"object"!==ve(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function be(e){return(be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ne(e,t){return(Ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ee=Object(N.f)();function ge(e){return v.a[e]||de.a[e]||e}var Ce=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=he(this,be(t).call(this,e))).state={elementId:"root",disableNavigation:!1,eventDescription:"2014 National Election",regionType:"province",provinceName:"Western Cape",muniName:"",electionEvents:[],stylesheetFor:"web",componentID:11},n}var n,a,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ne(e,t)}(t,p),n=t,(a=[{key:"componentDidMount",value:function(){Object(o.z)();var e=this;Object(N.a)().then(function(t){var n=t.data.allEvents;e.setState({electionEvents:n})}).catch(function(e){return console.error(e)})}},{key:"componentDidUpdate",value:function(){}},{key:"onEventDescriptionChange",value:function(e){-1==e.target.value.toLowerCase().indexOf("national")&&"national"==this.state.regionType?this.setState({eventDescription:e.target.value,regionType:"province",provinceName:"Western Cape"}):this.setState({eventDescription:e.target.value})}},{key:"onRegionTypeChange",value:function(e){var t={regionType:e.target.value};this.setState(t)}},{key:"onPreview",value:function(e){Object(o.U)(b.a.MAP_PREVIEW,this.state)}},{key:"onExportAsPNG",value:function(e){Object(o.U)(b.a.EXPORT_PNG,this.state)}},{key:"render",value:function(){var e=this,t=d.a.DOMAIN,n=this.state,a=n.elementId,i=n.stylesheetFor,c=n.disableNavigation,l=n.eventDescription,u=n.regionType,s=n.provinceName,m=n.muniName,p=n.electionEvents,f=Ee.filter(function(e){return e.name==s})[0];return r.a.createElement("div",null,r.a.createElement("h3",null," Map Embed Script Generation "),r.a.createElement("div",{className:ge("form-group")},r.a.createElement("label",null,"Element ID "),r.a.createElement("input",{type:"text",className:ge("form-control"),placeholder:"chart-container",onChange:function(t){return e.setState({elementId:t.target.value})}})),r.a.createElement("div",{className:ge("form-group")},r.a.createElement("label",null,"Stylesheet"),r.a.createElement("select",{className:ge("form-control"),value:i,onChange:function(t){return e.setState({stylesheetFor:t.target.value})}},r.a.createElement("option",{value:"tv"},"TV"),r.a.createElement("option",{value:"web"},"Web"),r.a.createElement("option",{value:"none"},"None"))),r.a.createElement("div",{className:ge("form-group")},r.a.createElement("label",null,"Event "),r.a.createElement("select",{className:ge("form-control"),value:l,onChange:this.onEventDescriptionChange.bind(this)},p.map(function(e){return r.a.createElement("option",{key:e.description,value:e.description},e.description)}))),r.a.createElement("div",{className:ge("form-group")},r.a.createElement("label",null,"Region Type "),r.a.createElement("select",{className:ge("form-control"),value:u,onChange:this.onRegionTypeChange.bind(this)},Object(o.B)(this.state)&&r.a.createElement("option",{value:"national"},"national"),r.a.createElement("option",{value:"province"},"province"),r.a.createElement("option",{value:"municipality"},"municipality"))),"national"!=u&&r.a.createElement("div",{className:ge("form-group")},r.a.createElement("label",null,"Province Name"),r.a.createElement("select",{className:ge("form-control"),value:s,onChange:function(t){return e.setState({provinceName:t.target.value})}},r.a.createElement("option",{value:""},"Select ..."),Ee&&Ee.map(function(e){return r.a.createElement("option",{key:e.name,value:e.name},e.name)}))),"municipality"==u&&r.a.createElement("div",{className:ge("form-group")},r.a.createElement("label",null,"Municipality Name"),r.a.createElement("select",{className:ge("form-control"),value:m,onChange:function(t){return e.setState({muniName:t.target.value})}},r.a.createElement("option",{value:""},"Select ..."),f&&f.munis.map(function(e){return r.a.createElement("option",{key:e.muniName,value:e.muniName},e.muniName)}))),r.a.createElement("div",{className:ge("form-check")},r.a.createElement("label",{className:ge("form-check-label")},r.a.createElement("input",{type:"checkbox",className:ge("form-check-input"),value:c,onChange:function(t){return e.setState({disableNavigation:t.target.checked})}}),"\xa0\xa0Disable Navigation")),r.a.createElement("div",{className:ge("form-group")},r.a.createElement("button",{type:"button",onClick:this.onPreview.bind(this),className:ge("btn")+" "+ge("btn-primary")},"Preview")),r.a.createElement("div",{className:ge("form-group")},r.a.createElement("button",{type:"button",onClick:this.onExportAsPNG.bind(this),className:ge("btn")+" "+ge("btn-primary")},"Export As PNG")),r.a.createElement("div",{className:ge("form-group")},r.a.createElement("label",null,"Embed Code"),r.a.createElement("div",{className:ge("embedcode")},r.a.createElement("span",null,'\n                    <div id="'.concat(a,'"></div>\n                    <script src="').concat(t,'/embed/embed.js"><\/script>\n                    <script>\n                        showTurnoutMap(document.getElementById("').concat(a,'"),{\n                            stylesheetFor: "').concat(i,'",\n                            disableNavigation: ').concat(c,',\n                            regionType: "').concat(u,'",\n                            provinceName: "').concat(s,'",\n                            muniName: "').concat(m,'",\n                        });<\/script>').replace(/(\r\n|\n|\r)/gm,"")))))}}])&&ye(n.prototype,a),i&&ye(n,i),t}(),Pe=Ce;Ce.__docgenInfo={description:"",methods:[{name:"onEventDescriptionChange",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onRegionTypeChange",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onPreview",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onExportAsPNG",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"MapEmbed"};var Se=n("./src/components/TurnoutBarchart/barchartEmbed.css"),Ie=n.n(Se);function we(e){return(we="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oe(e){return(Oe="function"===typeof Symbol&&"symbol"===we(Symbol.iterator)?function(e){return we(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":we(e)})(e)}function _e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ke(e,t){return!t||"object"!==Oe(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function xe(e){return(xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Te(e,t){return(Te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ae=Object(N.f)();function je(e){return v.a[e]||Ie.a[e]||e}var De=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=ke(this,xe(t).call(this,e))).state={elementId:"root",eventType:"national",regionType:"national",provinceName:"",muniName:"",muniCode:"",iecId:"",electionEvents:[],stylesheetFor:"web",componentID:10},n}var n,a,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Te(e,t)}(t,p),n=t,(a=[{key:"componentDidMount",value:function(){var e=this;Object(N.a)().then(function(t){var n=t.data.allEvents;e.setState({electionEvents:n})}).catch(function(e){return console.error(e)})}},{key:"componentDidUpdate",value:function(){}},{key:"onRegionTypeChange",value:function(e){var t={regionType:e.target.value};this.setState(t)}},{key:"onPreview",value:function(e){Object(o.U)(b.a.CHART_PREVIEW,this.state)}},{key:"onExportAsPNG",value:function(e){Object(o.U)(b.a.EXPORT_PNG,this.state)}},{key:"render",value:function(){var e=this,t=d.a.DOMAIN,n=this.state,a=n.elementId,o=n.stylesheetFor,i=n.eventType,c=n.regionType,l=n.provinceName,u=n.muniName,s=n.muniCode,m=n.iecId,p=(n.electionEvents,Ae.filter(function(e){return e.name==l})[0]);return r.a.createElement("div",null,r.a.createElement("h3",null," Race For Seat Bar Chart Embed Script Generation "),r.a.createElement("div",{className:je("form-group")},r.a.createElement("label",null,"Element ID "),r.a.createElement("input",{type:"text",className:je("form-control"),placeholder:"chart-container",onChange:function(t){return e.setState({elementId:t.target.value})}})),r.a.createElement("div",{className:je("form-group")},r.a.createElement("label",null,"Stylesheet"),r.a.createElement("select",{className:je("form-control"),value:o,onChange:function(t){return e.setState({stylesheetFor:t.target.value})}},r.a.createElement("option",{value:"tv"},"TV"),r.a.createElement("option",{value:"web"},"Web"),r.a.createElement("option",{value:"none"},"None"))),r.a.createElement("div",{className:je("form-group")},r.a.createElement("label",null,"Event Type"),r.a.createElement("select",{className:je("form-control"),value:i,onChange:function(t){return e.setState({eventType:t.target.value})}},r.a.createElement("option",{value:"national"},"National"),r.a.createElement("option",{value:"provincial"},"Provincial"))),r.a.createElement("div",{className:je("form-group")},r.a.createElement("label",null,"Region Type "),r.a.createElement("select",{className:je("form-control"),value:c,onChange:this.onRegionTypeChange.bind(this)},r.a.createElement("option",{value:""},"Select ..."),"national"==i&&r.a.createElement("option",{value:"national"},"national"),r.a.createElement("option",{value:"province"},"province"),r.a.createElement("option",{value:"municipality"},"municipality"),r.a.createElement("option",{value:"municipality-vd"},"voting district"))),"national"!=c&&r.a.createElement("div",{className:je("form-group")},r.a.createElement("label",null,"Province Name"),r.a.createElement("select",{className:je("form-control"),value:l,onChange:function(t){return e.setState({provinceName:t.target.value})}},r.a.createElement("option",{value:""},"Select ..."),Ae&&Ae.map(function(e){return r.a.createElement("option",{key:e.name,value:e.name},e.name)}))),"municipality"==c&&r.a.createElement("div",{className:je("form-group")},r.a.createElement("label",null,"Municipality Name"),r.a.createElement("select",{className:je("form-control"),value:u,onChange:function(t){return e.setState({muniName:t.target.value})}},r.a.createElement("option",{value:""},"Select ..."),p&&p.munis.map(function(e){return r.a.createElement("option",{key:e.muniName,value:e.muniName},e.muniName)}))),"municipality-vd"==c&&r.a.createElement("div",{className:je("form-group")},r.a.createElement("label",null,"Municipality Code"),r.a.createElement("input",{type:"text",className:je("form-control"),placeholder:"CPT",value:s,onChange:function(t){return e.setState({muniCode:t.target.value})},disabled:"national"==c})),"municipality-vd"==c&&r.a.createElement("div",{className:je("form-group")},r.a.createElement("label",null,"Voting District Number"),r.a.createElement("input",{type:"text",className:je("form-control"),placeholder:"97860055",value:m,onChange:function(t){return e.setState({iecId:t.target.value})},disabled:"national"==c})),r.a.createElement("div",{className:je("form-group")},r.a.createElement("button",{type:"button",onClick:this.onPreview.bind(this),className:je("btn")+" "+je("btn-primary")},"Preview")),r.a.createElement("div",{className:je("form-group")},r.a.createElement("button",{type:"button",onClick:this.onExportAsPNG.bind(this),className:je("btn")+" "+je("btn-primary")},"Export As PNG")),r.a.createElement("div",{className:je("form-group")},r.a.createElement("label",null,"Embed Code"),r.a.createElement("div",{className:je("embedcode")},r.a.createElement("span",null,'\n                    <div id="'.concat(a,'"></div>\n                    <script src="').concat(t,'/embed/embed.js"><\/script>\n                    <script>showTurnoutBarChart(\n                        document.getElementById("').concat(a,'"),\n                        {\n                            stylesheetFor: "').concat(o,'",\n                            eventType: "').concat(i,'",\n                            regionType: "').concat(c,'",\n                            provinceName: "').concat(l,'",\n                            muniName: "').concat(u,'",\n                            muniCode: "').concat(s,'",\n                            iecId: "').concat(m,'"\n                        });<\/script>').replace(/(\r\n|\n|\r)/gm,"")))))}}])&&_e(n.prototype,a),i&&_e(n,i),t}(),Re=De;De.__docgenInfo={description:"",methods:[{name:"onRegionTypeChange",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onPreview",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onExportAsPNG",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"BarChartEmbed"};var Ge=n("./src/components/BarchartWithNavMap/barchartMapEmbed.css"),Le=n.n(Ge);function Ve(e){return(Ve="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Me(e){return(Me="function"===typeof Symbol&&"symbol"===Ve(Symbol.iterator)?function(e){return Ve(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Ve(e)})(e)}function We(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Fe(e){return(Fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Be(e,t){return(Be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ue(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Ze=Object(N.f)();function Ke(e){return v.a[e]||Le.a[e]||e}var He=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=function(e,t){return!t||"object"!==Me(t)&&"function"!==typeof t?Ue(e):t}(this,Fe(t).call(this,e));var a=Ue(Ue(n));return n.state={elementId:"root",eventDescription:"2014 National Election",regionType:"national",provinceName:"",muniName:"",muniCode:"",iecId:"",numParties:5,electionEvents:[],stylesheetFor:"web",componentID:2},Object(N.a)().then(function(e){var t=e.data.allEvents;a.setState({electionEvents:t})}).catch(function(e){return console.error(e)}),n}var n,a,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Be(e,t)}(t,p),n=t,(a=[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"onEventDescriptionChange",value:function(e){-1==e.target.value.toLowerCase().indexOf("national")&&"national"==this.state.regionType?this.setState({eventDescription:e.target.value,regionType:"province",provinceName:"Western Cape"}):this.setState({eventDescription:e.target.value})}},{key:"onRegionTypeChange",value:function(e){var t={regionType:e.target.value};this.setState(t)}},{key:"onPreview",value:function(e){var t=JSON.parse(JSON.stringify(this.state));t.componentID=-1e3,Object(o.U)(b.a.CHART_PREVIEW,t),Object(o.U)(b.a.MAP_PREVIEW,t)}},{key:"onExportAsPNG",value:function(e){Object(o.U)(b.a.EXPORT_SUPERWIDGET_PNG,this.state)}},{key:"render",value:function(){var e=this,t=d.a.DOMAIN,n=this.state,a=n.elementId,i=n.stylesheetFor,c=n.eventDescription,l=n.regionType,u=n.provinceName,s=n.muniName,m=n.muniCode,p=n.iecId,f=n.numParties,v=n.electionEvents,y=Ze.filter(function(e){return e.name==u})[0];return r.a.createElement("div",null,r.a.createElement("h3",null," Map + Barchart Embed Script Generation "),r.a.createElement("div",{className:Ke("form-group")},r.a.createElement("label",null,"Element ID "),r.a.createElement("input",{type:"text",className:Ke("form-control"),placeholder:"chart-container",onChange:function(t){return e.setState({elementId:t.target.value})}})),r.a.createElement("div",{className:Ke("form-group")},r.a.createElement("label",null,"Stylesheet"),r.a.createElement("select",{className:Ke("form-control"),value:i,onChange:function(t){return e.setState({stylesheetFor:t.target.value})}},r.a.createElement("option",{value:"tv"},"TV"),r.a.createElement("option",{value:"web"},"Web"),r.a.createElement("option",{value:"none"},"None"))),r.a.createElement("div",null,"Way to customize size and position of Bar Chart and Map.",r.a.createElement("br",null),"For bar chart, you can use .barchart-container",r.a.createElement("div",{className:Ke("embedcode")},".barchart-container {\n                        width: 1000px;\n                        height: 300px;\n                        margin-left: 100px;\n                    }"),"For Map, you can use .map-container",r.a.createElement("div",{className:Ke("embedcode")},".map-container {\n                        width: 1000px;\n                        height: 300px;\n                        margin-left: 100px;\n                    }")),r.a.createElement("div",{className:Ke("form-group")},r.a.createElement("label",null,"Event "),r.a.createElement("select",{className:Ke("form-control"),value:c,onChange:this.onEventDescriptionChange.bind(this)},v.map(function(e){return r.a.createElement("option",{key:e.description,value:e.description},e.description)}))),r.a.createElement("div",{className:Ke("form-group")},r.a.createElement("label",null,"Region Type "),r.a.createElement("select",{className:Ke("form-control"),value:l,onChange:this.onRegionTypeChange.bind(this)},Object(o.B)(this.state)&&r.a.createElement("option",{value:"national"},"national"),r.a.createElement("option",{value:"province"},"province"),r.a.createElement("option",{value:"municipality"},"municipality"))),"national"!=l&&r.a.createElement("div",{className:Ke("form-group")},r.a.createElement("label",null,"Province Name"),r.a.createElement("select",{className:Ke("form-control"),value:u,onChange:function(t){return e.setState({provinceName:t.target.value})}},r.a.createElement("option",{value:""},"Select ..."),Ze&&Ze.map(function(e){return r.a.createElement("option",{key:e.name,value:e.name},e.name)}))),"municipality"==l&&r.a.createElement("div",{className:Ke("form-group")},r.a.createElement("label",null,"Municipality Name"),r.a.createElement("select",{className:Ke("form-control"),value:s,onChange:function(t){return e.setState({muniName:t.target.value})}},r.a.createElement("option",{value:""},"Select ..."),y&&y.munis.map(function(e){return r.a.createElement("option",{key:e.muniName,value:e.muniName},e.muniName)}))),r.a.createElement("div",{className:Ke("form-group")},r.a.createElement("label",null,"Number Of Parties"),r.a.createElement("input",{type:"number",className:Ke("form-control"),placeholder:"5",value:f,onChange:function(t){return e.setState({numParties:t.target.value})}})),r.a.createElement("div",{className:Ke("form-group")},r.a.createElement("button",{type:"button",onClick:this.onPreview.bind(this),className:Ke("btn")+" "+Ke("btn-primary")},"Preview")),r.a.createElement("div",{className:Ke("form-group")},r.a.createElement("button",{type:"button",onClick:this.onExportAsPNG.bind(this),className:Ke("btn")+" "+Ke("btn-primary")},"Export As PNG")),r.a.createElement("div",{className:Ke("form-group")},r.a.createElement("label",null,"Embed Code"),r.a.createElement("div",{className:Ke("embedcode")},r.a.createElement("span",null,'\n                    <div id="'.concat(a,'"></div>\n                    <script src="').concat(t,'/embed/embed.js"><\/script>\n                    <script>showBarchartWithNavMap(\n                        document.getElementById("').concat(a,'"),\n                        {\n                            stylesheetFor: "').concat(i,'",\n                            eventDescription: "').concat(c,'",\n                            regionType: "').concat(l,'",\n                            provinceName: "').concat(u,'",\n                            muniName: "').concat(s,'",\n                            muniCode: "').concat(m,'",\n                            iecId: "').concat(p,'",\n                            numParties: "').concat(f,'"\n                        });<\/script>').replace(/(\r\n|\n|\r)/gm,"")))))}}])&&We(n.prototype,a),i&&We(n,i),t}(),ze=He;He.__docgenInfo={description:"",methods:[{name:"onEventDescriptionChange",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onRegionTypeChange",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onPreview",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onExportAsPNG",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"BarChartWithNavMapEmbed"};var qe=n("./src/components/QuickResultsWidget/quickResultsWidgetEmbed.css"),Xe=n.n(qe);function Ye(e){return(Ye="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Je(e){return(Je="function"===typeof Symbol&&"symbol"===Ye(Symbol.iterator)?function(e){return Ye(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Ye(e)})(e)}function Qe(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function $e(e,t){return!t||"object"!==Je(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function et(e){return(et=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tt(e,t){return(tt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var nt=Object(N.f)();function at(e){return v.a[e]||Xe.a[e]||e}var rt=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=$e(this,et(t).call(this,e))).state={elementId:"root",eventDescription:"2014 National Election",regionType:"national",provinceName:"",muniName:"",muniCode:"",iecId:"",stylesheetFor:"none",numParties:5,electionYear:2014,nationalEventDescription:"2014 National Election",provincialEventDescription:"2014 Provincial Election",eventDescriptionsSplitNatProv:["22 Apr 2009 National Election","22 Apr 2009 Provincial Election","2014 National Election","2014 Provincial Election"],electionYearsSplitNatProv:[2009,2014],electionEvents:[],electionYears:[],componentID:5},n}var n,a,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tt(e,t)}(t,p),n=t,(a=[{key:"componentDidMount",value:function(){var e=this;Object(N.a)().then(function(t){var n=t.data.allEvents,a=[];n.forEach(function(e){var t=e.description,n=/(19|20)\d{2}/g.exec(t)[0];e.year=n,-1==a.indexOf(n)&&a.push(n)}),e.setState({electionEvents:n,electionYears:a})}).catch(function(e){return console.error(e)})}},{key:"componentDidUpdate",value:function(){}},{key:"onNatEventDescriptionChange",value:function(e){this.setState({nationalEventDescription:e.target.value,eventDescription:e.target.value})}},{key:"onProvEventDescriptionChange",value:function(e){this.setState({provincialEventDescription:e.target.value})}},{key:"onEventYearSplitNatProvChange",value:function(e){for(var t=this.state.electionEvents,n=e.target.options,a=[],r=0,o=n.length;r<o;r++)n[r].selected&&a.push(n[r].value);var i=t.filter(function(e){return-1!=a.indexOf(e.year)});this.setState({electionYearsSplitNatProv:a,eventDescriptionsSplitNatProv:i.map(function(e){return e.description})})}},{key:"onEventYearChange",value:function(e){var t,n,a=e.target.value,r=this.state.electionEvents.filter(function(e){return e.year==a}),o=r.filter(function(e){return"National Election"==e.eventType.description}),i=r.filter(function(e){return"National Election"!=e.eventType.description});t=o.length?o[0].description:r[0].description,n=i.length?i[0].description:r[0].description,this.setState({electionYear:a,nationalEventDescription:t,provincialEventDescription:n,eventDescription:t})}},{key:"onRegionTypeChange",value:function(e){var t={regionType:e.target.value};this.setState(t)}},{key:"onPreview",value:function(e){Object(o.U)(b.a.QUICK_RESULTS_PREVIEW,this.state)}},{key:"onExportAsPNG",value:function(e){Object(o.U)(b.a.EXPORT_SUPERWIDGET_PNG,this.state)}},{key:"render",value:function(){var e=this,t=d.a.DOMAIN,n=this.state,a=n.elementId,i=n.stylesheetFor,c=n.eventDescription,l=n.nationalEventDescription,u=n.provincialEventDescription,s=n.regionType,m=n.provinceName,p=n.muniName,f=n.muniCode,v=n.iecId,y=n.numParties,h=n.electionEvents,b=n.electionYears,N=n.electionYear,E=n.electionYearsSplitNatProv,g=nt.filter(function(e){return e.name==m})[0];return r.a.createElement("div",null,r.a.createElement("h3",null," Quick Results Embed Script Generation "),r.a.createElement("div",{className:at("form-group")},r.a.createElement("label",null,"Element ID "),r.a.createElement("input",{type:"text",className:at("form-control"),placeholder:"chart-container",onChange:function(t){return e.setState({elementId:t.target.value})}})),r.a.createElement("div",{className:at("form-group")},r.a.createElement("label",null,"Stylesheet"),r.a.createElement("select",{className:at("form-control"),value:i,onChange:function(t){return e.setState({stylesheetFor:t.target.value})}},r.a.createElement("option",{value:"tv"},"TV"),r.a.createElement("option",{value:"web"},"Web"),r.a.createElement("option",{value:"none"},"None"))),r.a.createElement("div",{className:at("form-group")},r.a.createElement("label",null,"Election Year "),r.a.createElement("select",{className:at("form-control"),value:N,onChange:this.onEventYearChange.bind(this)},b.map(function(e){return r.a.createElement("option",{key:e,value:e},e)}))),r.a.createElement("div",{className:at("form-group")},r.a.createElement("label",null,"National Event "),r.a.createElement("select",{className:at("form-control"),value:l,onChange:this.onNatEventDescriptionChange.bind(this)},h.filter(function(e){return e.year==N}).map(function(e){return r.a.createElement("option",{key:e.description,value:e.description},e.description)}))),r.a.createElement("div",{className:at("form-group")},r.a.createElement("label",null,"Provincial Event "),r.a.createElement("select",{className:at("form-control"),value:u,onChange:this.onProvEventDescriptionChange.bind(this)},h.filter(function(e){return e.year==N}).map(function(e){return r.a.createElement("option",{key:e.description,value:e.description},e.description)}))),r.a.createElement("div",{className:at("form-group")},r.a.createElement("label",null,"Region Type "),r.a.createElement("select",{className:at("form-control"),value:s,onChange:this.onRegionTypeChange.bind(this)},Object(o.B)(this.state)&&r.a.createElement("option",{value:"national"},"national"),r.a.createElement("option",{value:"province"},"province"),r.a.createElement("option",{value:"municipality"},"municipality"))),"national"!=s&&r.a.createElement("div",{className:at("form-group")},r.a.createElement("label",null,"Province Name"),r.a.createElement("select",{className:at("form-control"),value:m,onChange:function(t){return e.setState({provinceName:t.target.value})}},r.a.createElement("option",{value:""},"Select ..."),nt&&nt.map(function(e){return r.a.createElement("option",{key:e.name,value:e.name},e.name)}))),"municipality"==s&&r.a.createElement("div",{className:at("form-group")},r.a.createElement("label",null,"Municipality Name"),r.a.createElement("select",{className:at("form-control"),value:p,onChange:function(t){return e.setState({muniName:t.target.value})}},r.a.createElement("option",{value:""},"Select ..."),g&&g.munis.map(function(e){return r.a.createElement("option",{key:e.muniName,value:e.muniName},e.muniName)}))),r.a.createElement("div",{className:at("form-group")},r.a.createElement("label",null,"Number Of Parties for Bar Chart"),r.a.createElement("input",{type:"number",className:at("form-control"),placeholder:"5",value:y,onChange:function(t){return e.setState({numParties:t.target.value})}})),r.a.createElement("div",{className:at("form-group")},r.a.createElement("label",null,"Election Year For Split (Nat/Prov)"),r.a.createElement("select",{multiple:!0,className:at("form-control"),value:E,onChange:this.onEventYearSplitNatProvChange.bind(this)},b.map(function(e){return r.a.createElement("option",{key:e,value:e},e)}))),r.a.createElement("div",{className:at("form-group")},r.a.createElement("button",{type:"button",onClick:this.onPreview.bind(this),className:at("btn")+" "+at("btn-primary")},"Preview")),r.a.createElement("div",{className:at("form-group")},r.a.createElement("button",{type:"button",onClick:this.onExportAsPNG.bind(this),className:at("btn")+" "+at("btn-primary")},"Export As PNG")),r.a.createElement("div",{className:at("form-group")},r.a.createElement("label",null,"Embed Code"),r.a.createElement("div",{className:at("embedcode")},r.a.createElement("span",null,'\n                    <div id="'.concat(a,'"></div>\n                    <script src="').concat(t,'/embed/embed.js"><\/script>\n                    <script>showQuickResultsWidget(\n                        document.getElementById("').concat(a,'"),\n                        {\n                            stylesheetFor: "').concat(i,'",\n                            eventDescription: "').concat(c,'",\n                            regionType: "').concat(s,'",\n                            provinceName: "').concat(m,'",\n                            muniName: "').concat(p,'",\n                            muniCode: "').concat(f,'",\n                            iecId: "').concat(v,'",\n                            numParties: "').concat(y,'"\n                        });<\/script>').replace(/(\r\n|\n|\r)/gm,"")))))}}])&&Qe(n.prototype,a),i&&Qe(n,i),t}(),ot=rt;rt.__docgenInfo={description:"",methods:[{name:"onNatEventDescriptionChange",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onProvEventDescriptionChange",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onEventYearSplitNatProvChange",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onEventYearChange",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onRegionTypeChange",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onPreview",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onExportAsPNG",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"QuickResultsWidgetEmbed"};var it=n("./src/components/ProgVotesCountPiechart/piechartEmbed.css"),ct=n.n(it);function lt(e){return(lt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ut(e){return(ut="function"===typeof Symbol&&"symbol"===lt(Symbol.iterator)?function(e){return lt(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":lt(e)})(e)}function st(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function mt(e,t){return!t||"object"!==ut(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function pt(e){return(pt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dt(e,t){return(dt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ft=Object(N.f)();function vt(e){return v.a[e]||ct.a[e]||e}var yt=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=mt(this,pt(t).call(this,e))).state={elementId:"root",eventDescription:"2014 National Election",regionType:"national",provinceName:"",muniName:"",muniCode:"",iecId:"",electionEvents:[],stylesheetFor:"web",componentID:4},n}var n,a,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dt(e,t)}(t,p),n=t,(a=[{key:"componentDidMount",value:function(){var e=this;Object(N.a)().then(function(t){var n=t.data.allEvents;e.setState({electionEvents:n})}).catch(function(e){return console.error(e)})}},{key:"componentDidUpdate",value:function(){}},{key:"onEventDescriptionChange",value:function(e){-1==e.target.value.toLowerCase().indexOf("national")&&"national"==this.state.regionType?this.setState({eventDescription:e.target.value,regionType:"province",provinceName:"Western Cape"}):this.setState({eventDescription:e.target.value})}},{key:"onRegionTypeChange",value:function(e){var t={regionType:e.target.value};this.setState(t)}},{key:"onPreview",value:function(e){Object(o.U)(b.a.CHART_PREVIEW,this.state)}},{key:"onExportAsPNG",value:function(e){Object(o.U)(b.a.EXPORT_PNG,this.state)}},{key:"render",value:function(){var e=this,t=d.a.DOMAIN,n=this.state,a=n.elementId,i=n.stylesheetFor,c=n.eventDescription,l=n.regionType,u=n.provinceName,s=n.muniName,m=n.muniCode,p=n.iecId,f=n.electionEvents,v=ft.filter(function(e){return e.name==u})[0];return r.a.createElement("div",null,r.a.createElement("h3",null," Progress on Votes Count Embed Script Generation "),r.a.createElement("div",{className:vt("form-group")},r.a.createElement("label",null,"Element ID "),r.a.createElement("input",{type:"text",className:vt("form-control"),placeholder:"chart-container",onChange:function(t){return e.setState({elementId:t.target.value})}})),r.a.createElement("div",{className:vt("form-group")},r.a.createElement("label",null,"Stylesheet"),r.a.createElement("select",{className:vt("form-control"),value:i,onChange:function(t){return e.setState({stylesheetFor:t.target.value})}},r.a.createElement("option",{value:"tv"},"TV"),r.a.createElement("option",{value:"web"},"Web"),r.a.createElement("option",{value:"none"},"None"))),r.a.createElement("div",{className:vt("form-group")},r.a.createElement("label",null,"Event "),r.a.createElement("select",{className:vt("form-control"),value:c,onChange:this.onEventDescriptionChange.bind(this)},f.map(function(e){return r.a.createElement("option",{key:e.description,value:e.description},e.description)}))),r.a.createElement("div",{className:vt("form-group")},r.a.createElement("label",null,"Region Type "),r.a.createElement("select",{className:vt("form-control"),value:l,onChange:this.onRegionTypeChange.bind(this)},Object(o.B)(this.state)&&r.a.createElement("option",{value:"national"},"national"),r.a.createElement("option",{value:"province"},"province"),r.a.createElement("option",{value:"municipality"},"municipality"),r.a.createElement("option",{value:"municipality-vd"},"voting district"))),"national"!=l&&r.a.createElement("div",{className:vt("form-group")},r.a.createElement("label",null,"Province Name"),r.a.createElement("select",{className:vt("form-control"),value:u,onChange:function(t){return e.setState({provinceName:t.target.value})}},r.a.createElement("option",{value:""},"Select ..."),ft&&ft.map(function(e){return r.a.createElement("option",{key:e.name,value:e.name},e.name)}))),"municipality"==l&&r.a.createElement("div",{className:vt("form-group")},r.a.createElement("label",null,"Municipality Name"),r.a.createElement("select",{className:vt("form-control"),value:s,onChange:function(t){return e.setState({muniName:t.target.value})}},r.a.createElement("option",{value:""},"Select ..."),v&&v.munis.map(function(e){return r.a.createElement("option",{key:e.muniName,value:e.muniName},e.muniName)}))),"municipality-vd"==l&&r.a.createElement("div",{className:vt("form-group")},r.a.createElement("label",null,"Municipality Code"),r.a.createElement("input",{type:"text",className:vt("form-control"),placeholder:"CPT",value:m,onChange:function(t){return e.setState({muniCode:t.target.value})},disabled:"national"==l})),"municipality-vd"==l&&r.a.createElement("div",{className:vt("form-group")},r.a.createElement("label",null,"Voting District Number"),r.a.createElement("input",{type:"text",className:vt("form-control"),placeholder:"97860055",value:p,onChange:function(t){return e.setState({iecId:t.target.value})},disabled:"national"==l})),r.a.createElement("div",{className:vt("form-group")},r.a.createElement("button",{type:"button",onClick:this.onPreview.bind(this),className:vt("btn")+" "+vt("btn-primary")},"Preview")),r.a.createElement("div",{className:vt("form-group")},r.a.createElement("button",{type:"button",onClick:this.onExportAsPNG.bind(this),className:vt("btn")+" "+vt("btn-primary")},"Export As PNG")),r.a.createElement("div",{className:vt("form-group")},r.a.createElement("label",null,"Embed Code"),r.a.createElement("div",{className:vt("embedcode")},r.a.createElement("span",null,'\n                    <div id="'.concat(a,'"></div>\n                    <script src="').concat(t,'/embed/embed.js"><\/script>\n                    <script>showProgVotesPiechart(\n                        document.getElementById("').concat(a,'"),\n                        {\n                            stylesheetFor: "').concat(i,'",\n                            eventDescription: "').concat(c,'",\n                            regionType: "').concat(l,'",\n                            provinceName: "').concat(u,'",\n                            muniName: "').concat(s,'",\n                            muniCode: "').concat(m,'",\n                            iecId: "').concat(p,'"\n                        });<\/script>').replace(/(\r\n|\n|\r)/gm,"")))))}}])&&st(n.prototype,a),i&&st(n,i),t}(),ht=yt;yt.__docgenInfo={description:"",methods:[{name:"onEventDescriptionChange",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onRegionTypeChange",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onPreview",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onExportAsPNG",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"PieChartEmbed"};var bt=n("./src/components/SeatCompBarchart/barchartEmbed.css"),Nt=n.n(bt);function Et(e){return(Et="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gt(e){return(gt="function"===typeof Symbol&&"symbol"===Et(Symbol.iterator)?function(e){return Et(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Et(e)})(e)}function Ct(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Pt(e,t){return!t||"object"!==gt(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function St(e){return(St=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function It(e,t){return(It=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var wt=Object(N.f)();function Ot(e){return v.a[e]||Nt.a[e]||e}var _t=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Pt(this,St(t).call(this,e))).state={elementId:"root",eventDescriptions:["National Elections 1999","14 Apr 2004 National Election","22 Apr 2009 National Election","2014 National Election","2019 NATIONAL ELECTION"],regionType:"national",provinceName:"Western Cape",muniName:"",muniCode:"",iecId:"",partyAbbr:"ANC",partyIecId:null,electionEvents:[],allParties:[],stylesheetFor:"web",componentID:7},n}var n,a,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&It(e,t)}(t,p),n=t,(a=[{key:"componentDidMount",value:function(){var e=this;Object(N.a)().then(function(t){var n=t.data.allEvents;e.setState({electionEvents:n})}).catch(function(e){return console.error(e)}),Object(N.d)().then(function(t){var n=t.data.allParties.edges.map(function(e){return e.node});n=n.filter(function(e,t,n){return t===n.findIndex(function(t){return t.iecId==e.iecId})}),e.setState({allParties:n})}).catch(function(e){return console.error(e)})}},{key:"componentDidUpdate",value:function(){}},{key:"onEventDescriptionChange",value:function(e){for(var t=e.target.options,n=[],a=0,r=t.length;a<r;a++)t[a].selected&&n.push(t[a].value);this.setState({eventDescriptions:n})}},{key:"onRegionTypeChange",value:function(e){var t={regionType:e.target.value};this.setState(t)}},{key:"onPreview",value:function(e){Object(o.U)(b.a.CHART_PREVIEW,this.state)}},{key:"onExportAsPNG",value:function(e){Object(o.U)(b.a.EXPORT_PNG,this.state)}},{key:"render",value:function(){var e=this,t=d.a.DOMAIN,n=this.state,a=n.elementId,o=n.stylesheetFor,i=n.eventDescriptions,c=n.regionType,l=n.provinceName,u=n.muniName,s=n.muniCode,m=n.iecId,p=n.partyAbbr,f=n.partyIecId,v=n.electionEvents,y=n.allParties,h=wt.filter(function(e){return e.name==l})[0];return r.a.createElement("div",null,r.a.createElement("h3",null," Race For Seats Comparison Bar Chart Embed Script Generation "),r.a.createElement("div",{className:Ot("form-group")},r.a.createElement("label",null,"Element ID "),r.a.createElement("input",{type:"text",className:Ot("form-control"),placeholder:"chart-container",onChange:function(t){return e.setState({elementId:t.target.value})}})),r.a.createElement("div",{className:Ot("form-group")},r.a.createElement("label",null,"Stylesheet"),r.a.createElement("select",{className:Ot("form-control"),value:o,onChange:function(t){return e.setState({stylesheetFor:t.target.value})}},r.a.createElement("option",{value:"tv"},"TV"),r.a.createElement("option",{value:"web"},"Web"),r.a.createElement("option",{value:"none"},"None"))),r.a.createElement("div",{className:Ot("form-group")},r.a.createElement("label",null,"Region Type "),r.a.createElement("select",{className:Ot("form-control"),value:c,onChange:this.onRegionTypeChange.bind(this)},r.a.createElement("option",{value:"national"},"national"),r.a.createElement("option",{value:"province"},"province"),r.a.createElement("option",{value:"municipality"},"municipality"),r.a.createElement("option",{value:"municipality-vd"},"voting district"))),r.a.createElement("div",{className:Ot("form-group")},r.a.createElement("label",null,"Event "),r.a.createElement("select",{multiple:!0,className:Ot("form-control")+" "+Ot("multievent-container"),value:i,onChange:this.onEventDescriptionChange.bind(this)},v.filter(function(e){return-1!=e.eventType.description.toLowerCase().indexOf("national"==c?"national":"provincial")}).map(function(e){return r.a.createElement("option",{key:e.description,value:e.description},e.description)}))),"national"!=c&&r.a.createElement("div",{className:Ot("form-group")},r.a.createElement("label",null,"Province Name"),r.a.createElement("select",{className:Ot("form-control"),value:l,onChange:function(t){return e.setState({provinceName:t.target.value})}},r.a.createElement("option",{value:""},"Select ..."),wt&&wt.map(function(e){return r.a.createElement("option",{key:e.name,value:e.name},e.name)}))),"municipality"==c&&r.a.createElement("div",{className:Ot("form-group")},r.a.createElement("label",null,"Municipality Name"),r.a.createElement("select",{className:Ot("form-control"),value:u,onChange:function(t){return e.setState({muniName:t.target.value})}},r.a.createElement("option",{value:""},"Select ..."),h&&h.munis.map(function(e){return r.a.createElement("option",{key:e.muniName,value:e.muniName},e.muniName)}))),"municipality-vd"==c&&r.a.createElement("div",{className:Ot("form-group")},r.a.createElement("label",null,"Municipality Code"),r.a.createElement("input",{type:"text",className:Ot("form-control"),placeholder:"CPT",value:s,onChange:function(t){return e.setState({muniCode:t.target.value})}})),"municipality-vd"==c&&r.a.createElement("div",{className:Ot("form-group")},r.a.createElement("label",null,"Voting District Number"),r.a.createElement("input",{type:"text",className:Ot("form-control"),placeholder:"97860055",value:m,onChange:function(t){return e.setState({iecId:t.target.value})}})),r.a.createElement("div",{className:Ot("form-group")},r.a.createElement("label",null,"Party Name"),r.a.createElement("select",{className:Ot("form-control"),value:p+'"'+f,onChange:function(t){return e.setState({partyAbbr:t.target.value.split('"')[0],partyIecId:t.target.value.split('"')[1]})}},r.a.createElement("option",{value:""},"Select ..."),y&&y.map(function(e){return r.a.createElement("option",{key:e.name,value:e.abbreviation+'"'+e.iecId},e.name)}))),r.a.createElement("div",{className:Ot("form-group")},r.a.createElement("button",{type:"button",onClick:this.onPreview.bind(this),className:Ot("btn")+" "+Ot("btn-primary")},"Preview")),r.a.createElement("div",{className:Ot("form-group")},r.a.createElement("button",{type:"button",onClick:this.onExportAsPNG.bind(this),className:Ot("btn")+" "+Ot("btn-primary")},"Export As PNG")),r.a.createElement("div",{className:Ot("form-group")},r.a.createElement("label",null,"Embed Code"),r.a.createElement("div",{className:Ot("embedcode")},r.a.createElement("span",null,'                 \n                    <div id="'.concat(a,'"></div>\n                    <script src="').concat(t,'/embed/embed.js"><\/script>\n                    <script>showSeatsComparisonBarChart(\n                        document.getElementById("').concat(a,'"),\n                        {\n                            stylesheetFor: "').concat(o,'",\n                            eventDescriptions: ').concat(JSON.stringify(i),',\n                            regionType: "').concat(c,'",\n                            provinceName: "').concat(l,'",\n                            muniName: "').concat(u,'",\n                            muniCode: "').concat(s,'",\n                            iecId: "').concat(m,'",\n                            partyAbbr: "').concat(p,'",\n                            partyIecId: ').concat(f,"\n                        });<\/script>").replace(/(\r\n|\n|\r)/gm,"")))))}}])&&Ct(n.prototype,a),i&&Ct(n,i),t}(),kt=_t;_t.__docgenInfo={description:"",methods:[{name:"onEventDescriptionChange",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onRegionTypeChange",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onPreview",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onExportAsPNG",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"BarChartEmbed"};var xt=n("./src/components/SeatHorseShoeChart/horseshoeEmbed.css"),Tt=n.n(xt);function At(e){return(At="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jt(e){return(jt="function"===typeof Symbol&&"symbol"===At(Symbol.iterator)?function(e){return At(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":At(e)})(e)}function Dt(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Rt(e,t){return!t||"object"!==jt(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Gt(e){return(Gt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Lt(e,t){return(Lt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Vt=Object(N.f)();function Mt(e){return v.a[e]||Tt.a[e]||e}var Wt=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Rt(this,Gt(t).call(this,e))).state={elementId:"root",eventDescription:"2019 National Election",regionType:"national",provinceName:"",muniName:"",muniCode:"",iecId:"",electionEvents:[],stylesheetFor:"web",componentID:8},n}var n,a,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lt(e,t)}(t,p),n=t,(a=[{key:"componentDidMount",value:function(){var e=this;Object(N.a)().then(function(t){var n=t.data.allEvents;e.setState({electionEvents:n})}).catch(function(e){return console.error(e)})}},{key:"componentDidUpdate",value:function(){}},{key:"onEventDescriptionChange",value:function(e){-1==e.target.value.toLowerCase().indexOf("national")?this.setState({eventDescription:e.target.value,regionType:"province",provinceName:"Western Cape"}):this.setState({eventDescription:e.target.value,regionType:"national"})}},{key:"onRegionTypeChange",value:function(e){var t={regionType:e.target.value};this.setState(t)}},{key:"onPreview",value:function(e){Object(o.U)(b.a.CHART_PREVIEW,this.state)}},{key:"onExportAsPNG",value:function(e){Object(o.U)(b.a.EXPORT_PNG,this.state)}},{key:"render",value:function(){var e=this,t=d.a.DOMAIN,n=this.state,a=n.elementId,o=n.stylesheetFor,i=n.eventDescription,c=n.regionType,l=n.provinceName,u=n.muniName,s=n.muniCode,m=n.iecId,p=n.electionEvents,f=Vt.filter(function(e){return e.name==l})[0];return r.a.createElement("div",null,r.a.createElement("h3",null," Race For Seat Bar Chart Embed Script Generation "),r.a.createElement("div",{className:Mt("form-group")},r.a.createElement("label",null,"Element ID "),r.a.createElement("input",{type:"text",className:Mt("form-control"),placeholder:"chart-container",onChange:function(t){return e.setState({elementId:t.target.value})}})),r.a.createElement("div",{className:Mt("form-group")},r.a.createElement("label",null,"Stylesheet"),r.a.createElement("select",{className:Mt("form-control"),value:o,onChange:function(t){return e.setState({stylesheetFor:t.target.value})}},r.a.createElement("option",{value:"tv"},"TV"),r.a.createElement("option",{value:"web"},"Web"),r.a.createElement("option",{value:"none"},"None"))),r.a.createElement("div",{className:Mt("form-group")},r.a.createElement("label",null,"Event "),r.a.createElement("select",{className:Mt("form-control"),value:i,onChange:this.onEventDescriptionChange.bind(this)},p.map(function(e){return r.a.createElement("option",{key:e.description,value:e.description},e.description)}))),"national"!=c&&r.a.createElement("div",{className:Mt("form-group")},r.a.createElement("label",null,"Province Name"),r.a.createElement("select",{className:Mt("form-control"),value:l,onChange:function(t){return e.setState({provinceName:t.target.value})}},r.a.createElement("option",{value:""},"Select ..."),Vt&&Vt.map(function(e){return r.a.createElement("option",{key:e.name,value:e.name},e.name)}))),"municipality"==c&&r.a.createElement("div",{className:Mt("form-group")},r.a.createElement("label",null,"Municipality Name"),r.a.createElement("select",{className:Mt("form-control"),value:u,onChange:function(t){return e.setState({muniName:t.target.value})}},r.a.createElement("option",{value:""},"Select ..."),f&&f.munis.map(function(e){return r.a.createElement("option",{key:e.muniName,value:e.muniName},e.muniName)}))),"municipality-vd"==c&&r.a.createElement("div",{className:Mt("form-group")},r.a.createElement("label",null,"Municipality Code"),r.a.createElement("input",{type:"text",className:Mt("form-control"),placeholder:"CPT",value:s,onChange:function(t){return e.setState({muniCode:t.target.value})},disabled:"national"==c})),"municipality-vd"==c&&r.a.createElement("div",{className:Mt("form-group")},r.a.createElement("label",null,"Voting District Number"),r.a.createElement("input",{type:"text",className:Mt("form-control"),placeholder:"97860055",value:m,onChange:function(t){return e.setState({iecId:t.target.value})},disabled:"national"==c})),r.a.createElement("div",{className:Mt("form-group")},r.a.createElement("button",{type:"button",onClick:this.onPreview.bind(this),className:Mt("btn")+" "+Mt("btn-primary")},"Preview")),r.a.createElement("div",{className:Mt("form-group")},r.a.createElement("button",{type:"button",onClick:this.onExportAsPNG.bind(this),className:Mt("btn")+" "+Mt("btn-primary")},"Export As PNG")),r.a.createElement("div",{className:Mt("form-group")},r.a.createElement("label",null,"Embed Code"),r.a.createElement("div",{className:Mt("embedcode")},r.a.createElement("span",null,'\n                    <div id="'.concat(a,'"></div>\n                    <script src="').concat(t,'/embed/embed.js"><\/script>\n                    <script>showSeatHorseShoeChart(\n                        document.getElementById("').concat(a,'"),\n                        {\n                            stylesheetFor: "').concat(o,'",\n                            eventDescription: "').concat(i,'",\n                            regionType: "').concat(c,'",\n                            provinceName: "').concat(l,'",\n                            muniName: "').concat(u,'",\n                            muniCode: "').concat(s,'",\n                            iecId: "').concat(m,'"\n                        });<\/script>').replace(/(\r\n|\n|\r)/gm,"")))))}}])&&Dt(n.prototype,a),i&&Dt(n,i),t}(),Ft=Wt;Wt.__docgenInfo={description:"",methods:[{name:"onEventDescriptionChange",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onRegionTypeChange",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onPreview",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onExportAsPNG",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"HorseShoeEmbed"};var Bt=n("./src/components/VoteCompBarchart/barchartEmbed.css"),Ut=n.n(Bt);function Zt(e){return(Zt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Kt(e){return(Kt="function"===typeof Symbol&&"symbol"===Zt(Symbol.iterator)?function(e){return Zt(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Zt(e)})(e)}function Ht(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function zt(e,t){return!t||"object"!==Kt(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function qt(e){return(qt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xt(e,t){return(Xt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Yt=Object(N.f)();function Jt(e){return v.a[e]||Ut.a[e]||e}var Qt=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=zt(this,qt(t).call(this,e))).state={elementId:"root",eventDescriptions:["National Elections 1999","14 Apr 2004 National Election","22 Apr 2009 National Election","2014 National Election","2019 NATIONAL ELECTION"],regionType:"province",provinceName:"Western Cape",muniName:"",muniCode:"",iecId:"",partyAbbr:"ANC",partyIecId:null,electionEvents:[],allParties:[],stylesheetFor:"web",componentID:16},n}var n,a,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xt(e,t)}(t,p),n=t,(a=[{key:"componentDidMount",value:function(){var e=this;Object(N.a)().then(function(t){var n=t.data.allEvents;e.setState({electionEvents:n})}).catch(function(e){return console.error(e)}),Object(N.d)().then(function(t){var n=t.data.allParties.edges.map(function(e){return e.node});n=n.filter(function(e,t,n){return t===n.findIndex(function(t){return t.iecId==e.iecId})}),e.setState({allParties:n})}).catch(function(e){return console.error(e)})}},{key:"componentDidUpdate",value:function(){}},{key:"onEventDescriptionChange",value:function(e){for(var t=e.target.options,n=[],a=0,r=t.length;a<r;a++)t[a].selected&&n.push(t[a].value);this.setState({eventDescriptions:n})}},{key:"onRegionTypeChange",value:function(e){var t={regionType:e.target.value};this.setState(t)}},{key:"onPreview",value:function(e){Object(o.U)(b.a.CHART_PREVIEW,this.state)}},{key:"onExportAsPNG",value:function(e){Object(o.U)(b.a.EXPORT_PNG,this.state)}},{key:"render",value:function(){var e=this,t=d.a.DOMAIN,n=this.state,a=n.elementId,o=n.stylesheetFor,i=n.eventDescriptions,c=n.regionType,l=n.provinceName,u=n.muniName,s=n.muniCode,m=n.iecId,p=n.partyAbbr,f=n.partyIecId,v=n.electionEvents,y=n.allParties,h=Yt.filter(function(e){return e.name==l})[0];return r.a.createElement("div",null,r.a.createElement("h3",null," Race For Votes Comparison Bar Chart Embed Script Generation "),r.a.createElement("div",{className:Jt("form-group")},r.a.createElement("label",null,"Element ID "),r.a.createElement("input",{type:"text",className:Jt("form-control"),placeholder:"chart-container",onChange:function(t){return e.setState({elementId:t.target.value})}})),r.a.createElement("div",{className:Jt("form-group")},r.a.createElement("label",null,"Stylesheet"),r.a.createElement("select",{className:Jt("form-control"),value:o,onChange:function(t){return e.setState({stylesheetFor:t.target.value})}},r.a.createElement("option",{value:"tv"},"TV"),r.a.createElement("option",{value:"web"},"Web"),r.a.createElement("option",{value:"none"},"None"))),r.a.createElement("div",{className:Jt("form-group")},r.a.createElement("label",null,"Event "),r.a.createElement("select",{multiple:!0,className:Jt("form-control")+" "+Jt("multievent-container"),value:i,onChange:this.onEventDescriptionChange.bind(this)},v.map(function(e){return r.a.createElement("option",{key:e.description,value:e.description},e.description)}))),r.a.createElement("div",{className:Jt("form-group")},r.a.createElement("label",null,"Region Type "),r.a.createElement("select",{className:Jt("form-control"),value:c,onChange:this.onRegionTypeChange.bind(this)},r.a.createElement("option",{value:"national"},"national"),r.a.createElement("option",{value:"province"},"province"),r.a.createElement("option",{value:"municipality"},"municipality"),r.a.createElement("option",{value:"municipality-vd"},"voting district"))),"national"!=c&&r.a.createElement("div",{className:Jt("form-group")},r.a.createElement("label",null,"Province Name"),r.a.createElement("select",{className:Jt("form-control"),value:l,onChange:function(t){return e.setState({provinceName:t.target.value})}},r.a.createElement("option",{value:""},"Select ..."),Yt&&Yt.map(function(e){return r.a.createElement("option",{key:e.name,value:e.name},e.name)}))),"municipality"==c&&r.a.createElement("div",{className:Jt("form-group")},r.a.createElement("label",null,"Municipality Name"),r.a.createElement("select",{className:Jt("form-control"),value:u,onChange:function(t){return e.setState({muniName:t.target.value})}},r.a.createElement("option",{value:""},"Select ..."),h&&h.munis.map(function(e){return r.a.createElement("option",{key:e.muniName,value:e.muniName},e.muniName)}))),"municipality-vd"==c&&r.a.createElement("div",{className:Jt("form-group")},r.a.createElement("label",null,"Municipality Code"),r.a.createElement("input",{type:"text",className:Jt("form-control"),placeholder:"CPT",value:s,onChange:function(t){return e.setState({muniCode:t.target.value})}})),"municipality-vd"==c&&r.a.createElement("div",{className:Jt("form-group")},r.a.createElement("label",null,"Voting District Number"),r.a.createElement("input",{type:"text",className:Jt("form-control"),placeholder:"97860055",value:m,onChange:function(t){return e.setState({iecId:t.target.value})}})),r.a.createElement("div",{className:Jt("form-group")},r.a.createElement("label",null,"Party Name"),r.a.createElement("select",{className:Jt("form-control"),value:p+'"'+f,onChange:function(t){return e.setState({partyAbbr:t.target.value.split('"')[0],partyIecId:t.target.value.split('"')[1]})}},r.a.createElement("option",{value:""},"Select ..."),y&&y.map(function(e){return r.a.createElement("option",{key:e.name,value:e.abbreviation+'"'+e.iecId},e.name)}))),r.a.createElement("div",{className:Jt("form-group")},r.a.createElement("button",{type:"button",onClick:this.onPreview.bind(this),className:Jt("btn")+" "+Jt("btn-primary")},"Preview")),r.a.createElement("div",{className:Jt("form-group")},r.a.createElement("button",{type:"button",onClick:this.onExportAsPNG.bind(this),className:Jt("btn")+" "+Jt("btn-primary")},"Export As PNG")),r.a.createElement("div",{className:Jt("form-group")},r.a.createElement("label",null,"Embed Code"),r.a.createElement("div",{className:Jt("embedcode")},r.a.createElement("span",null,'\n                    <div id="'.concat(a,'"></div>\n                    <script src="').concat(t,'/embed/embed.js"><\/script>\n                    <script>showVoteComparisonBarchart(\n                        document.getElementById("').concat(a,'"),\n                        {\n                            stylesheetFor: "').concat(o,'",\n                            eventDescriptions: ').concat(JSON.stringify(i),',\n                            regionType: "').concat(c,'",\n                            provinceName: "').concat(l,'",\n                            muniName: "').concat(u,'",\n                            muniCode: "').concat(s,'",\n                            iecId: "').concat(m,'",\n                            partyAbbr: "').concat(p,'",\n                            partyIecId: ').concat(f,"\n                        });<\/script>").replace(/(\r\n|\n|\r)/gm,"")))))}}])&&Ht(n.prototype,a),i&&Ht(n,i),t}(),$t=Qt;Qt.__docgenInfo={description:"",methods:[{name:"onEventDescriptionChange",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onRegionTypeChange",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onPreview",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onExportAsPNG",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"BarChartEmbed"};var en=n("./src/components/TVSeatCompBarchart/barchartEmbed.css"),tn=n.n(en);function nn(e){return(nn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function an(e){return(an="function"===typeof Symbol&&"symbol"===nn(Symbol.iterator)?function(e){return nn(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":nn(e)})(e)}function rn(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function on(e,t){return!t||"object"!==an(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function cn(e){return(cn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ln(e,t){return(ln=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var un=Object(N.f)();function sn(e){return v.a[e]||tn.a[e]||e}var mn=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=on(this,cn(t).call(this,e))).state={elementId:"root",eventDescriptions:["National Elections 1999","14 Apr 2004 National Election","22 Apr 2009 National Election","2014 National Election","2019 NATIONAL ELECTION"],regionType:"national",provinceName:"Western Cape",muniName:"",muniCode:"",iecId:"",partyAbbrs:["ANC","DA","EFF"],partyIecIds:[null,null,null],electionEvents:[],allParties:[],stylesheetFor:"web",componentID:12},n}var n,a,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ln(e,t)}(t,p),n=t,(a=[{key:"componentDidMount",value:function(){var e=this;Object(N.a)().then(function(t){var n=t.data.allEvents;e.setState({electionEvents:n})}).catch(function(e){return console.error(e)}),Object(N.d)().then(function(t){var n=t.data.allParties.edges.map(function(e){return e.node});n=n.filter(function(e,t,n){return t===n.findIndex(function(t){return t.iecId==e.iecId})}),e.setState({allParties:n})}).catch(function(e){return console.error(e)})}},{key:"componentDidUpdate",value:function(){}},{key:"onEventDescriptionChange",value:function(e){for(var t=e.target.options,n=[],a=0,r=t.length;a<r;a++)t[a].selected&&n.push(t[a].value);n=n.slice(0,4),this.setState({eventDescriptions:n})}},{key:"onRegionTypeChange",value:function(e){var t={regionType:e.target.value};this.setState(t)}},{key:"onPreview",value:function(e){Object(o.U)(b.a.CHART_PREVIEW,this.state)}},{key:"onExportAsPNG",value:function(e){Object(o.U)(b.a.EXPORT_PNG,this.state)}},{key:"render",value:function(){var e=this,t=d.a.DOMAIN,n=this.state,a=n.elementId,i=n.stylesheetFor,c=n.eventDescriptions,l=n.regionType,u=n.provinceName,s=n.muniName,m=n.muniCode,p=n.iecId,f=n.partyAbbrs,v=n.partyIecIds,y=n.electionEvents,h=n.allParties,b=un.filter(function(e){return e.name==u})[0];return r.a.createElement("div",null,r.a.createElement("h3",null," Race For Seats Comparison Bar Chart Embed Script Generation "),r.a.createElement("div",{className:sn("form-group")},r.a.createElement("label",null,"Element ID "),r.a.createElement("input",{type:"text",className:sn("form-control"),placeholder:"chart-container",onChange:function(t){return e.setState({elementId:t.target.value})}})),r.a.createElement("div",{className:sn("form-group")},r.a.createElement("label",null,"Stylesheet"),r.a.createElement("select",{className:sn("form-control"),value:i,onChange:function(t){return e.setState({stylesheetFor:t.target.value})}},r.a.createElement("option",{value:"tv"},"TV"),r.a.createElement("option",{value:"web"},"Web"),r.a.createElement("option",{value:"none"},"None"))),r.a.createElement("div",{className:sn("form-group")},r.a.createElement("label",null,"Region Type "),r.a.createElement("select",{className:sn("form-control"),value:l,onChange:this.onRegionTypeChange.bind(this)},r.a.createElement("option",{value:"national"},"national"),r.a.createElement("option",{value:"province"},"province"))),r.a.createElement("div",{className:sn("form-group")},r.a.createElement("label",null,"Events "),r.a.createElement("select",{multiple:!0,className:sn("form-control")+" "+sn("multievent-container"),value:c,onChange:this.onEventDescriptionChange.bind(this)},y.filter(function(e){return-1!=e.eventType.description.toLowerCase().indexOf("national"==l?"national":"provincial")}).map(function(e){return r.a.createElement("option",{key:e.description,value:e.description},e.description)}))),"national"!=l&&r.a.createElement("div",{className:sn("form-group")},r.a.createElement("label",null,"Province Name"),r.a.createElement("select",{className:sn("form-control"),value:u,onChange:function(t){return e.setState({provinceName:t.target.value})}},r.a.createElement("option",{value:""},"Select ..."),un&&un.map(function(e){return r.a.createElement("option",{key:e.name,value:e.name},e.name)}))),"municipality"==l&&r.a.createElement("div",{className:sn("form-group")},r.a.createElement("label",null,"Municipality Name"),r.a.createElement("select",{className:sn("form-control"),value:s,onChange:function(t){return e.setState({muniName:t.target.value})}},r.a.createElement("option",{value:""},"Select ..."),b&&b.munis.map(function(e){return r.a.createElement("option",{key:e.muniName,value:e.muniName},e.muniName)}))),"municipality-vd"==l&&r.a.createElement("div",{className:sn("form-group")},r.a.createElement("label",null,"Municipality Code"),r.a.createElement("input",{type:"text",className:sn("form-control"),placeholder:"CPT",value:m,onChange:function(t){return e.setState({muniCode:t.target.value})}})),"municipality-vd"==l&&r.a.createElement("div",{className:sn("form-group")},r.a.createElement("label",null,"Voting District Number"),r.a.createElement("input",{type:"text",className:sn("form-control"),placeholder:"97860055",value:p,onChange:function(t){return e.setState({iecId:t.target.value})}})),r.a.createElement("div",{className:sn("form-group")},r.a.createElement("label",null,"Party Names"),r.a.createElement("select",{multiple:!0,className:sn("form-control")+" "+sn("multiparties-container"),value:f.map(function(e,t){return e+'"'+v[t]}),onChange:o.C.bind(this)},h&&h.map(function(e,t){return r.a.createElement("option",{key:t,value:e.abbreviation+'"'+e.iecId},Object(o.i)(e.name))}))),r.a.createElement("div",{className:sn("form-group")},r.a.createElement("button",{type:"button",onClick:this.onPreview.bind(this),className:sn("btn")+" "+sn("btn-primary")},"Preview")),r.a.createElement("div",{className:sn("form-group")},r.a.createElement("button",{type:"button",onClick:this.onExportAsPNG.bind(this),className:sn("btn")+" "+sn("btn-primary")},"Export As PNG")),r.a.createElement("div",{className:sn("form-group")},r.a.createElement("label",null,"Embed Code"),r.a.createElement("div",{className:sn("embedcode")},r.a.createElement("span",null,'\n                    <div id="'.concat(a,'"></div>\n                    <script src="').concat(t,'/embed/embed.js"><\/script>\n                    <script>showTVSeatCompBarchart(\n                        document.getElementById("').concat(a,'"),\n                        {\n                            stylesheetFor: "').concat(i,'",\n                            eventDescriptions: ').concat(JSON.stringify(c),',\n                            regionType: "').concat(l,'",\n                            provinceName: "').concat(u,'",\n                            muniName: "').concat(s,'",\n                            muniCode: "').concat(m,'",\n                            iecId: "').concat(p,'",\n                            partyAbbrs: ').concat(JSON.stringify(f),",\n                            partyIecIds: ").concat(JSON.stringify(v),"\n                        });<\/script>").replace(/(\r\n|\n|\r)/gm,"")))))}}])&&rn(n.prototype,a),i&&rn(n,i),t}(),pn=mn;mn.__docgenInfo={description:"",methods:[{name:"onEventDescriptionChange",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onRegionTypeChange",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onPreview",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onExportAsPNG",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"BarChartEmbed"};var dn=n("./src/components/TVSeatSwingBarchart/barchartEmbed.css"),fn=n.n(dn);function vn(e){return(vn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yn(e){return(yn="function"===typeof Symbol&&"symbol"===vn(Symbol.iterator)?function(e){return vn(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":vn(e)})(e)}function hn(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function bn(e,t){return!t||"object"!==yn(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Nn(e){return(Nn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function En(e,t){return(En=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var gn=Object(N.f)();function Cn(e){return v.a[e]||fn.a[e]||e}var Pn=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=bn(this,Nn(t).call(this,e))).state={elementId:"root",eventDescriptions:["22 Apr 2009 National Election","2014 National Election"],regionType:"national",provinceName:"Western Cape",muniName:"",muniCode:"",iecId:"",partyAbbrs:["ANC","DA","EFF"],partyIecIds:[null,null,null],electionEvents:[],allParties:[],stylesheetFor:"web",componentID:13},n}var n,a,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&En(e,t)}(t,p),n=t,(a=[{key:"componentDidMount",value:function(){var e=this;Object(N.a)().then(function(t){var n=t.data.allEvents;e.setState({electionEvents:n})}).catch(function(e){return console.error(e)}),Object(N.d)().then(function(t){var n=t.data.allParties.edges.map(function(e){return e.node});n=n.filter(function(e,t,n){return t===n.findIndex(function(t){return t.iecId==e.iecId})}),e.setState({allParties:n})}).catch(function(e){return console.error(e)})}},{key:"componentDidUpdate",value:function(){}},{key:"onRegionTypeChange",value:function(e){var t={regionType:e.target.value};this.setState(t)}},{key:"onPreview",value:function(e){Object(o.U)(b.a.CHART_PREVIEW,this.state)}},{key:"onExportAsPNG",value:function(e){Object(o.U)(b.a.EXPORT_PNG,this.state)}},{key:"render",value:function(){var e=this,t=d.a.DOMAIN,n=this.state,a=n.elementId,i=n.stylesheetFor,c=n.eventDescriptions,l=n.regionType,u=n.provinceName,s=n.muniName,m=n.muniCode,p=n.iecId,f=n.partyAbbrs,v=n.partyIecIds,y=n.electionEvents,h=n.allParties,b=gn.filter(function(e){return e.name==u})[0];return r.a.createElement("div",null,r.a.createElement("h3",null," Race For Seats Comparison Bar Chart Embed Script Generation "),r.a.createElement("div",{className:Cn("form-group")},r.a.createElement("label",null,"Element ID "),r.a.createElement("input",{type:"text",className:Cn("form-control"),placeholder:"chart-container",onChange:function(t){return e.setState({elementId:t.target.value})}})),r.a.createElement("div",{className:Cn("form-group")},r.a.createElement("label",null,"Stylesheet"),r.a.createElement("select",{className:Cn("form-control"),value:i,onChange:function(t){return e.setState({stylesheetFor:t.target.value})}},r.a.createElement("option",{value:"tv"},"TV"),r.a.createElement("option",{value:"web"},"Web"),r.a.createElement("option",{value:"none"},"None"))),r.a.createElement("div",{className:Cn("form-group")},r.a.createElement("label",null,"Region Type "),r.a.createElement("select",{className:Cn("form-control"),value:l,onChange:this.onRegionTypeChange.bind(this)},r.a.createElement("option",{value:"national"},"national"),r.a.createElement("option",{value:"province"},"province"))),r.a.createElement("div",{className:Cn("form-group")},r.a.createElement("label",null,"First Event "),r.a.createElement("select",{className:Cn("form-control"),value:c[0],onChange:function(t){e.setState({eventDescriptions:[t.target.value,c[1]]})}},y.map(function(e){return r.a.createElement("option",{key:e.description,value:e.description},e.description)}))),r.a.createElement("div",{className:Cn("form-group")},r.a.createElement("label",null,"Second Event "),r.a.createElement("select",{className:Cn("form-control"),value:c[1],onChange:function(t){e.setState({eventDescriptions:[c[0],t.target.value]})}},y.map(function(e){return r.a.createElement("option",{key:e.description,value:e.description},e.description)}))),"national"!=l&&r.a.createElement("div",{className:Cn("form-group")},r.a.createElement("label",null,"Province Name"),r.a.createElement("select",{className:Cn("form-control"),value:u,onChange:function(t){return e.setState({provinceName:t.target.value})}},r.a.createElement("option",{value:""},"Select ..."),gn&&gn.map(function(e){return r.a.createElement("option",{key:e.name,value:e.name},e.name)}))),"municipality"==l&&r.a.createElement("div",{className:Cn("form-group")},r.a.createElement("label",null,"Municipality Name"),r.a.createElement("select",{className:Cn("form-control"),value:s,onChange:function(t){return e.setState({muniName:t.target.value})}},r.a.createElement("option",{value:""},"Select ..."),b&&b.munis.map(function(e){return r.a.createElement("option",{key:e.muniName,value:e.muniName},e.muniName)}))),"municipality-vd"==l&&r.a.createElement("div",{className:Cn("form-group")},r.a.createElement("label",null,"Municipality Code"),r.a.createElement("input",{type:"text",className:Cn("form-control"),placeholder:"CPT",value:m,onChange:function(t){return e.setState({muniCode:t.target.value})}})),"municipality-vd"==l&&r.a.createElement("div",{className:Cn("form-group")},r.a.createElement("label",null,"Voting District Number"),r.a.createElement("input",{type:"text",className:Cn("form-control"),placeholder:"97860055",value:p,onChange:function(t){return e.setState({iecId:t.target.value})}})),r.a.createElement("div",{className:Cn("form-group")},r.a.createElement("label",null,"Party Names"),r.a.createElement("select",{multiple:!0,className:Cn("form-control")+" "+Cn("multiparties-container"),value:f.map(function(e,t){return e+'"'+v[t]}),onChange:o.C.bind(this)},h&&h.map(function(e,t){return r.a.createElement("option",{key:t,value:e.abbreviation+'"'+e.iecId},Object(o.i)(e.name))}))),r.a.createElement("div",{className:Cn("form-group")},r.a.createElement("button",{type:"button",onClick:this.onPreview.bind(this),className:Cn("btn")+" "+Cn("btn-primary")},"Preview")),r.a.createElement("div",{className:Cn("form-group")},r.a.createElement("button",{type:"button",onClick:this.onExportAsPNG.bind(this),className:Cn("btn")+" "+Cn("btn-primary")},"Export As PNG")),r.a.createElement("div",{className:Cn("form-group")},r.a.createElement("label",null,"Embed Code"),r.a.createElement("div",{className:Cn("embedcode")},r.a.createElement("span",null,'\n                    <div id="'.concat(a,'"></div>\n                    <script src="').concat(t,'/embed/embed.js"><\/script>\n                    <script>showTVSeatSwingBarchart(\n                        document.getElementById("').concat(a,'"),\n                        {\n                            stylesheetFor: "').concat(i,'",\n                            eventDescriptions: ').concat(JSON.stringify(c),',\n                            regionType: "').concat(l,'",\n                            provinceName: "').concat(u,'",\n                            muniName: "').concat(s,'",\n                            muniCode: "').concat(m,'",\n                            iecId: "').concat(p,'",\n                            partyAbbrs: ').concat(JSON.stringify(f),",\n                            partyIecIds: ").concat(JSON.stringify(v),"\n                        });<\/script>").replace(/(\r\n|\n|\r)/gm,"")))))}}])&&hn(n.prototype,a),i&&hn(n,i),t}(),Sn=Pn;Pn.__docgenInfo={description:"",methods:[{name:"onRegionTypeChange",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onPreview",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onExportAsPNG",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"BarChartEmbed"};var In=n("./src/components/TVVoteCompBarchart/barchartEmbed.css"),wn=n.n(In);function On(e){return(On="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _n(e){return(_n="function"===typeof Symbol&&"symbol"===On(Symbol.iterator)?function(e){return On(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":On(e)})(e)}function kn(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function xn(e,t){return!t||"object"!==_n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Tn(e){return(Tn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function An(e,t){return(An=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var jn=Object(N.f)();function Dn(e){return v.a[e]||wn.a[e]||e}var Rn=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=xn(this,Tn(t).call(this,e))).state={elementId:"root",eventDescriptions:["National Elections 1999","14 Apr 2004 National Election","22 Apr 2009 National Election","2014 National Election","2019 NATIONAL ELECTION"],regionType:"province",provinceName:"Western Cape",muniName:"",muniCode:"",iecId:"",partyAbbrs:["ANC","DA","EFF"],partyIecIds:[null,null,null],electionEvents:[],allParties:[],stylesheetFor:"web",componentID:14},n}var n,a,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&An(e,t)}(t,p),n=t,(a=[{key:"componentDidMount",value:function(){var e=this;Object(N.a)().then(function(t){var n=t.data.allEvents;e.setState({electionEvents:n})}).catch(function(e){return console.error(e)}),Object(N.d)().then(function(t){var n=t.data.allParties.edges.map(function(e){return e.node});n=n.filter(function(e,t,n){return t===n.findIndex(function(t){return t.iecId==e.iecId})}),e.setState({allParties:n})}).catch(function(e){return console.error(e)})}},{key:"componentDidUpdate",value:function(){}},{key:"onEventDescriptionChange",value:function(e){for(var t=e.target.options,n=[],a=0,r=t.length;a<r;a++)t[a].selected&&n.push(t[a].value);n=n.slice(0,4),this.setState({eventDescriptions:n})}},{key:"onRegionTypeChange",value:function(e){var t={regionType:e.target.value};this.setState(t)}},{key:"onPreview",value:function(e){Object(o.U)(b.a.CHART_PREVIEW,this.state)}},{key:"onExportAsPNG",value:function(e){Object(o.U)(b.a.EXPORT_PNG,this.state)}},{key:"render",value:function(){var e=this,t=d.a.DOMAIN,n=this.state,a=n.elementId,i=n.stylesheetFor,c=n.eventDescriptions,l=n.regionType,u=n.provinceName,s=n.muniName,m=n.muniCode,p=n.iecId,f=n.partyAbbrs,v=n.partyIecIds,y=n.electionEvents,h=n.allParties,b=jn.filter(function(e){return e.name==u})[0];return r.a.createElement("div",null,r.a.createElement("h3",null," Race For Votes Comparison Bar Chart Embed Script Generation "),r.a.createElement("div",{className:Dn("form-group")},r.a.createElement("label",null,"Element ID "),r.a.createElement("input",{type:"text",className:Dn("form-control"),placeholder:"chart-container",onChange:function(t){return e.setState({elementId:t.target.value})}})),r.a.createElement("div",{className:Dn("form-group")},r.a.createElement("label",null,"Stylesheet"),r.a.createElement("select",{className:Dn("form-control"),value:i,onChange:function(t){return e.setState({stylesheetFor:t.target.value})}},r.a.createElement("option",{value:"tv"},"TV"),r.a.createElement("option",{value:"web"},"Web"),r.a.createElement("option",{value:"none"},"None"))),r.a.createElement("div",{className:Dn("form-group")},r.a.createElement("label",null,"Region Type "),r.a.createElement("select",{className:Dn("form-control"),value:l,onChange:this.onRegionTypeChange.bind(this)},r.a.createElement("option",{value:"national"},"national"),r.a.createElement("option",{value:"province"},"province"),r.a.createElement("option",{value:"municipality"},"municipality"),r.a.createElement("option",{value:"municipality-vd"},"voting district"))),r.a.createElement("div",{className:Dn("form-group")},r.a.createElement("label",null,"Events "),r.a.createElement("select",{multiple:!0,className:Dn("form-control")+" "+Dn("multievent-container"),value:c,onChange:this.onEventDescriptionChange.bind(this)},y.map(function(e){return r.a.createElement("option",{key:e.description,value:e.description},e.description)}))),"national"!=l&&r.a.createElement("div",{className:Dn("form-group")},r.a.createElement("label",null,"Province Name"),r.a.createElement("select",{className:Dn("form-control"),value:u,onChange:function(t){return e.setState({provinceName:t.target.value})}},r.a.createElement("option",{value:""},"Select ..."),jn&&jn.map(function(e){return r.a.createElement("option",{key:e.name,value:e.name},e.name)}))),"municipality"==l&&r.a.createElement("div",{className:Dn("form-group")},r.a.createElement("label",null,"Municipality Name"),r.a.createElement("select",{className:Dn("form-control"),value:s,onChange:function(t){return e.setState({muniName:t.target.value})}},r.a.createElement("option",{value:""},"Select ..."),b&&b.munis.map(function(e){return r.a.createElement("option",{key:e.muniName,value:e.muniName},e.muniName)}))),"municipality-vd"==l&&r.a.createElement("div",{className:Dn("form-group")},r.a.createElement("label",null,"Municipality Code"),r.a.createElement("input",{type:"text",className:Dn("form-control"),placeholder:"CPT",value:m,onChange:function(t){return e.setState({muniCode:t.target.value})}})),"municipality-vd"==l&&r.a.createElement("div",{className:Dn("form-group")},r.a.createElement("label",null,"Voting District Number"),r.a.createElement("input",{type:"text",className:Dn("form-control"),placeholder:"97860055",value:p,onChange:function(t){return e.setState({iecId:t.target.value})}})),r.a.createElement("div",{className:Dn("form-group")},r.a.createElement("label",null,"Party Names"),r.a.createElement("select",{multiple:!0,className:Dn("form-control")+" "+Dn("multiparties-container"),value:f.map(function(e,t){return e+'"'+v[t]}),onChange:o.C.bind(this)},h&&h.map(function(e,t){return r.a.createElement("option",{key:t,value:e.abbreviation+'"'+e.iecId},Object(o.i)(e.name))}))),r.a.createElement("div",{className:Dn("form-group")},r.a.createElement("button",{type:"button",onClick:this.onPreview.bind(this),className:Dn("btn")+" "+Dn("btn-primary")},"Preview")),r.a.createElement("div",{className:Dn("form-group")},r.a.createElement("button",{type:"button",onClick:this.onExportAsPNG.bind(this),className:Dn("btn")+" "+Dn("btn-primary")},"Export As PNG")),r.a.createElement("div",{className:Dn("form-group")},r.a.createElement("label",null,"Embed Code"),r.a.createElement("div",{className:Dn("embedcode")},r.a.createElement("span",null,'\n                    <div id="'.concat(a,'"></div>\n                    <script src="').concat(t,'/embed/embed.js"><\/script>\n                    <script>showTVVoteCompBarchart(\n                        document.getElementById("').concat(a,'"),\n                        {\n                            stylesheetFor: "').concat(i,'",\n                            eventDescriptions: ').concat(JSON.stringify(c),',\n                            regionType: "').concat(l,'",\n                            provinceName: "').concat(u,'",\n                            muniName: "').concat(s,'",\n                            muniCode: "').concat(m,'",\n                            iecId: "').concat(p,'",\n                            partyAbbrs: ').concat(JSON.stringify(f),",\n                            partyIecIds: ").concat(JSON.stringify(v),"\n                        });<\/script>").replace(/(\r\n|\n|\r)/gm,"")))))}}])&&kn(n.prototype,a),i&&kn(n,i),t}(),Gn=Rn;Rn.__docgenInfo={description:"",methods:[{name:"onEventDescriptionChange",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onRegionTypeChange",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onPreview",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onExportAsPNG",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"BarChartEmbed"};var Ln=n("./src/components/TVVoteSwingBarchart/barchartEmbed.css"),Vn=n.n(Ln);function Mn(e){return(Mn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wn(e){return(Wn="function"===typeof Symbol&&"symbol"===Mn(Symbol.iterator)?function(e){return Mn(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Mn(e)})(e)}function Fn(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Bn(e,t){return!t||"object"!==Wn(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Un(e){return(Un=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Zn(e,t){return(Zn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Kn=Object(N.f)();function Hn(e){return v.a[e]||Vn.a[e]||e}var zn=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Bn(this,Un(t).call(this,e))).state={elementId:"root",eventDescriptions:["22 Apr 2009 National Election","2014 National Election"],regionType:"province",provinceName:"Western Cape",muniName:"",muniCode:"",iecId:"",partyAbbrs:["ANC","DA","EFF"],partyIecIds:[null,null,null],electionEvents:[],allParties:[],stylesheetFor:"web",componentID:15},n}var n,a,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zn(e,t)}(t,p),n=t,(a=[{key:"componentDidMount",value:function(){var e=this;Object(N.a)().then(function(t){var n=t.data.allEvents;e.setState({electionEvents:n})}).catch(function(e){return console.error(e)}),Object(N.d)().then(function(t){var n=t.data.allParties.edges.map(function(e){return e.node});n=n.filter(function(e,t,n){return t===n.findIndex(function(t){return t.iecId==e.iecId})}),e.setState({allParties:n})}).catch(function(e){return console.error(e)})}},{key:"componentDidUpdate",value:function(){}},{key:"onEventDescriptionChange",value:function(e){for(var t=e.target.options,n=[],a=0,r=t.length;a<r;a++)t[a].selected&&n.push(t[a].value);n=n.slice(0,2),this.setState({eventDescriptions:n})}},{key:"onRegionTypeChange",value:function(e){var t={regionType:e.target.value};this.setState(t)}},{key:"onPreview",value:function(e){Object(o.U)(b.a.CHART_PREVIEW,this.state)}},{key:"onExportAsPNG",value:function(e){Object(o.U)(b.a.EXPORT_PNG,this.state)}},{key:"render",value:function(){var e=this,t=d.a.DOMAIN,n=this.state,a=n.elementId,i=n.stylesheetFor,c=n.eventDescriptions,l=n.regionType,u=n.provinceName,s=n.muniName,m=n.muniCode,p=n.iecId,f=n.partyAbbrs,v=n.partyIecIds,y=n.electionEvents,h=n.allParties,b=Kn.filter(function(e){return e.name==u})[0];return r.a.createElement("div",null,r.a.createElement("h3",null," Race For Votes Comparison Bar Chart Embed Script Generation "),r.a.createElement("div",{className:Hn("form-group")},r.a.createElement("label",null,"Element ID "),r.a.createElement("input",{type:"text",className:Hn("form-control"),placeholder:"chart-container",onChange:function(t){return e.setState({elementId:t.target.value})}})),r.a.createElement("div",{className:Hn("form-group")},r.a.createElement("label",null,"Stylesheet"),r.a.createElement("select",{className:Hn("form-control"),value:i,onChange:function(t){return e.setState({stylesheetFor:t.target.value})}},r.a.createElement("option",{value:"tv"},"TV"),r.a.createElement("option",{value:"web"},"Web"),r.a.createElement("option",{value:"none"},"None"))),r.a.createElement("div",{className:Hn("form-group")},r.a.createElement("label",null,"Region Type "),r.a.createElement("select",{className:Hn("form-control"),value:l,onChange:this.onRegionTypeChange.bind(this)},r.a.createElement("option",{value:"national"},"national"),r.a.createElement("option",{value:"province"},"province"),r.a.createElement("option",{value:"municipality"},"municipality"),r.a.createElement("option",{value:"municipality-vd"},"voting district"))),r.a.createElement("div",{className:Hn("form-group")},r.a.createElement("label",null,"First Event "),r.a.createElement("select",{className:Hn("form-control"),value:c[0],onChange:function(t){e.setState({eventDescriptions:[t.target.value,c[1]]})}},y.map(function(e){return r.a.createElement("option",{key:e.description,value:e.description},e.description)}))),r.a.createElement("div",{className:Hn("form-group")},r.a.createElement("label",null,"Second Event "),r.a.createElement("select",{className:Hn("form-control"),value:c[1],onChange:function(t){e.setState({eventDescriptions:[c[0],t.target.value]})}},y.map(function(e){return r.a.createElement("option",{key:e.description,value:e.description},e.description)}))),"national"!=l&&r.a.createElement("div",{className:Hn("form-group")},r.a.createElement("label",null,"Province Name"),r.a.createElement("select",{className:Hn("form-control"),value:u,onChange:function(t){return e.setState({provinceName:t.target.value})}},r.a.createElement("option",{value:""},"Select ..."),Kn&&Kn.map(function(e){return r.a.createElement("option",{key:e.name,value:e.name},e.name)}))),"municipality"==l&&r.a.createElement("div",{className:Hn("form-group")},r.a.createElement("label",null,"Municipality Name"),r.a.createElement("select",{className:Hn("form-control"),value:s,onChange:function(t){return e.setState({muniName:t.target.value})}},r.a.createElement("option",{value:""},"Select ..."),b&&b.munis.map(function(e){return r.a.createElement("option",{key:e.muniName,value:e.muniName},e.muniName)}))),"municipality-vd"==l&&r.a.createElement("div",{className:Hn("form-group")},r.a.createElement("label",null,"Municipality Code"),r.a.createElement("input",{type:"text",className:Hn("form-control"),placeholder:"CPT",value:m,onChange:function(t){return e.setState({muniCode:t.target.value})}})),"municipality-vd"==l&&r.a.createElement("div",{className:Hn("form-group")},r.a.createElement("label",null,"Voting District Number"),r.a.createElement("input",{type:"text",className:Hn("form-control"),placeholder:"97860055",value:p,onChange:function(t){return e.setState({iecId:t.target.value})}})),r.a.createElement("div",{className:Hn("form-group")},r.a.createElement("label",null,"Party Names"),r.a.createElement("select",{multiple:!0,className:Hn("form-control")+" "+Hn("multiparties-container"),value:f.map(function(e,t){return e+'"'+v[t]}),onChange:o.C.bind(this)},h&&h.map(function(e,t){return r.a.createElement("option",{key:t,value:e.abbreviation+'"'+e.iecId},Object(o.i)(e.name))}))),r.a.createElement("div",{className:Hn("form-group")},r.a.createElement("button",{type:"button",onClick:this.onPreview.bind(this),className:Hn("btn")+" "+Hn("btn-primary")},"Preview")),r.a.createElement("div",{className:Hn("form-group")},r.a.createElement("button",{type:"button",onClick:this.onExportAsPNG.bind(this),className:Hn("btn")+" "+Hn("btn-primary")},"Export As PNG")),r.a.createElement("div",{className:Hn("form-group")},r.a.createElement("label",null,"Embed Code"),r.a.createElement("div",{className:Hn("embedcode")},r.a.createElement("span",null,'\n                    <div id="'.concat(a,'"></div>\n                    <script src="').concat(t,'/embed/embed.js"><\/script>\n                    <script>showTVVoteSwingBarchart(\n                        document.getElementById("').concat(a,'"),\n                        {\n                            stylesheetFor: "').concat(i,'",\n                            eventDescriptions: ').concat(JSON.stringify(c),',\n                            regionType: "').concat(l,'",\n                            provinceName: "').concat(u,'",\n                            muniName: "').concat(s,'",\n                            muniCode: "').concat(m,'",\n                            iecId: "').concat(p,'",\n                            partyAbbrs: ').concat(JSON.stringify(f),",\n                            partyIecIds: ").concat(JSON.stringify(v),"\n                        });<\/script>").replace(/(\r\n|\n|\r)/gm,"")))))}}])&&Fn(n.prototype,a),i&&Fn(n,i),t}(),qn=zn;zn.__docgenInfo={description:"",methods:[{name:"onEventDescriptionChange",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onRegionTypeChange",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onPreview",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onExportAsPNG",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"BarChartEmbed"};var Xn=n("./src/components/RaceForSeatDonut/piechartEmbed.css"),Yn=n.n(Xn);function Jn(e){return(Jn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qn(e){return(Qn="function"===typeof Symbol&&"symbol"===Jn(Symbol.iterator)?function(e){return Jn(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Jn(e)})(e)}function $n(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ea(e,t){return!t||"object"!==Qn(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ta(e){return(ta=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function na(e,t){return(na=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var aa=Object(N.f)();function ra(e){return v.a[e]||Yn.a[e]||e}var oa=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=ea(this,ta(t).call(this,e))).state={elementId:"root",eventDescription:"2014 National Election",regionType:"national",provinceName:"",muniName:"",muniCode:"",iecId:"",electionEvents:[],stylesheetFor:"web",componentID:17},n}var n,a,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&na(e,t)}(t,p),n=t,(a=[{key:"componentDidMount",value:function(){var e=this;Object(N.a)().then(function(t){var n=t.data.allEvents;e.setState({electionEvents:n})}).catch(function(e){return console.error(e)})}},{key:"componentDidUpdate",value:function(){}},{key:"onEventDescriptionChange",value:function(e){-1==e.target.value.toLowerCase().indexOf("national")?this.setState({eventDescription:e.target.value,regionType:"province",provinceName:"Western Cape"}):this.setState({eventDescription:e.target.value,regionType:"national"})}},{key:"onRegionTypeChange",value:function(e){var t={regionType:e.target.value};this.setState(t)}},{key:"onPreview",value:function(e){Object(o.U)(b.a.CHART_PREVIEW,this.state)}},{key:"onExportAsPNG",value:function(e){Object(o.U)(b.a.EXPORT_PNG,this.state)}},{key:"render",value:function(){var e=this,t=d.a.DOMAIN,n=this.state,a=n.elementId,o=n.stylesheetFor,i=n.eventDescription,c=n.regionType,l=n.provinceName,u=n.muniName,s=n.muniCode,m=n.iecId,p=n.electionEvents,f=aa.filter(function(e){return e.name==l})[0];return r.a.createElement("div",null,r.a.createElement("h3",null," Race For Seat Bar Chart Embed Script Generation "),r.a.createElement("div",{className:ra("form-group")},r.a.createElement("label",null,"Element ID "),r.a.createElement("input",{type:"text",className:ra("form-control"),placeholder:"chart-container",onChange:function(t){return e.setState({elementId:t.target.value})}})),r.a.createElement("div",{className:ra("form-group")},r.a.createElement("label",null,"Stylesheet"),r.a.createElement("select",{className:ra("form-control"),value:o,onChange:function(t){return e.setState({stylesheetFor:t.target.value})}},r.a.createElement("option",{value:"tv"},"TV"),r.a.createElement("option",{value:"web"},"Web"),r.a.createElement("option",{value:"none"},"None"))),r.a.createElement("div",{className:ra("form-group")},r.a.createElement("label",null,"Event "),r.a.createElement("select",{className:ra("form-control"),value:i,onChange:this.onEventDescriptionChange.bind(this)},p.map(function(e){return r.a.createElement("option",{key:e.description,value:e.description},e.description)}))),"national"!=c&&r.a.createElement("div",{className:ra("form-group")},r.a.createElement("label",null,"Province Name"),r.a.createElement("select",{className:ra("form-control"),value:l,onChange:function(t){return e.setState({provinceName:t.target.value})}},r.a.createElement("option",{value:""},"Select ..."),aa&&aa.map(function(e){return r.a.createElement("option",{key:e.name,value:e.name},e.name)}))),"municipality"==c&&r.a.createElement("div",{className:ra("form-group")},r.a.createElement("label",null,"Municipality Name"),r.a.createElement("select",{className:ra("form-control"),value:u,onChange:function(t){return e.setState({muniName:t.target.value})}},r.a.createElement("option",{value:""},"Select ..."),f&&f.munis.map(function(e){return r.a.createElement("option",{key:e.muniName,value:e.muniName},e.muniName)}))),"municipality-vd"==c&&r.a.createElement("div",{className:ra("form-group")},r.a.createElement("label",null,"Municipality Code"),r.a.createElement("input",{type:"text",className:ra("form-control"),placeholder:"CPT",value:s,onChange:function(t){return e.setState({muniCode:t.target.value})},disabled:"national"==c})),"municipality-vd"==c&&r.a.createElement("div",{className:ra("form-group")},r.a.createElement("label",null,"Voting District Number"),r.a.createElement("input",{type:"text",className:ra("form-control"),placeholder:"97860055",value:m,onChange:function(t){return e.setState({iecId:t.target.value})},disabled:"national"==c})),r.a.createElement("div",{className:ra("form-group")},r.a.createElement("button",{type:"button",onClick:this.onPreview.bind(this),className:ra("btn")+" "+ra("btn-primary")},"Preview")),r.a.createElement("div",{className:ra("form-group")},r.a.createElement("button",{type:"button",onClick:this.onExportAsPNG.bind(this),className:ra("btn")+" "+ra("btn-primary")},"Export As PNG")),r.a.createElement("div",{className:ra("form-group")},r.a.createElement("label",null,"Embed Code"),r.a.createElement("div",{className:ra("embedcode")},r.a.createElement("span",null,'\n                    <div id="'.concat(a,'"></div>\n                    <script src="').concat(t,'/embed/embed.js"><\/script>\n                    <script>showSeatDonutChart(\n                        document.getElementById("').concat(a,'"),\n                        {\n                            stylesheetFor: "').concat(o,'",\n                            eventDescription: "').concat(i,'",\n                            regionType: "').concat(c,'",\n                            provinceName: "').concat(l,'",\n                            muniName: "').concat(u,'",\n                            muniCode: "').concat(s,'",\n                            iecId: "').concat(m,'"\n                        });<\/script>').replace(/(\r\n|\n|\r)/gm,"")))))}}])&&$n(n.prototype,a),i&&$n(n,i),t}(),ia=oa;oa.__docgenInfo={description:"",methods:[{name:"onEventDescriptionChange",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onRegionTypeChange",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onPreview",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onExportAsPNG",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"PieChartEmbed"};var ca=n("./src/components/SplitNatProv/barchartEmbed.css"),la=n.n(ca);function ua(e){return(ua="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sa(e){return(sa="function"===typeof Symbol&&"symbol"===ua(Symbol.iterator)?function(e){return ua(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":ua(e)})(e)}function ma(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function pa(e,t){return!t||"object"!==sa(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function da(e){return(da=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fa(e,t){return(fa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var va=Object(N.f)();function ya(e){return v.a[e]||la.a[e]||e}var ha=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=pa(this,da(t).call(this,e))).state={elementId:"root",eventDescriptions:["22 Apr 2009 National Election","22 Apr 2009 Provincial Election","2014 National Election","2014 Provincial Election"],regionType:"province",provinceName:"Western Cape",muniName:"",muniCode:"",iecId:"",numPartiesSplitNatProv:3,electionEvents:[],allParties:[],stylesheetFor:"web",componentID:18},n}var n,a,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fa(e,t)}(t,p),n=t,(a=[{key:"componentDidMount",value:function(){var e=this;Object(N.a)().then(function(t){var n=t.data.allEvents;e.setState({electionEvents:n})}).catch(function(e){return console.error(e)}),Object(N.d)().then(function(t){var n=t.data.allParties.edges.map(function(e){return e.node});n=n.filter(function(e,t,n){return t===n.findIndex(function(t){return t.iecId==e.iecId})}),e.setState({allParties:n})}).catch(function(e){return console.error(e)})}},{key:"componentDidUpdate",value:function(){}},{key:"onEventDescriptionChange",value:function(e){for(var t=e.target.options,n=[],a=0,r=t.length;a<r;a++)t[a].selected&&n.push(t[a].value);this.setState({eventDescriptions:n})}},{key:"onRegionTypeChange",value:function(e){var t={regionType:e.target.value};this.setState(t)}},{key:"onPreview",value:function(e){Object(o.U)(b.a.CHART_PREVIEW,this.state)}},{key:"onExportAsPNG",value:function(e){Object(o.U)(b.a.EXPORT_PNG,this.state)}},{key:"render",value:function(){var e=this,t=d.a.DOMAIN,n=this.state,a=n.elementId,o=n.stylesheetFor,i=n.eventDescriptions,c=n.regionType,l=n.provinceName,u=n.muniName,s=n.muniCode,m=n.iecId,p=n.electionEvents,f=(n.allParties,n.numPartiesSplitNatProv),v=va.filter(function(e){return e.name==l})[0];return r.a.createElement("div",null,r.a.createElement("h3",null," Race For Votes Comparison Bar Chart Embed Script Generation "),r.a.createElement("div",{className:ya("form-group")},r.a.createElement("label",null,"Element ID "),r.a.createElement("input",{type:"text",className:ya("form-control"),placeholder:"chart-container",onChange:function(t){return e.setState({elementId:t.target.value})}})),r.a.createElement("div",{className:ya("form-group")},r.a.createElement("label",null,"Stylesheet"),r.a.createElement("select",{className:ya("form-control"),value:o,onChange:function(t){return e.setState({stylesheetFor:t.target.value})}},r.a.createElement("option",{value:"tv"},"TV"),r.a.createElement("option",{value:"web"},"Web"),r.a.createElement("option",{value:"none"},"None"))),r.a.createElement("div",{className:ya("form-group")},r.a.createElement("label",null,"Events "),r.a.createElement("select",{multiple:!0,className:ya("form-control")+" "+ya("multievent-container"),value:i,onChange:this.onEventDescriptionChange.bind(this)},p.map(function(e){return r.a.createElement("option",{key:e.description,value:e.description},e.description)}))),r.a.createElement("div",{className:ya("form-group")},r.a.createElement("label",null,"Region Type "),r.a.createElement("select",{className:ya("form-control"),value:c,onChange:this.onRegionTypeChange.bind(this)},r.a.createElement("option",{value:"province"},"province"))),"national"!=c&&r.a.createElement("div",{className:ya("form-group")},r.a.createElement("label",null,"Province Name"),r.a.createElement("select",{className:ya("form-control"),value:l,onChange:function(t){return e.setState({provinceName:t.target.value})}},r.a.createElement("option",{value:""},"Select ..."),va&&va.map(function(e){return r.a.createElement("option",{key:e.name,value:e.name},e.name)}))),"municipality"==c&&r.a.createElement("div",{className:ya("form-group")},r.a.createElement("label",null,"Municipality Name"),r.a.createElement("select",{className:ya("form-control"),value:u,onChange:function(t){return e.setState({muniName:t.target.value})}},r.a.createElement("option",{value:""},"Select ..."),v&&v.munis.map(function(e){return r.a.createElement("option",{key:e.muniName,value:e.muniName},e.muniName)}))),"municipality-vd"==c&&r.a.createElement("div",{className:ya("form-group")},r.a.createElement("label",null,"Municipality Code"),r.a.createElement("input",{type:"text",className:ya("form-control"),placeholder:"CPT",value:s,onChange:function(t){return e.setState({muniCode:t.target.value})}})),"municipality-vd"==c&&r.a.createElement("div",{className:ya("form-group")},r.a.createElement("label",null,"Voting District Number"),r.a.createElement("input",{type:"text",className:ya("form-control"),placeholder:"97860055",value:m,onChange:function(t){return e.setState({iecId:t.target.value})}})),r.a.createElement("div",{className:ya("form-group")},r.a.createElement("label",null,"Number Of Parties"),r.a.createElement("input",{type:"number",className:ya("form-control"),placeholder:"5",value:f,onChange:function(t){return e.setState({numPartiesSplitNatProv:t.target.value})}})),r.a.createElement("div",{className:ya("form-group")},r.a.createElement("button",{type:"button",onClick:this.onPreview.bind(this),className:ya("btn")+" "+ya("btn-primary")},"Preview")),r.a.createElement("div",{className:ya("form-group")},r.a.createElement("button",{type:"button",onClick:this.onExportAsPNG.bind(this),className:ya("btn")+" "+ya("btn-primary")},"Export As PNG")),r.a.createElement("div",{className:ya("form-group")},r.a.createElement("label",null,"Embed Code"),r.a.createElement("div",{className:ya("embedcode")},r.a.createElement("span",null,'\n                    <div id="'.concat(a,'"></div>\n                    <script src="').concat(t,'/embed/embed.js"><\/script>\n                    <script>showSplitNatProvChart(\n                        document.getElementById("').concat(a,'"),\n                        {\n                            stylesheetFor: "').concat(o,'",\n                            eventDescriptions: ').concat(JSON.stringify(i),',\n                            regionType: "').concat(c,'",\n                            provinceName: "').concat(l,'",\n                            muniName: "').concat(u,'",\n                            muniCode: "').concat(s,'",\n                            iecId: "').concat(m,'",\n                        });<\/script>').replace(/(\r\n|\n|\r)/gm,"")))))}}])&&ma(n.prototype,a),i&&ma(n,i),t}(),ba=ha;ha.__docgenInfo={description:"",methods:[{name:"onEventDescriptionChange",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onRegionTypeChange",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onPreview",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null},{name:"onExportAsPNG",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"BarChartEmbed"},n.d(t,"a",function(){return k}),n.d(t,"f",function(){return F}),n.d(t,"k",function(){return $}),n.d(t,"c",function(){return me}),n.d(t,"q",function(){return Pe}),n.d(t,"p",function(){return Re}),n.d(t,"b",function(){return ze}),n.d(t,"e",function(){return ot}),n.d(t,"d",function(){return ht}),n.d(t,"g",function(){return kt}),n.d(t,"i",function(){return Ft}),n.d(t,"r",function(){return $t}),n.d(t,"l",function(){return pn}),n.d(t,"m",function(){return Sn}),n.d(t,"n",function(){return Gn}),n.d(t,"o",function(){return qn}),n.d(t,"h",function(){return ia}),n.d(t,"j",function(){return ba})},"./src/components/index.js":function(e,t,n){"use strict";var a=n("./node_modules/react/index.js"),r=n.n(a),o=n("./node_modules/d3/index.js"),i=n("./src/components/BarChart/barchart.css"),c=n.n(i),l=n("./src/utils/index.js"),u=(n("./node_modules/os-browserify/browser.js"),n("./src/config/index.js"));function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e){return(m="function"===typeof Symbol&&"symbol"===s(Symbol.iterator)?function(e){return s(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":s(e)})(e)}function p(e,t,n,a,r){r||(r={}),r.chartType||(r.chartType="Race For Votes"),r.yAxisLabel||(r.yAxisLabel="PERCENTAGE VOTES"),r.yValue||(r.yValue=function(e){return e.percOfVotes}),r.yValueFormat||(r.yValueFormat=function(e){return e+"%"});var i=70,c=20;var s=["blue","yellow","red"],p=Object(l.c)(e,700+i,200+c+(r.showLegend?50:0)),d=Object(l.d)(a),f=o.scaleBand().rangeRound([i,700]),v=o.scaleLinear().rangeRound([200,c]);p.append("g").attr("transform","translate(20,"+(100+c/2)+")").append("text").attr("class",a(u.a.CSS_PREFIX+"percentage-label")).attr("transform","rotate(-90)").text(r.yAxisLabel).attr("text-anchor","middle"),p.append("g").attr("class","x axis").attr("transform","translate(0,200)"),p.append("g").attr("class","y axis").attr("transform","translate("+i+", 0)");var y=p.append("g").attr("class",a("bar-container")),h=p.append("g").attr("class",a("bartext-container")),b=Object(l.b)(p,350,100);this.draw=function(e,t){if(!e)return b.text("chart data is not available"),y.selectAll("rect").remove(),void h.selectAll("text").remove();b.text("");var n={},c={};function u(e,t){return n[e.split("/")[0]]||s[t%s.length]}function N(e,n){return r.noXaxisByParty?"object"==m(t)?t[e.name]:"function"==typeof t?t(e,n):t:u(e.partyInfo.name,n)}r.noXaxisByParty||t&&t.data.allParties.edges&&t.data.allParties.edges.forEach(function(e){n[e.node.name]=e.node.colour,c[e.node.name]=e.node.abbreviation}),f.domain(e.map(function(e){return e.name}));var E=[0,100];if(r.dynamicYAxisFromValues){var g=o.max(e,function(e){return parseFloat(r.yValue(e))});r.customizeDynamicMaxValue?E[1]=r.customizeDynamicMaxValue(g):E[1]=g+1}v.domain(E),p.select(".x.axis").transition().duration(300).call(o.axisBottom(f)),p.select(".y.axis").transition().duration(300).call(o.axisLeft(v).ticks(6).tickFormat(function(e){return r.yValueFormat(e)}));var C=y.selectAll(".".concat(a("bar"))).data(e);C.exit().transition().duration(300).attr("y",function(e){return v(0)}).attr("height",0).style("fill-opacity",1e-6).remove(),C.enter().append("rect").attr("class",function(e){return a("bar")+" bar_"+e.name}).attr("x",function(e){return f(e.name)+f.bandwidth()/20}).attr("width",9*f.bandwidth()/10).attr("fill",function(e,t){return N(e,t)}).on("mousemove",function(e,t){o.select(this).attr("opacity",.8),d.transition().duration(200).style("opacity",.9),d.html(function(e,t){return r.noXaxisByParty?e.name+" : "+r.yValueFormat(r.yValue(e)):Object(l.i)(e.partyInfo.name)+" : "+r.yValueFormat(r.yValue(e))}(e)).style("left",o.event.pageX+"px").style("top",o.event.pageY-28+"px")}).on("mouseout",function(e){o.select(this).attr("opacity",1),d.transition().duration(200).style("opacity",0)}).attr("y",function(e){return v(0)}).attr("height",0),y.selectAll(".".concat(a("bar"))).data(e).attr("fill",function(e,t){return N(e,t)}).attr("x",function(e){return f(e.name)+f.bandwidth()/20}).attr("width",9*f.bandwidth()/10).transition().duration(300).attr("y",function(e){return v(Number(r.yValue(e)))}).attr("height",function(e){return 200-v(Number(r.yValue(e)))});var P=h.selectAll(".".concat(a("bartext"))).data(e);if(P.exit().transition().duration(300).attr("y",function(e){return v(0)-5}).style("fill-opacity",1e-6).remove(),P.enter().append("text").attr("class",a("bartext")).attr("x",function(e){return f(e.name)+f.bandwidth()/2}).attr("text-anchor","middle").attr("font-size","12px").attr("y",function(e){return v(0)-5}),h.selectAll(".".concat(a("bartext"))).data(e).attr("x",function(e){return f(e.name)+f.bandwidth()/2}).text(function(e){return r.yValueFormat(r.yValue(e))}).transition().duration(300).attr("y",function(e){return v(Number(r.yValue(e)))-5}),r.showLegend){var S=[],I=[];e.forEach(function(e){var t=e.partyInfo,n=t.name;-1===I.indexOf(t.iecId)&&t.iecId&&(S.push(n),I.push(t.iecId))}),p.selectAll(".".concat(a("legend"))).remove();var w=p.selectAll(".".concat(a("legend"))).data(S).enter().append("g").attr("class",a("legend")).attr("transform",function(e,t){return"translate("+function(e){var t=[i+e%5*100,230+40*parseInt(e/5)];return S.length<6&&(t[0]+=100*(6-S.length)/2),t}(t)+")"});w.append("rect").attr("width",10).attr("height",10).attr("x",0).attr("y",0).attr("fill",function(e,t){return u(e)}),w.append("text").attr("x",30).attr("y",10).style("font-size","12px").text(function(e){return c[e]})}},this.destroy=function(){p.remove()}}var d=n("./node_modules/save-svg-as-png/lib/saveSvgAsPng.js"),f=n.n(d),v=n("./src/events/index.js"),y=n("./src/api/index.js");function h(e){return(h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e){return(b="function"===typeof Symbol&&"symbol"===h(Symbol.iterator)?function(e){return h(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":h(e)})(e)}function N(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var P;function S(e){return c.a[e]||e}function I(e){return S(u.a.CSS_PREFIX+e)}var w={chartType:"Race For Votes",yAxisLabel:"PERCENTAGE VOTES",dynamicYAxisFromValues:!0,customizeDynamicMaxValue:function(e){return Math.min(100,1.5*e)},yValue:function(e){return e.percOfVotes},yValueFormat:function(e){return e+"%"}},O=function(e){function t(e){var n,a,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,(n=!(r=E(t).call(this,e))||"object"!==b(r)&&"function"!==typeof r?C(a):r).state={comp:"votes-default",numParties:5,eventDescription:"2019 National Election",regionType:"national",provinceName:"",muniName:"",muniCode:"",iecId:"",stylesheetFor:"web",componentID:1},Object(l.e)(n.state,e),n.chart=null,n.refreshIntervalID=0,n.exportAsPNG=n.exportAsPNG.bind(C(C(n))),n.exportAsPNGUri=n.exportAsPNGUri.bind(C(C(n))),n.handleRegionChange=l.y.bind(C(C(n))),n.handlePreviewEvent=n.handlePreviewEvent.bind(C(C(n))),n}var n,i,c;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,a["Component"]),n=t,(i=[{key:"componentDidMount",value:function(){var e=this;this.draw(this.getContainer(),this.state),this.refreshIntervalID=setInterval(function(){e.draw(e.getContainer(),e.state)},3e4),document.addEventListener(v.a.EXPORT_PNG,this.exportAsPNG),document.addEventListener(v.a.REGION_CHANGE,this.handleRegionChange),document.addEventListener(v.a.CHART_PREVIEW,this.handlePreviewEvent)}},{key:"componentDidUpdate",value:function(){this.draw(this.getContainer(),this.state)}},{key:"componentWillUnmount",value:function(){this.chart&&(this.chart.destroy(),this.chart=null),document.removeEventListener(v.a.EXPORT_PNG,this.exportAsPNG),document.removeEventListener(v.a.REGION_CHANGE,this.handleRegionChange),document.removeEventListener(v.a.CHART_PREVIEW,this.handlePreviewEvent),clearInterval(this.refreshIntervalID)}},{key:"exportAsPNG",value:function(e){e.detail.componentID===this.state.componentID&&f.a.saveSvgAsPng(this.refs.vizcontainer.childNodes[0],"race-for-votes-barchart(".concat(Object(l.s)(this.state),").png"))}},{key:"exportAsPNGUri",value:function(){var e=this;return new Promise(function(t,n){f.a.svgAsPngUri(e.refs.vizcontainer.childNodes[0],{},function(e){t(e.split(",")[1])})})}},{key:"handlePreviewEvent",value:function(e){var t=e.detail;this.chart&&this.chart.destroy(),this.chart=new p(this.getContainer(),null,null,S,w),this.setState(t)}},{key:"getContainer",value:function(){return console.log(o),o.select(this.refs.vizcontainer)}},{key:"render",value:function(){var e=this.state,t=e.stylesheetFor,n=e.componentID;return r.a.createElement("div",{className:I("barchart")+" "+I("stylesheet-".concat(t))},-1e3!==n&&r.a.createElement("div",{className:I("chart-title")},w.chartType," (",Object(l.s)(this.state),"): "),r.a.createElement("div",{ref:"vizcontainer",className:I("chart-body")}))}},{key:"draw",value:function(e,t){var n=this,a=[Object(y.o)(t)];if(!P){var r=Object(y.d)();a.push(r)}Promise.all(a).then(function(a){var r=a[0];P=P||a[1],n.drawGraph(e,t,r,P)}).catch(function(e){return console.error(e)})}},{key:"drawGraph",value:function(e,t,n,a){var r=Object(l.R)(n,t);if("votes-myvd"===t.comp){var o;o=r?Object(l.f)(n):{iecId:""};var i=!1;Object.keys(o).forEach(function(e){t[e]!==o[e]&&(i=!0)}),i&&Object(l.U)(v.a.REGION_CHANGE,o)}this.chart||(this.chart=new p(e,null,null,S,w)),this.chart.draw(r,a)}}])&&N(n.prototype,i),c&&N(n,c),t}(),_=O;function k(e){return(k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e){return(x="function"===typeof Symbol&&"symbol"===k(Symbol.iterator)?function(e){return k(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":k(e)})(e)}function T(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function D(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}O.__docgenInfo={description:"",methods:[{name:"exportAsPNG",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"exportAsPNGUri",docblock:null,modifiers:[],params:[],returns:null},{name:"handlePreviewEvent",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"getContainer",docblock:null,modifiers:[],params:[],returns:null},{name:"draw",docblock:null,modifiers:[],params:[{name:"container",type:null},{name:"props",type:null}],returns:null},{name:"drawGraph",docblock:null,modifiers:[],params:[{name:"container",type:null},{name:"props",type:null},{name:"data",type:null},{name:"partyColorsData",type:null}],returns:null}],displayName:"BarChart"};var R,G={chartType:"Race For Seats",yAxisLabel:"Seats Count",dynamicYAxisFromValues:!0,yValue:function(e){return e.seats},yValueFormat:function(e){return e}};function L(e){return c.a[e]||e}function V(e){return L(u.a.CSS_PREFIX+e)}var M=function(e){function t(e){var n,a,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,(n=!(r=A(t).call(this,e))||"object"!==x(r)&&"function"!==typeof r?D(a):r).state={numParties:5,eventDescription:"2019 National Election",regionType:"national",provinceName:"",muniName:"",muniCode:"",iecId:"",stylesheetFor:"web",componentID:6},Object(l.e)(n.state,e),n.chart=null,n.refreshIntervalID=0,n.exportAsPNG=n.exportAsPNG.bind(D(D(n))),n.exportAsPNGUri=n.exportAsPNGUri.bind(D(D(n))),n.handleRegionChange=l.y.bind(D(D(n))),n.handlePreviewEvent=n.handlePreviewEvent.bind(D(D(n))),n}var n,i,c;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(t,a["Component"]),n=t,(i=[{key:"componentDidMount",value:function(){var e=this;this.draw(this.getContainer(),this.state),this.refreshIntervalID=setInterval(function(){e.draw(e.getContainer(),e.state)},3e4),document.addEventListener(v.a.EXPORT_PNG,this.exportAsPNG),document.addEventListener(v.a.REGION_CHANGE,this.handleRegionChange),document.addEventListener(v.a.CHART_PREVIEW,this.handlePreviewEvent)}},{key:"componentDidUpdate",value:function(){this.draw(this.getContainer(),this.state)}},{key:"componentWillUnmount",value:function(){this.chart=null,document.removeEventListener(v.a.EXPORT_PNG,this.exportAsPNG),document.removeEventListener(v.a.REGION_CHANGE,this.handleRegionChange),document.removeEventListener(v.a.CHART_PREVIEW,this.handlePreviewEvent),clearInterval(this.refreshIntervalID)}},{key:"exportAsPNGUri",value:function(){var e=this;return new Promise(function(t,n){f.a.svgAsPngUri(e.refs.vizcontainer.childNodes[0],{},function(e){t(e.split(",")[1])})})}},{key:"exportAsPNG",value:function(e){e.detail.componentID==this.state.componentID&&f.a.saveSvgAsPng(this.refs.vizcontainer.childNodes[0],"race-for-seats-barchart(".concat(Object(l.m)(this.state),").png"))}},{key:"handlePreviewEvent",value:function(e){var t=e.detail;this.chart&&this.chart.destroy(),this.chart=new p(this.getContainer(),null,null,L,G),this.setState(t)}},{key:"getContainer",value:function(){return o.select(this.refs.vizcontainer)}},{key:"render",value:function(){var e=this.state,t=e.stylesheetFor,n=e.componentID;return r.a.createElement("div",{className:V("barchart")+" "+V("stylesheet-".concat(t))},-1e3!=n&&r.a.createElement("div",{className:V("chart-title")},G.chartType," (",Object(l.m)(this.state),"): "),r.a.createElement("div",{ref:"vizcontainer",className:V("chart-body")}))}},{key:"draw",value:function(e,t){var n=this,a=[Object(y.g)(t)];if(!R){var r=Object(y.d)();a.push(r)}Promise.all(a).then(function(a){var r=a[0];R=R||a[1],n.drawGraph(e,t,r,R)}).catch(function(e){return console.error(e)})}},{key:"drawGraph",value:function(e,t,n,a){var r=Object(l.K)(n,t);this.chart||(this.chart=new p(e,null,null,L,G)),this.chart.draw(r,a)}}])&&T(n.prototype,i),c&&T(n,c),t}(),W=M;function F(e){return(F="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(e){return(B="function"===typeof Symbol&&"symbol"===F(Symbol.iterator)?function(e){return F(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":F(e)})(e)}function U(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function K(e,t){return(K=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function H(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}M.__docgenInfo={description:"",methods:[{name:"exportAsPNGUri",docblock:null,modifiers:[],params:[],returns:null},{name:"exportAsPNG",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handlePreviewEvent",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"getContainer",docblock:null,modifiers:[],params:[],returns:null},{name:"draw",docblock:null,modifiers:[],params:[{name:"container",type:null},{name:"props",type:null}],returns:null},{name:"drawGraph",docblock:null,modifiers:[],params:[{name:"container",type:null},{name:"props",type:null},{name:"data",type:null},{name:"partyColorsData",type:null}],returns:null}],displayName:"BarChart"};var z={chartType:"Spoilt vs Valid Votes",yAxisLabel:"PERCENTAGE VOTES",noXaxisByParty:!0,yValue:function(e){return e.percent},yValueFormat:function(e){return e+"%"}};function q(e){return c.a[e]||e}function X(e){return q(u.a.CSS_PREFIX+e)}var Y=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=function(e,t){return!t||"object"!==B(t)&&"function"!==typeof t?H(e):t}(this,Z(t).call(this,e));H(H(n));return n.state={numParties:5,eventDescription:"2019 National Election",regionType:"national",provinceName:"",muniName:"",muniCode:"",iecId:"",stylesheetFor:"web",componentID:9},Object(l.e)(n.state,e),n.chart=null,n.refreshIntervalID=0,n.exportAsPNG=n.exportAsPNG.bind(H(H(n))),n.exportAsPNGUri=n.exportAsPNGUri.bind(H(H(n))),n.handleRegionChange=l.y.bind(H(H(n))),n.handlePreviewEvent=n.handlePreviewEvent.bind(H(H(n))),n}var n,i,c;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&K(e,t)}(t,a["Component"]),n=t,(i=[{key:"componentDidMount",value:function(){var e=this;this.draw(this.getContainer(),this.state),this.refreshIntervalID=setInterval(function(){e.draw(e.getContainer(),e.state)},3e4),document.addEventListener(v.a.EXPORT_PNG,this.exportAsPNG),document.addEventListener(v.a.REGION_CHANGE,this.handleRegionChange),document.addEventListener(v.a.CHART_PREVIEW,this.handlePreviewEvent)}},{key:"componentDidUpdate",value:function(){this.draw(this.getContainer(),this.state)}},{key:"componentWillUnmount",value:function(){this.chart=null,document.removeEventListener(v.a.EXPORT_PNG,this.exportAsPNG),document.removeEventListener(v.a.REGION_CHANGE,this.handleRegionChange),document.removeEventListener(v.a.CHART_PREVIEW,this.handlePreviewEvent),clearInterval(this.refreshIntervalID)}},{key:"exportAsPNGUri",value:function(){var e=this;return new Promise(function(t,n){f.a.svgAsPngUri(e.refs.vizcontainer.childNodes[0],{},function(e){t(e.split(",")[1])})})}},{key:"exportAsPNG",value:function(e){e.detail.componentID===this.state.componentID&&f.a.saveSvgAsPng(this.refs.vizcontainer.childNodes[0],"spoilt-barchart(".concat(Object(l.s)(this.state),").png"))}},{key:"handlePreviewEvent",value:function(e){var t=e.detail;this.chart&&this.chart.destroy(),this.chart=new p(this.getContainer(),null,null,q,z),this.setState(t)}},{key:"getContainer",value:function(){return o.select(this.refs.vizcontainer)}},{key:"render",value:function(){var e=this.state,t=e.stylesheetFor,n=e.componentID;return r.a.createElement("div",{className:X("barchart")+" "+X("stylesheet-".concat(t))},-1e3!==n&&r.a.createElement("div",{className:X("chart-title")},z.chartType," (",Object(l.s)(this.state),"): "),r.a.createElement("div",{ref:"vizcontainer",className:X("chart-body")}))}},{key:"draw",value:function(e,t){var n=this,a=[Object(y.i)(t)];Promise.all(a).then(function(a){var r=a[0];n.drawGraph(e,t,r)}).catch(function(e){return console.error(e)})}},{key:"drawGraph",value:function(e,t,n){var a=Object(l.L)(n,t);this.chart||(this.chart=new p(e,null,null,q,z)),this.chart.draw(a,{Valid:"rgb(0,255,0)",Spoilt:"rgb(255,0,0)"})}}])&&U(n.prototype,i),c&&U(n,c),t}(),J=Y;Y.__docgenInfo={description:"",methods:[{name:"exportAsPNGUri",docblock:null,modifiers:[],params:[],returns:null},{name:"exportAsPNG",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handlePreviewEvent",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"getContainer",docblock:null,modifiers:[],params:[],returns:null},{name:"draw",docblock:null,modifiers:[],params:[{name:"container",type:null},{name:"props",type:null}],returns:null},{name:"drawGraph",docblock:null,modifiers:[],params:[{name:"container",type:null},{name:"props",type:null},{name:"data",type:null}],returns:null}],displayName:"BarChart"};var Q=n("./node_modules/topojson-client/index.js"),$=n("./node_modules/polylabel/index.js"),ee=n.n($),te=n("./src/components/Map/map.css"),ne=n.n(te),ae=n("./node_modules/react-loading/dist/react-loading.js"),re=n.n(ae);function oe(e){return(oe="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ie(e){return(ie="function"===typeof Symbol&&"symbol"===oe(Symbol.iterator)?function(e){return oe(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":oe(e)})(e)}function ce(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function le(e){return(le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ue(e,t){return(ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function se(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var me,pe="#9c9c9c";function de(e){return ne.a[e]||e}function fe(e){return de(u.a.CSS_PREFIX+e)}var ve=function(e){function t(e){var n,a,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,(n=!(r=le(t).call(this,e))||"object"!==ie(r)&&"function"!==typeof r?se(a):r).state={eventDescription:"2019 National Election",regionType:"national",provinceName:"",muniName:"",muniCode:"",iecId:"",disableNavigation:!1,stylesheetFor:"web",componentID:3},Object(l.e)(n.state,e),n.refreshIntervalID=0,n.exportAsPNGUri=n.exportAsPNGUri.bind(se(se(n))),n.exportAsPNG=n.exportAsPNG.bind(se(se(n))),n.handlePreviewEvent=n.handlePreviewEvent.bind(se(se(n))),n}var n,i,c;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ue(e,t)}(t,a["Component"]),n=t,(i=[{key:"draw",value:function(e,t){this.drawGraph(e,t)}},{key:"componentDidMount",value:function(){var e=this;this.draw(this.getContainer(),this.state),this.refreshIntervalID=setInterval(function(){e.draw(e.getContainer(),e.state)},3e4),document.addEventListener(v.a.EXPORT_PNG,this.exportAsPNG),document.addEventListener(v.a.MAP_PREVIEW,this.handlePreviewEvent)}},{key:"componentWillUnmount",value:function(){this.getContainer().selectAll("svg").remove(),document.removeEventListener(v.a.EXPORT_PNG,this.exportAsPNG),document.removeEventListener(v.a.MAP_PREVIEW,this.handlePreviewEvent)}},{key:"componentDidUpdate",value:function(e,t){JSON.stringify(t)!==JSON.stringify(this.state)&&this.draw(this.getContainer(),this.state)}},{key:"exportAsPNGUri",value:function(){var e=this;return new Promise(function(t,n){var a=950,r=890,o=document.createElement("canvas");o.setAttribute("width",a),o.setAttribute("height",r),window.canvg(o,e.refs.vizcontainer.innerHTML,{ignoreDimensions:!0,scaleWidth:a,scaleHeight:r}),t(o.toDataURL("image/png;base64").split(",")[1])})}},{key:"exportAsPNG",value:function(e){if(e.detail.componentID===this.state.componentID){var t=950,n=890,a=document.createElement("canvas");if(a.setAttribute("width",t),a.setAttribute("height",n),!window.canvg)return console.error("canvg module not available");window.canvg(a,this.refs.vizcontainer.innerHTML,{ignoreDimensions:!0,scaleWidth:t,scaleHeight:n});var r,o=a,i="race-for-votes-map(".concat(Object(l.s)(this.state),").png"),c=document.createElement("a");c.download=i,c.href=o.toDataURL("image/png;base64"),document.createEvent?((r=document.createEvent("MouseEvents")).initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),c.dispatchEvent(r)):c.fireEvent&&c.fireEvent("onclick")}}},{key:"handlePreviewEvent",value:function(e){if(!this.state.disableNavigation){var t=e.detail;this.setState(t)}}},{key:"getContainer",value:function(){return o.select(this.refs.vizcontainer)}},{key:"getLoadingSpinner",value:function(){return o.select(this.refs.loading)}},{key:"render",value:function(){var e=this.state,t=e.stylesheetFor,n=e.componentID;return r.a.createElement("div",{className:de("map-widget")+" "+fe("stylesheet-".concat(t))},-1e3!==n&&r.a.createElement("div",{className:fe("map-title")},Object(l.s)(this.state)),r.a.createElement("div",{ref:"vizcontainer",className:de("map")}),r.a.createElement("div",{className:fe("loading-spinner"),ref:"loading"},r.a.createElement(re.a,{type:"spin",color:"#777",height:100,width:100})))}},{key:"drawGraph",value:function(e,t){var n=this,a=this,r=u.a.DOMAIN+"/mapdata/"+Object(l.r)(a.state);a.getLoadingSpinner().style("display","block").transition().duration(200).style("opacity",1);var i=Object(l.d)(de),c=800;e.selectAll("svg").remove();var s=e.append("svg").attr("preserveAspectRatio","xMinYMin meet").attr("viewBox","0 0 950 "+(c+90)).classed("svg-content",!0),m=o.json(r),p=[Object(y.b)(t)];if(!me){var d=Object(y.d)();p.push(d)}m.then(function(e){var n=e;Promise.all(p).then(function(e){var u=Object(l.G)(e[0],t);me=me||e[1];var m,p={},d={};function f(e){return e&&p[e.split("/")[0]]||pe}function y(e,t){var n,r=a.state.regionType;if("national"===r){var o=e.properties.SPROVINCE;n=u[o]}else if("province"===r){var i=Object(l.j)(e.properties);n=u[i]}else if("municipality"===r){var c=Object(l.k)(e.properties);n=u[c]}else{c=Object(l.k)(e.properties);n=u[c]}return n}if(me&&me.data.allParties.edges&&me.data.allParties.edges.forEach(function(e){p[e.node.name]=e.node.colour,d[e.node.name]=e.node.abbreviation}),-1!==r.indexOf(".topojson"))if("municipality"==(C=a.state.regionType)){if(!n.objects[a.state.muniCode])return;n=Q.a(n,n.objects[a.state.muniCode])}else{if(!n.objects[a.state.iecId])return;n=Q.a(n,n.objects[a.state.iecId])}m=n.features;var h=o.geoMercator().fitSize([900,c],n),b=o.geoPath().projection(h);s.selectAll(".".concat(de("region"))).data(m).enter().append("path").attr("class",de("region")).attr("stroke","#eeeeee").attr("fill",function(e,t){return f(y(e))}).attr("id",function(e,t){return"region-".concat(t)}).attr("d",b);var N=[],E=[];m.forEach(function(e,t){var n=y(e);n||(n=""),-1==N.indexOf(n)?(N.push(n),E.push(1)):E[N.indexOf(n)]++}),console.log("parties",N),console.log("availableCnt",E),N.sort(function(e,t){return e&&e.length?t&&t.length?E[N.indexOf(t)]-E[N.indexOf(e)]:-1:1});var g=s.selectAll(".".concat(de("legend"))).data(N).enter().append("g").attr("class",de("legend")).attr("transform",function(e,t){return"translate("+function(e){return[e%5*150,c+10+40*parseInt(e/5)]}(t)+")"});if(g.append("rect").attr("width",20).attr("height",20).attr("x",0).attr("y",0).attr("fill",function(e,t){return f(e)}),g.append("text").attr("x",30).attr("y",16).text(function(e){return d[e]||"No results available"}),-1==a.state.regionType.indexOf("municipality")&&s.selectAll(".place-label").data(m).enter().append("text").attr("class","place-label").attr("font-size","12px").attr("transform",function(e){var t,n;return"Polygon"===e.geometry.type?(t=ee()(e.geometry.coordinates),(n=h(t))[1]-=12,"translate("+n+")"):(t=ee()(e.geometry.coordinates[0]),(n=h(t))[1]-=5,"translate("+n+")")}).attr("dy",".35em").style("text-anchor","middle").text(function(e){return Object(l.w)(e.properties,a.state)}),-1==a.state.regionType.indexOf("municipality")&&Object(l.g)(),s.selectAll(".eventLayer").data(m).enter().append("path").attr("d",b).attr("class","eventLayer").attr("id",function(e,t){return"eventLayer-".concat(t)}).attr("fill","transparent").on("mouseover",function(e,t){o.select("#region-".concat(t)).attr("stroke-width",3).style("fill-opacity",.8)}).on("mousemove",function(e,t){var n;i.transition().duration(200).style("opacity",1),n=2019==Object(l.x)(a.state.eventDescription)?"no results available":"no previous results available";var r=y(e),c=Object(l.w)(e.properties,a.state);2019==Object(l.x)(a.state.eventDescription)||r||(c="province"===a.state.regionType?"New municipality":"New voting district");var u="undefined"!==typeof r&&r?c+" : "+r:c+" : "+n;i.html(u).style("left",o.event.pageX+"px").style("top",o.event.pageY-28+"px")}).on("mouseout",function(e,t){o.select("#region-".concat(t)).attr("stroke-width",1).style("fill-opacity",1),"municipality"!==a.state.regionType&&i.transition().duration(200).style("opacity",0)}).on("click",function(e,t){i.transition().duration(200).style("opacity",0);var n=a.state.regionType;if("national"===n)r={regionType:"province",provinceName:e.properties.SPROVINCE};else if("province"===n)r={regionType:"municipality",provinceName:a.state.provinceName,muniName:e.properties.smunicipal,muniCode:Object(l.j)(e.properties)};else{if("municipality"!==n)return;var r={regionType:"municipality-vd",provinceName:a.state.provinceName,muniName:a.state.muniName,muniCode:a.state.muniCode,iecId:Object(l.k)(e.properties)}}y(e)&&(Object(l.U)(v.a.REGION_CHANGE,r),a.state.disableNavigation||a.setState(r))}),!a.state.disableNavigation){var C,P=function(e,t,n){n&&e.append("span").html(" > "),e.append("span").style("height","30px").style("cursor","default").html(t)},S=function(e,t,n,r){r&&e.append("span").html(" > "),e.append("a").style("height","30px").style("cursor","pointer").html(t).on("click",function(){!function(e){var t;(t={regionType:a.state.regionType,provinceName:a.state.provinceName,muniName:a.state.muniName,muniCode:a.state.muniCode,iecId:a.state.iecId}).regionType=e,Object(l.U)(v.a.REGION_CHANGE,t),a.setState(t)}(n)})},I=s.append("foreignObject").attr("x",0).attr("y",10).attr("width",500).attr("height",30).attr("class",de("map-controls")).append("xhtml:div");"national"==(C=a.state.regionType)?P(I,"South Africa",!1):(S(I,"South Africa","national",!1),"province"==C?P(I,a.state.provinceName,!0):(S(I,a.state.provinceName,"province",!0),"municipality"==C?P(I,a.state.muniCode,!0):(S(I,a.state.muniCode,"municipality",!0),P(I,a.state.iecId,!0))))}a.getLoadingSpinner().style("display","none")}).catch(function(e){console.error(e),console.log("failed to get data from server")})}).catch(function(e){if(console.error(e),a.getLoadingSpinner().style("display","none"),!a.state.disableNavigation){var t=Object(l.s)(n.state),r=a.state.regionType,o={regionType:a.state.regionType,provinceName:a.state.provinceName,muniName:a.state.muniName,muniCode:a.state.muniCode,iecId:a.state.iecId};"province"===r?o.regionType="national":"municipality"===r?o.regionType="province":"municipality-vd"===r&&(o.regionType="municipality"),Object(l.U)(v.a.REGION_CHANGE,o),a.setState(o),setTimeout(function(){"national"==r||"province"==r?console.log("Can't get map data for $currentRegionName"):alert("".concat(t," has been disestablished"))},300)}})}}])&&ce(n.prototype,i),c&&ce(n,c),t}(),ye=ve;function he(e){return(he="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function be(e){return(be="function"===typeof Symbol&&"symbol"===he(Symbol.iterator)?function(e){return he(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":he(e)})(e)}function Ne(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Ee(e){return(Ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ge(e,t){return(ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ce(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}ve.__docgenInfo={description:"",methods:[{name:"draw",docblock:null,modifiers:[],params:[{name:"container",type:null},{name:"props",type:null}],returns:null},{name:"exportAsPNGUri",docblock:null,modifiers:[],params:[],returns:null},{name:"exportAsPNG",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handlePreviewEvent",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"getContainer",docblock:null,modifiers:[],params:[],returns:null},{name:"getLoadingSpinner",docblock:null,modifiers:[],params:[],returns:null},{name:"drawGraph",docblock:null,modifiers:[],params:[{name:"container",type:null},{name:"props",type:null}],returns:null}],displayName:"Map"};function Pe(e){return ne.a[e]||e}function Se(e){return Pe(u.a.CSS_PREFIX+e)}Object(y.f)();var Ie=function(e){function t(e){var n,a,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,(n=!(r=Ee(t).call(this,e))||"object"!==be(r)&&"function"!==typeof r?Ce(a):r).state={isTurnout:!0,disableNavigation:!1,eventDescription:"2019 National Election",regionType:"national",provinceName:"",muniName:"",muniCode:"",iecId:"",stylesheetFor:"web",componentID:11},Object(l.e)(n.state,e),console.log("updatedState",n.state,e),n.refreshIntervalID=0,n.exportAsPNGUri=n.exportAsPNGUri.bind(Ce(Ce(n))),n.exportAsPNG=n.exportAsPNG.bind(Ce(Ce(n))),n.handlePreviewEvent=n.handlePreviewEvent.bind(Ce(Ce(n))),n}var n,i,c;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ge(e,t)}(t,a["Component"]),n=t,(i=[{key:"draw",value:function(e,t){this.drawGraph(e,t)}},{key:"componentDidMount",value:function(){var e=this;this.draw(this.getContainer(),this.state),this.refreshIntervalID=setInterval(function(){e.draw(e.getContainer(),e.state)},3e4),document.addEventListener(v.a.EXPORT_PNG,this.exportAsPNG),document.addEventListener(v.a.MAP_PREVIEW,this.handlePreviewEvent)}},{key:"componentWillUnmount",value:function(){this.getContainer().selectAll("svg").remove(),document.removeEventListener(v.a.EXPORT_PNG,this.exportAsPNG),document.removeEventListener(v.a.MAP_PREVIEW,this.handlePreviewEvent)}},{key:"componentDidUpdate",value:function(e,t){JSON.stringify(t)!==JSON.stringify(this.state)&&this.draw(this.getContainer(),this.state)}},{key:"exportAsPNGUri",value:function(){var e=this;return new Promise(function(t,n){var a=950,r=890,o=document.createElement("canvas");if(o.setAttribute("width",a),o.setAttribute("height",r),!window.canvg)return n("canvg module not available");window.canvg(o,e.refs.vizcontainer.innerHTML,{ignoreDimensions:!0,scaleWidth:a,scaleHeight:r}),t(o.toDataURL("image/png;base64").split(",")[1])})}},{key:"exportAsPNG",value:function(e){if(e.detail.componentID==this.state.componentID){var t=950,n=890,a=document.createElement("canvas");if(a.setAttribute("width",t),a.setAttribute("height",n),!window.canvg)return console.error("canvg module not available");window.canvg(a,this.refs.vizcontainer.innerHTML,{ignoreDimensions:!0,scaleWidth:t,scaleHeight:n});var r=a,o="turnout-map(".concat(Object(l.s)(this.state),").png");this.state.isTurnout||(o="counting-progress-map(".concat(Object(l.s)(this.state),").png"));var i,c=document.createElement("a");c.download=o,c.href=r.toDataURL("image/png;base64"),document.createEvent?((i=document.createEvent("MouseEvents")).initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),c.dispatchEvent(i)):c.fireEvent&&c.fireEvent("onclick")}}},{key:"handlePreviewEvent",value:function(e){var t=e.detail;this.setState(t)}},{key:"getContainer",value:function(){return o.select(this.refs.vizcontainer)}},{key:"getLoadingSpinner",value:function(){return o.select(this.refs.loading)}},{key:"render",value:function(){var e=this.state,t=(e.disableNavigation,e.stylesheetFor),n=e.componentID;return r.a.createElement("div",{className:Pe("map-widget")+" "+Se("stylesheet-".concat(t))},-1e3!=n&&r.a.createElement("div",{className:Se("map-title")},Object(l.s)(this.state)),r.a.createElement("div",{ref:"vizcontainer",className:Pe("map")}),r.a.createElement("div",{className:Se("loading-spinner"),ref:"loading"},r.a.createElement(re.a,{type:"spin",color:"#777",height:100,width:100})))}},{key:"drawGraph",value:function(e,t){var n=this,a=this,r=u.a.DOMAIN+"/mapdata/"+Object(l.r)(a.state);a.getLoadingSpinner().style("display","block").transition().duration(200).style("opacity",1);var i=Object(l.d)(Pe),c=800;e.selectAll("svg").remove();var s=e.append("svg").attr("preserveAspectRatio","xMinYMin meet").attr("viewBox","0 0 950 "+(c+90)).classed("svg-content",!0),m=o.json(r),p=[Object(y.j)(t)];m.then(function(e){var n=e;Promise.all(p).then(function(e){var u,m;function p(e){return e>90?"#39711D":e>=80?"#458923":e>=70?"#53B025":e>=60?"#7CE547":e>=50?"#C5F3AF":"#D3F6C3"}function d(e){return e>=100?"#980043":e>=80?"#dd1c77":e>=60?"#df65b0":e>=40?"#c994c7":e>=20?"#d4b9da":e<=0?"#ffffff":"#f1eef6"}function f(e,t){var n,r=a.state.regionType;if("national"===r){var o=e.properties.SPROVINCE;n=u[o]}else if("province"===r){var i=Object(l.j)(e.properties);n=u[i]}else if("municipality"===r){var c=Object(l.k)(e.properties);n=u[c]}else{c=Object(l.k)(e.properties);n=u[c]}return n}if(u=a.state.isTurnout?Object(l.M)(e[0],t):Object(l.F)(e[0],t),-1!==r.indexOf(".topojson"))if("municipality"==(N=a.state.regionType)){if(!n.objects[a.state.muniCode])return;n=Q.a(n,n.objects[a.state.muniCode])}else{if(!n.objects[a.state.iecId])return;n=Q.a(n,n.objects[a.state.iecId])}m=n.features;var y=o.geoMercator().fitSize([900,c],n),h=o.geoPath().projection(y);s.selectAll(".".concat(Pe("region"))).data(m).enter().append("path").attr("class",Pe("region")).attr("stroke","#eeeeee").attr("fill",function(e,t){return a.state.isTurnout?p(f(e)):d(f(e))}).attr("id",function(e,t){return"region-".concat(t)}).attr("d",h);var b=s.selectAll(".".concat(Pe("legend"))).data(a.state.isTurnout?[{text:"More than 90%",turnout:91},{text:"80% - 89%",turnout:81},{text:"70% - 79%",turnout:71},{text:"60% - 69%",turnout:61},{text:"50% - 59%",turnout:51},{text:"Less than 50%",turnout:40}]:[{text:"100%",countProg:100},{text:"80% - 99%",countProg:81},{text:"60% - 79%",countProg:61},{text:"40% - 59%",countProg:41},{text:"20% - 39%",countProg:21},{text:"0.01% - 19%",countProg:1},{text:"0%",countProg:0}]).enter().append("g").attr("class",Pe("legend")).attr("transform",function(e,t){return"translate("+function(e){return[e%5*170,c+10+40*parseInt(e/5)]}(t)+")"});if(b.append("rect").attr("width",20).attr("height",20).attr("x",0).attr("y",0).attr("fill",function(e){return a.state.isTurnout?p(e.turnout):d(e.countProg)}),b.append("text").attr("x",30).attr("y",16).text(function(e){return e.text}),"municipality"!==a.state.regionType&&s.selectAll(".place-label").data(m).enter().append("text").attr("class","place-label").attr("font-size","12px").attr("transform",function(e){var t,n;return"Polygon"===e.geometry.type?(t=ee()(e.geometry.coordinates),(n=y(t))[1]-=12,"translate("+n+")"):(t=ee()(e.geometry.coordinates[0]),(n=y(t))[1]-=5,"translate("+n+")")}).attr("dy",".35em").style("text-anchor","middle").text(function(e){return Object(l.w)(e.properties,a.state)}),"municipality"!==a.state.regionType&&Object(l.g)(),s.selectAll(".eventLayer").data(m).enter().append("path").attr("d",h).attr("class","eventLayer").attr("id",function(e,t){return"eventLayer-".concat(t)}).attr("fill","transparent").on("mouseover",function(e,t){o.select("#region-".concat(t)).attr("stroke-width",3).style("fill-opacity",.8)}).on("mousemove",function(e,t){var n;i.transition().duration(200).style("opacity",1),n=-1==a.state.eventDescription.indexOf("2019")?"province"===a.state.regionType?"New municipality - no previous results available":"New voting district - no previous results available":"votes not counted yet";var r=f(e),c=Object(l.w)(e.properties,a.state),u="undefined"!==typeof r?c+" : "+r+"%":n;i.html(u).style("left",o.event.pageX+"px").style("top",o.event.pageY-28+"px")}).on("mouseout",function(e,t){o.select("#region-".concat(t)).attr("stroke-width",1).style("fill-opacity",1),"municipality"!==a.state.regionType&&i.transition().duration(200).style("opacity",0)}).on("click",function(e,t){if(!a.state.disableNavigation){i.transition().duration(200).style("opacity",0);var n=a.state.regionType;if("national"===n)r={regionType:"province",provinceName:e.properties.SPROVINCE},Object(l.U)(v.a.REGION_CHANGE,r),a.setState(r);else if("province"===n)r={regionType:"municipality",provinceName:a.state.provinceName,muniName:e.properties.smunicipal,muniCode:Object(l.j)(e.properties)},Object(l.U)(v.a.REGION_CHANGE,r),a.setState(r);else{var r={regionType:"municipality-vd",provinceName:a.state.provinceName,muniName:a.state.muniName,muniCode:a.state.muniCode,iecId:Object(l.k)(e.properties)};Object(l.U)(v.a.REGION_CHANGE,r),a.setState(r)}}}),!a.state.disableNavigation){var N,E=function(e,t,n){n&&e.append("span").html(" > "),e.append("span").style("height","30px").style("cursor","default").html(t)},g=function(e,t,n,r){r&&e.append("span").html(" > "),e.append("a").style("height","30px").style("cursor","pointer").html(t).on("click",function(){!function(e){var t;(t={regionType:a.state.regionType,provinceName:a.state.provinceName,muniName:a.state.muniName,muniCode:a.state.muniCode,iecId:a.state.iecId}).regionType=e,Object(l.U)(v.a.REGION_CHANGE,t),a.setState(t)}(n)})},C=s.append("foreignObject").attr("x",0).attr("y",10).attr("width",500).attr("height",30).attr("class","map-controls").append("xhtml:div");"national"==(N=a.state.regionType)?E(C,"South Africa",!1):(g(C,"South Africa","national",!1),"province"==N?E(C,a.state.provinceName,!0):(g(C,a.state.provinceName,"province",!0),"municipality"==N?E(C,a.state.muniCode,!0):(g(C,a.state.muniCode,"municipality",!0),E(C,a.state.iecId,!0))))}a.getLoadingSpinner().style("display","none")}).catch(function(e){console.error(e),console.log("failed to get data from server")})}).catch(function(e){console.error(e),a.getLoadingSpinner().style("display","none");var t=Object(l.s)(n.state),r=a.state.regionType,o={regionType:a.state.regionType,provinceName:a.state.provinceName,muniName:a.state.muniName,muniCode:a.state.muniCode,iecId:a.state.iecId};"province"===r?o.regionType="national":"municipality"===r?o.regionType="province":"municipality-vd"===r&&(o.regionType="municipality"),Object(l.U)(v.a.REGION_CHANGE,o),a.setState(o),setTimeout(function(){"national"==r||"province"==r?console.log("Can't get map data for ".concat(t)):alert("".concat(t," has been disestablished"))},300)})}}])&&Ne(n.prototype,i),c&&Ne(n,c),t}(),we=Ie;function Oe(e){return(Oe="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _e(e){return(_e="function"===typeof Symbol&&"symbol"===Oe(Symbol.iterator)?function(e){return Oe(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Oe(e)})(e)}function ke(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function xe(e){return(xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Te(e,t){return(Te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ae(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}Ie.__docgenInfo={description:"",methods:[{name:"draw",docblock:null,modifiers:[],params:[{name:"container",type:null},{name:"props",type:null}],returns:null},{name:"exportAsPNGUri",docblock:null,modifiers:[],params:[],returns:null},{name:"exportAsPNG",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handlePreviewEvent",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"getContainer",docblock:null,modifiers:[],params:[],returns:null},{name:"getLoadingSpinner",docblock:null,modifiers:[],params:[],returns:null},{name:"drawGraph",docblock:null,modifiers:[],params:[{name:"container",type:null},{name:"props",type:null}],returns:null}],displayName:"Map"};var je={chartType:"Turnout Barchart",yAxisLabel:"PERCENTAGE",noXaxisByParty:!0,yValue:function(e){return e.percVoterTurnout},yValueFormat:function(e){return e+"%"}};function De(e){return c.a[e]||e}function Re(e){return De(u.a.CSS_PREFIX+e)}var Ge=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=function(e,t){return!t||"object"!==_e(t)&&"function"!==typeof t?Ae(e):t}(this,xe(t).call(this,e));Ae(Ae(n));return n.state={eventType:"national",regionType:"national",provinceName:"",muniName:"",muniCode:"",iecId:"",stylesheetFor:"web",componentID:10},Object(l.e)(n.state,e),n.chart=null,n.refreshIntervalID=0,n.exportAsPNG=n.exportAsPNG.bind(Ae(Ae(n))),n.exportAsPNGUri=n.exportAsPNGUri.bind(Ae(Ae(n))),n.handleRegionChange=l.y.bind(Ae(Ae(n))),n.handlePreviewEvent=n.handlePreviewEvent.bind(Ae(Ae(n))),n}var n,i,c;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Te(e,t)}(t,a["Component"]),n=t,(i=[{key:"componentDidMount",value:function(){var e=this;this.draw(this.getContainer(),this.state),this.refreshIntervalID=setInterval(function(){e.draw(e.getContainer(),e.state)},3e4),document.addEventListener(v.a.EXPORT_PNG,this.exportAsPNG),document.addEventListener(v.a.REGION_CHANGE,this.handleRegionChange),document.addEventListener(v.a.CHART_PREVIEW,this.handlePreviewEvent)}},{key:"componentDidUpdate",value:function(){this.draw(this.getContainer(),this.state)}},{key:"componentWillUnmount",value:function(){this.chart=null,document.removeEventListener(v.a.EXPORT_PNG,this.exportAsPNG),document.removeEventListener(v.a.REGION_CHANGE,this.handleRegionChange),document.removeEventListener(v.a.CHART_PREVIEW,this.handlePreviewEvent),clearInterval(this.refreshIntervalID)}},{key:"exportAsPNGUri",value:function(){var e=this;return new Promise(function(t,n){f.a.svgAsPngUri(e.refs.vizcontainer.childNodes[0],{},function(e){t(e.split(",")[1])})})}},{key:"exportAsPNG",value:function(e){e.detail.componentID==this.state.componentID&&f.a.saveSvgAsPng(this.refs.vizcontainer.childNodes[0],"turnout-barchart(".concat(Object(l.s)(this.state),").png"))}},{key:"handlePreviewEvent",value:function(e){var t=e.detail;this.chart&&this.chart.destroy(),this.chart=new p(this.getContainer(),null,null,De,je),this.setState(t)}},{key:"getContainer",value:function(){return o.select(this.refs.vizcontainer)}},{key:"render",value:function(){var e=this.state,t=e.stylesheetFor,n=e.componentID;return r.a.createElement("div",{className:Re("barchart")+" "+Re("stylesheet-".concat(t))},-1e3!=n&&r.a.createElement("div",{className:Re("chart-title")},je.chartType," (",Object(l.s)(this.state),"): "),r.a.createElement("div",{ref:"vizcontainer",className:Re("chart-body")}))}},{key:"draw",value:function(e,t){var n=this,a=[Object(y.k)(t)];Promise.all(a).then(function(a){var r=a[0];n.drawGraph(e,t,r,"rgb(157,51,55)")}).catch(function(e){return console.error(e)})}},{key:"drawGraph",value:function(e,t,n,a){var r=Object(l.N)(n,t);this.chart||(this.chart=new p(e,null,null,De,je)),this.chart.draw(r,a)}}])&&ke(n.prototype,i),c&&ke(n,c),t}(),Le=Ge;Ge.__docgenInfo={description:"",methods:[{name:"exportAsPNGUri",docblock:null,modifiers:[],params:[],returns:null},{name:"exportAsPNG",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handlePreviewEvent",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"getContainer",docblock:null,modifiers:[],params:[],returns:null},{name:"draw",docblock:null,modifiers:[],params:[{name:"container",type:null},{name:"props",type:null}],returns:null},{name:"drawGraph",docblock:null,modifiers:[],params:[{name:"container",type:null},{name:"props",type:null},{name:"data",type:null},{name:"colorsData",type:null}],returns:null}],displayName:"BarChart"};var Ve=n("./src/components/BarchartWithNavMap/barchartMap.css"),Me=n.n(Ve),We=n("./node_modules/file-saver/dist/FileSaver.min.js");function Fe(e){return(Fe="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Be(e){return(Be="function"===typeof Symbol&&"symbol"===Fe(Symbol.iterator)?function(e){return Fe(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Fe(e)})(e)}function Ue(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Ze(e){return(Ze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ke(e,t){return(Ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function He(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ze(e){return Me.a[e]||e}var qe=function(e){function t(e){var n,a,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,(n=!(r=Ze(t).call(this,e))||"object"!==Be(r)&&"function"!==typeof r?He(a):r).state={numParties:5,eventDescription:"2019 National Election",regionType:"national",provinceName:"",muniName:"",muniCode:"",iecId:"",stylesheetFor:"web",componentID:2},Object(l.e)(n.state,e),n.exportAsPNG=n.exportAsPNG.bind(He(He(n))),n}var n,o,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ke(e,t)}(t,a["Component"]),n=t,(o=[{key:"exportAsPNG",value:function(e){if(e.detail.componentID==this.state.componentID){var t=this;Promise.all([t.barchartInstance.exportAsPNGUri(),t.mapInstance.exportAsPNGUri()]).then(function(e){var n=new window.JSZip,a=n.folder("export-images");a.file("barchart.png",e[0],{base64:!0}),a.file("map.png",e[1],{base64:!0}),n.generateAsync({type:"blob"}).then(function(e){Object(We.saveAs)(e,"race-for-votes-barchart-map(".concat(Object(l.s)(t.state),").zip"))})}).catch(function(e){console.error("export error",e)})}}},{key:"componentDidMount",value:function(){document.addEventListener(v.a.EXPORT_SUPERWIDGET_PNG,this.exportAsPNG)}},{key:"componentWillUnmount",value:function(){document.removeEventListener(v.a.EXPORT_SUPERWIDGET_PNG,this.exportAsPNG)}},{key:"render",value:function(){var e,t=this,n=this.state.stylesheetFor;return r.a.createElement("div",{ref:"superwidget",className:ze("barchart-map")+" "+(e="stylesheet-".concat(n),ze(u.a.CSS_PREFIX+e))},r.a.createElement("div",{className:ze("barchart-container"),ref:"barchart"},r.a.createElement(_,Object.assign({ref:function(e){t.barchartInstance=e}},this.state,{componentID:-1e3}))),r.a.createElement("div",{className:ze("map-container")},r.a.createElement(ye,Object.assign({ref:function(e){t.mapInstance=e}},this.state,{componentID:-1e3}))))}}])&&Ue(n.prototype,o),i&&Ue(n,i),t}(),Xe=qe;qe.__docgenInfo={description:"",methods:[{name:"exportAsPNG",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null}],displayName:"BarchartWithNavMap"};var Ye=n("./src/components/QuickResultsWidget/quickResultsWidget.css"),Je=n.n(Ye),Qe=n("./src/components/ProgVotesCountPiechart/piechart.css"),$e=n.n(Qe);function et(e,t,n,a,r){var i=[],c=10,u=10,s=10,m=10,p=r.variable,d=r.category,f=o.format(".4r"),v=null;function y(e){return v&&v[e]?v[e]:"rgb("+250*Math.random()+","+250*Math.random()+","+250*Math.random()+")"}var h=Math.min(700,300)/2,b=o.pie().value(function(e){return f(e[p])}).sort(null),N=o.arc().outerRadius(.8*h).innerRadius(.6*h).cornerRadius(3).padAngle(.015),E=Object(l.c)(e,700+m+u,300+c+s),g=150;"Progress on Votes Count"===r.chartType||(g=350);var C=E.append("g").attr("transform","translate("+g+",150)"),P=E.append("g").attr("transform","translate(360,150)");C.append("g").attr("class","slices"),C.append("g").attr("class","lines");var S=C.select(".slices").selectAll("path").data(b(i)).enter().append("path").attr("fill",function(e){return y(e.data[d])}).attr("d",N),I=Object(l.b)(C);function w(e){r.hideTooltip||(e.on("mouseenter",function(e){C.append("text").attr("class","toolCircle").attr("dy",-15).html(function(e){if("Progress on Votes Count"===r.chartType){var t="";t+='<tspan x="0">Progress: '+e.data.percent+"%</tspan>",t+='<tspan x="0" dy="1.2em">Captured Votes: '+e.data.count+"</tspan>",t+='<tspan x="0" dy="1.2em">Total: '+e.data.totalCount+"</tspan>"}else{var t="";t+='<tspan x="0">Seats: '+e.data.seats+"</tspan>",t+='<tspan x="0" dy="1.2em">Party: '+e.data.name+"</tspan>"}return t}(e)).style("font-size",".7em").style("text-anchor","middle"),C.append("circle").attr("class","toolCircle").attr("r",.55*h).style("fill",y(e.data[d])).style("fill-opacity",.35)}),e.on("mouseout",function(){o.selectAll(".toolCircle").remove()}))}function O(e){var t=o.interpolate(this._current,e);return this._current=t(0),function(e){return N(t(e))}}function _(e){return e.data[d]}this.destroy=function(){e.selectAll("svg").remove()},this.draw=function(e,t){if(e){if(I.text(""),"Progress on Votes Count"===r.chartType)v=t;else{var n={},a=t;a&&a.data.allParties.edges&&a.data.allParties.edges.forEach(function(e){n[e.node.abbreviation]=e.node.colour}),v=n}i=e,"Progress on Votes Count"===r.chartType&&(P.selectAll("text").remove(),P.append("text").attr("x",0).attr("y",-15).style("font-size",".7em").style("text-anchor","middle").text("Completed: "+i[0].percent+"%"),P.append("text").attr("x",0).attr("y",0).text("Captured Votes: "+i[0].count).style("font-size",".7em").style("text-anchor","middle"),P.append("text").attr("x",0).attr("y",15).text("Total: "+i[0].totalCount).style("font-size",".7em").style("text-anchor","middle"));var c=o.select(".slices").selectAll("path"),l=S.data(),u=b(i);(c=c.data(u,_)).enter().append("path").each(function(e,t){this._current=function(e,t,n,a){var r;return(r=function(e,t,n,a){var r=t.length;for(;--e>=0;)for(var o=a(n[e]),i=0;i<r;++i)if(a(t[i])===o)return t[i]}(e,t,n,a))?{startAngle:r.endAngle,endAngle:r.endAngle}:(r=function(e,t,n,a){var r=n.length,o=t.length;for(;++e<r;)for(var i=a(n[e]),c=0;c<o;++c)if(a(t[c])===i)return t[c]}(e,t,n,a))?{startAngle:r.startAngle,endAngle:r.startAngle}:null}(t,l,u,_)||e}).attr("fill",function(e){return y(e.data[d])}).attr("d",N),c.exit().transition().duration(750).attrTween("d",O).remove(),c.transition().duration(750).attrTween("d",O),o.selectAll(".labelName text, .slices path").call(w)}else I.text("chart data is not available")}}function tt(e){return(tt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nt(e){return(nt="function"===typeof Symbol&&"symbol"===tt(Symbol.iterator)?function(e){return tt(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":tt(e)})(e)}function at(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function rt(e){return(rt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ot(e,t){return(ot=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function it(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var ct={chartType:"Progress on Votes Count",variable:"percent",category:"name",hideTooltip:!0};function lt(e){return $e.a[e]||e}function ut(e){return lt(u.a.CSS_PREFIX+e)}var st=function(e){function t(e){var n,a,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,(n=!(r=rt(t).call(this,e))||"object"!==nt(r)&&"function"!==typeof r?it(a):r).state={numParties:5,eventDescription:"2019 National Election",regionType:"national",provinceName:"",muniName:"",muniCode:"",iecId:"",stylesheetFor:"web",componentID:4},Object(l.e)(n.state,e),n.chart=null,n.refreshIntervalID=0,n.exportAsPNG=n.exportAsPNG.bind(it(it(n))),n.exportAsPNGUri=n.exportAsPNGUri.bind(it(it(n))),n.handleRegionChange=l.y.bind(it(it(n))),n.handlePreviewEvent=n.handlePreviewEvent.bind(it(it(n))),n}var n,i,c;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ot(e,t)}(t,a["Component"]),n=t,(i=[{key:"componentDidMount",value:function(){var e=this;this.draw(this.getContainer(),this.state),this.refreshIntervalID=setInterval(function(){e.draw(e.getContainer(),e.state)},3e4),document.addEventListener(v.a.EXPORT_PNG,this.exportAsPNG),document.addEventListener(v.a.REGION_CHANGE,this.handleRegionChange),document.addEventListener(v.a.CHART_PREVIEW,this.handlePreviewEvent)}},{key:"componentDidUpdate",value:function(){this.draw(this.getContainer(),this.state)}},{key:"componentWillUnmount",value:function(){this.chart=null,document.removeEventListener(v.a.EXPORT_PNG,this.exportAsPNG),document.removeEventListener(v.a.REGION_CHANGE,this.handleRegionChange),document.removeEventListener(v.a.CHART_PREVIEW,this.handlePreviewEvent),clearInterval(this.refreshIntervalID)}},{key:"exportAsPNGUri",value:function(){var e=this;return new Promise(function(t,n){f.a.svgAsPngUri(e.refs.vizcontainer.childNodes[0],{},function(e){t(e.split(",")[1])})})}},{key:"exportAsPNG",value:function(e){e.detail.componentID==this.state.componentID&&f.a.saveSvgAsPng(this.refs.vizcontainer.childNodes[0],"progress-on-votes-piechart(".concat(Object(l.s)(this.state),").png"))}},{key:"handlePreviewEvent",value:function(e){var t=e.detail;this.chart&&this.chart.destroy(),this.chart=new et(this.getContainer(),null,null,lt,ct),this.setState(t)}},{key:"getContainer",value:function(){return o.select(this.refs.vizcontainer)}},{key:"render",value:function(){var e=this.state,t=e.stylesheetFor,n=e.componentID;return r.a.createElement("div",{className:lt("piechart")+" "+ut("stylesheet-".concat(t))},-1e3!=n&&r.a.createElement("div",{className:ut("chart-title")},ct.chartType," (",Object(l.s)(this.state),"): "),r.a.createElement("div",{ref:"vizcontainer",className:ut("chart-body")}))}},{key:"draw",value:function(e,t){var n=this,a=[Object(y.e)(t)];Promise.all(a).then(function(a){var r=a[0];n.drawGraph(e,t,r)}).catch(function(e){return console.error(e)})}},{key:"drawGraph",value:function(e,t,n){var a=Object(l.H)(n,t);this.chart||(this.chart=new et(e,null,null,lt,ct)),this.chart.draw(a,{Completed:"#15707C","Not Completed":"#CCCCCC"})}}])&&at(n.prototype,i),c&&at(n,c),t}(),mt=st;st.__docgenInfo={description:"",methods:[{name:"exportAsPNGUri",docblock:null,modifiers:[],params:[],returns:null},{name:"exportAsPNG",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handlePreviewEvent",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"getContainer",docblock:null,modifiers:[],params:[],returns:null},{name:"draw",docblock:null,modifiers:[],params:[{name:"container",type:null},{name:"props",type:null}],returns:null},{name:"drawGraph",docblock:null,modifiers:[],params:[{name:"container",type:null},{name:"props",type:null},{name:"data",type:null}],returns:null}],displayName:"PieChart"};var pt=n("./src/components/RaceForSeatDonut/piechart.css"),dt=n.n(pt);function ft(e){return(ft="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vt(e){return(vt="function"===typeof Symbol&&"symbol"===ft(Symbol.iterator)?function(e){return ft(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":ft(e)})(e)}function yt(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ht(e){return(ht=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bt(e,t){return(bt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Nt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Et,gt={chartType:"Race For Seats Donut Chart",variable:"seats",category:"name",viewBox:"170 0 360 320"};function Ct(e){return dt.a[e]||e}function Pt(e){return Ct(u.a.CSS_PREFIX+e)}var St=function(e){function t(e){var n,a,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,(n=!(r=ht(t).call(this,e))||"object"!==vt(r)&&"function"!==typeof r?Nt(a):r).state={numParties:100,eventDescription:"2019 National Election",regionType:"national",provinceName:"",muniName:"",muniCode:"",iecId:"",stylesheetFor:"web",componentID:17},Object(l.e)(n.state,e),n.chart=null,n.refreshIntervalID=0,n.exportAsPNG=n.exportAsPNG.bind(Nt(Nt(n))),n.exportAsPNGUri=n.exportAsPNGUri.bind(Nt(Nt(n))),n.handleRegionChange=l.y.bind(Nt(Nt(n))),n.handlePreviewEvent=n.handlePreviewEvent.bind(Nt(Nt(n))),n}var n,i,c;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bt(e,t)}(t,a["Component"]),n=t,(i=[{key:"componentDidMount",value:function(){var e=this;this.draw(this.getContainer(),this.state),this.refreshIntervalID=setInterval(function(){e.draw(e.getContainer(),e.state)},3e4),document.addEventListener(v.a.EXPORT_PNG,this.exportAsPNG),document.addEventListener(v.a.REGION_CHANGE,this.handleRegionChange),document.addEventListener(v.a.CHART_PREVIEW,this.handlePreviewEvent)}},{key:"componentDidUpdate",value:function(){this.draw(this.getContainer(),this.state)}},{key:"componentWillUnmount",value:function(){this.chart=null,document.removeEventListener(v.a.EXPORT_PNG,this.exportAsPNG),document.removeEventListener(v.a.REGION_CHANGE,this.handleRegionChange),document.removeEventListener(v.a.CHART_PREVIEW,this.handlePreviewEvent),clearInterval(this.refreshIntervalID)}},{key:"exportAsPNGUri",value:function(){var e=this;return new Promise(function(t,n){f.a.svgAsPngUri(e.refs.vizcontainer.childNodes[0],{},function(e){t(e.split(",")[1])})})}},{key:"exportAsPNG",value:function(e){e.detail.componentID===this.state.componentID&&f.a.saveSvgAsPng(this.refs.vizcontainer.childNodes[0],"race-for-seats-donutchart-chart(".concat(Object(l.l)(this.state),").png"))}},{key:"handlePreviewEvent",value:function(e){var t=e.detail;this.chart&&this.chart.destroy(),this.chart=new et(this.getContainer(),null,null,Ct,gt),this.setState(t)}},{key:"getContainer",value:function(){return o.select(this.refs.vizcontainer)}},{key:"render",value:function(){var e=this.state,t=e.stylesheetFor,n=e.componentID;return r.a.createElement("div",{className:Ct("donutchart")+" "+Pt("stylesheet-".concat(t))},-1e3!==n&&r.a.createElement("div",{className:Pt("chart-title")},gt.chartType," (",Object(l.l)(this.state),"): "),r.a.createElement("div",{ref:"vizcontainer",className:Pt("chart-body")}))}},{key:"draw",value:function(e,t){var n=this,a=[Object(y.g)(t)];if(!Et){var r=Object(y.d)();a.push(r)}Promise.all(a).then(function(a){var r=a[0];Et=Et||a[1],n.drawGraph(e,t,r,Et)}).catch(function(e){return console.error(e)})}},{key:"drawGraph",value:function(e,t,n,a){var r=Object(l.K)(n,t);this.chart||(this.chart=new et(e,null,null,Ct,gt)),this.chart.draw(r,a)}}])&&yt(n.prototype,i),c&&yt(n,c),t}(),It=St;function wt(e){return(wt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ot(e){return(Ot="function"===typeof Symbol&&"symbol"===wt(Symbol.iterator)?function(e){return wt(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":wt(e)})(e)}function _t(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function kt(e){return(kt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xt(e,t){return(xt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Tt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}St.__docgenInfo={description:"",methods:[{name:"exportAsPNGUri",docblock:null,modifiers:[],params:[],returns:null},{name:"exportAsPNG",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handlePreviewEvent",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"getContainer",docblock:null,modifiers:[],params:[],returns:null},{name:"draw",docblock:null,modifiers:[],params:[{name:"container",type:null},{name:"props",type:null}],returns:null},{name:"drawGraph",docblock:null,modifiers:[],params:[{name:"container",type:null},{name:"props",type:null},{name:"data",type:null},{name:"partyColorsData",type:null}],returns:null}],displayName:"DonutChart"};var At;Object(y.f)();function jt(e){return c.a[e]||e}function Dt(e){return jt(u.a.CSS_PREFIX+e)}var Rt={chartType:"Race For Votes Comparison",yAxisLabel:"PERCENTAGE VOTES",yValue:function(e){return e.percOfVotes},yValueFormat:function(e){return e+"%"},showLegend:!0},Gt=function(e){function t(e){var n,a,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,(n=!(r=kt(t).call(this,e))||"object"!==Ot(r)&&"function"!==typeof r?Tt(a):r).state={partyAbbr:"ANC",partyIecId:null,eventDescriptions:["National Elections 1999","14 Apr 2004 National Election","22 Apr 2009 National Election","2014 National Election","2019 NATIONAL ELECTION"],regionType:"national",provinceName:"",muniName:"",muniCode:"",iecId:"",stylesheetFor:"web",componentID:16},Object(l.e)(n.state,e),n.chart=null,n.refreshIntervalID=0,n.exportAsPNG=n.exportAsPNG.bind(Tt(Tt(n))),n.exportAsPNGUri=n.exportAsPNGUri.bind(Tt(Tt(n))),n.handleRegionChange=l.y.bind(Tt(Tt(n))),n.handlePreviewEvent=n.handlePreviewEvent.bind(Tt(Tt(n))),n}var n,i,c;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xt(e,t)}(t,a["Component"]),n=t,(i=[{key:"componentDidMount",value:function(){var e=this;this.draw(this.getContainer(),this.state),this.refreshIntervalID=setInterval(function(){e.draw(e.getContainer(),e.state)},3e4),document.addEventListener(v.a.EXPORT_PNG,this.exportAsPNG),document.addEventListener(v.a.REGION_CHANGE,this.handleRegionChange),document.addEventListener(v.a.CHART_PREVIEW,this.handlePreviewEvent)}},{key:"componentDidUpdate",value:function(){this.draw(this.getContainer(),this.state)}},{key:"componentWillUnmount",value:function(){this.chart&&(this.chart.destroy(),this.chart=null),document.removeEventListener(v.a.EXPORT_PNG,this.exportAsPNG),document.removeEventListener(v.a.REGION_CHANGE,this.handleRegionChange),document.removeEventListener(v.a.CHART_PREVIEW,this.handlePreviewEvent),clearInterval(this.refreshIntervalID)}},{key:"exportAsPNGUri",value:function(){var e=this;return new Promise(function(t,n){f.a.svgAsPngUri(e.refs.vizcontainer.childNodes[0],{},function(e){t(e.split(",")[1])})})}},{key:"exportAsPNG",value:function(e){e.detail.componentID==this.state.componentID&&f.a.saveSvgAsPng(this.refs.vizcontainer.childNodes[0],"race-for-votes-comparison-barchart(".concat(Object(l.s)(this.state),").png"))}},{key:"handlePreviewEvent",value:function(e){var t=e.detail;this.chart&&this.chart.destroy(),this.chart=new p(this.getContainer(),null,null,jt,Rt),this.setState(t)}},{key:"getContainer",value:function(){return o.select(this.refs.vizcontainer)}},{key:"render",value:function(){var e=this.state,t=e.stylesheetFor,n=e.componentID;return r.a.createElement("div",{className:Dt("barchart")+" "+Dt("stylesheet-".concat(t))},-1e3!=n&&r.a.createElement("div",{className:Dt("chart-title")},Rt.chartType," (",Object(l.s)(this.state),"): "),r.a.createElement("div",{ref:"vizcontainer",className:Dt("chart-body")}))}},{key:"draw",value:function(e,t){var n=this,a=[Object(y.n)(t)];if(!At){var r=Object(y.d)();a.push(r)}Promise.all(a).then(function(a){var r=a[0];At=At||a[1],n.drawGraph(e,t,r,At)}).catch(function(e){return console.error(e)})}},{key:"drawGraph",value:function(e,t,n,a){var r=Object(l.P)(n,t);console.log("comparison data fetch",n,r),this.chart||(this.chart=new p(e,null,null,jt,Rt)),this.chart.draw(r,a)}}])&&_t(n.prototype,i),c&&_t(n,c),t}(),Lt=Gt;function Vt(e){return(Vt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mt(e){return(Mt="function"===typeof Symbol&&"symbol"===Vt(Symbol.iterator)?function(e){return Vt(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Vt(e)})(e)}function Wt(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Ft(e){return(Ft=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Bt(e,t){return(Bt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ut(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}Gt.__docgenInfo={description:"",methods:[{name:"exportAsPNGUri",docblock:null,modifiers:[],params:[],returns:null},{name:"exportAsPNG",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handlePreviewEvent",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"getContainer",docblock:null,modifiers:[],params:[],returns:null},{name:"draw",docblock:null,modifiers:[],params:[{name:"container",type:null},{name:"props",type:null}],returns:null},{name:"drawGraph",docblock:null,modifiers:[],params:[{name:"container",type:null},{name:"props",type:null},{name:"data",type:null},{name:"partyColorsData",type:null}],returns:null}],displayName:"BarChart"};var Zt,Kt={chartType:"Race For Seats Comparison",yAxisLabel:"Seats Count",dynamicYAxisFromValues:!0,yValue:function(e){return e.seats},yValueFormat:function(e){return e},showLegend:!0};function Ht(e){return c.a[e]||e}function zt(e){return Ht(u.a.CSS_PREFIX+e)}var qt=function(e){function t(e){var n,a,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,(n=!(r=Ft(t).call(this,e))||"object"!==Mt(r)&&"function"!==typeof r?Ut(a):r).state={partyAbbr:"ANC",partyIecId:null,eventDescriptions:["National Elections 1999","Provincial Elections 1999","14 Apr 2004 National Election","14 Apr 2004 Provincial Election","22 Apr 2009 National Election","22 Apr 2009 Provincial Election","2014 National Election","2014 Provincial Election","2019 NATIONAL ELECTION","2019 PROVINCIAL ELECTION"],regionType:"national",provinceName:"",muniName:"",muniCode:"",iecId:"",stylesheetFor:"web",componentID:7},Object(l.e)(n.state,e),n.chart=null,n.refreshIntervalID=0,n.exportAsPNG=n.exportAsPNG.bind(Ut(Ut(n))),n.exportAsPNGUri=n.exportAsPNGUri.bind(Ut(Ut(n))),n.handleRegionChange=l.y.bind(Ut(Ut(n))),n.handlePreviewEvent=n.handlePreviewEvent.bind(Ut(Ut(n))),n}var n,i,c;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bt(e,t)}(t,a["Component"]),n=t,(i=[{key:"componentDidMount",value:function(){var e=this;this.draw(this.getContainer(),this.state),this.refreshIntervalID=setInterval(function(){e.draw(e.getContainer(),e.state)},3e4),document.addEventListener(v.a.EXPORT_PNG,this.exportAsPNG),document.addEventListener(v.a.REGION_CHANGE,this.handleRegionChange),document.addEventListener(v.a.CHART_PREVIEW,this.handlePreviewEvent)}},{key:"componentDidUpdate",value:function(){this.draw(this.getContainer(),this.state)}},{key:"componentWillUnmount",value:function(){this.chart=null,document.removeEventListener(v.a.EXPORT_PNG,this.exportAsPNG),document.removeEventListener(v.a.REGION_CHANGE,this.handleRegionChange),document.removeEventListener(v.a.CHART_PREVIEW,this.handlePreviewEvent),clearInterval(this.refreshIntervalID)}},{key:"exportAsPNGUri",value:function(){var e=this;return new Promise(function(t,n){f.a.svgAsPngUri(e.refs.vizcontainer.childNodes[0],{},function(e){t(e.split(",")[1])})})}},{key:"exportAsPNG",value:function(e){e.detail.componentID==this.state.componentID&&f.a.saveSvgAsPng(this.refs.vizcontainer.childNodes[0],"race-for-seats-comparison-barchart(".concat(Object(l.l)(this.state),").png"))}},{key:"handlePreviewEvent",value:function(e){var t=e.detail;this.chart&&this.chart.destroy(),this.chart=new p(this.getContainer(),null,null,Ht,Kt),this.setState(t)}},{key:"getContainer",value:function(){return o.select(this.refs.vizcontainer)}},{key:"render",value:function(){var e=this.state,t=e.stylesheetFor,n=e.componentID;return r.a.createElement("div",{className:zt("barchart")+" "+zt("stylesheet-".concat(t))},-1e3!=n&&r.a.createElement("div",{className:zt("chart-title")},Kt.chartType," (",Object(l.l)(this.state),"): "),r.a.createElement("div",{ref:"vizcontainer",className:zt("chart-body")}))}},{key:"draw",value:function(e,t){var n=this,a=[Object(y.h)(t)];if(!Zt){var r=Object(y.d)();a.push(r)}Promise.all(a).then(function(a){var r=a[0];Zt=Zt||a[1],n.drawGraph(e,t,r,Zt)}).catch(function(e){return console.error(e)})}},{key:"drawGraph",value:function(e,t,n,a){var r=Object(l.I)(n,t);this.chart||(this.chart=new p(e,null,null,Ht,Kt)),this.chart.draw(r,a)}}])&&Wt(n.prototype,i),c&&Wt(n,c),t}(),Xt=qt;qt.__docgenInfo={description:"",methods:[{name:"exportAsPNGUri",docblock:null,modifiers:[],params:[],returns:null},{name:"exportAsPNG",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handlePreviewEvent",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"getContainer",docblock:null,modifiers:[],params:[],returns:null},{name:"draw",docblock:null,modifiers:[],params:[{name:"container",type:null},{name:"props",type:null}],returns:null},{name:"drawGraph",docblock:null,modifiers:[],params:[{name:"container",type:null},{name:"props",type:null},{name:"data",type:null},{name:"partyColorsData",type:null}],returns:null}],displayName:"BarChart"};var Yt=n("./src/components/SeatHorseShoeChart/horseshoe.css"),Jt=n.n(Yt);function Qt(e,t,n,a,r){r||(r={});var i=["blue","yellow","red"],c=Object(l.c)(e,360,185),u=Object(l.d)(a),s=c.append("g"),m=Object(l.b)(c,180,92.5);this.draw=function(e,t){var n=[];if(e){m.text("");var a=(n=e)[0],r=n.slice(1);r.push(a),n=r;var c={},l=t;l&&l.data.allParties.edges&&l.data.allParties.edges.forEach(function(e){c[e.node.name]=e.node.colour});for(var p=0,d=0;d<n.length;d++)p+=n[d].seats;!function(e,t){var a,r,i,c,l,s,m=[3,15,33,61,95,138,189,247,313,388,469,559,657,762,876,997,1126,1263,1408,1560,1722,1889,2066,2250,2442,2641,2850,3064,3289,3519,3759,4005,4261,4522,4794,5071,5358,5652,5953,6263,6581,6906,7239,7581,7929,8287,8650,9024,9404,9793,10187,10594,11003,11425,11850,12288,12729,13183,13638,14109,14580,15066,15553,16055,16557,17075,17592,18126,18660,19208,19758,20323,20888,21468,22050,22645,23243,23853,24467,25094,25723,26364,27011,27667,28329,29001,29679,30367,31061];e>m[m.length-1]&&console.error("total seats >",m[m.length-1]),e<1&&console.error("total seats < 1");for(var p=0;p<m.length;p++)if(m[p]>=e){a=p+1;break}for(r=.4/a,i=[],p=1;p<a;p++)if(l=(3*a+4*p-2)/(4*a),1===(c=parseInt(e/m[a-1]*Math.PI/(2*Math.asin(2/(3*a+4*p-2))))))i.push({angle:Math.PI/2,x:1.75*l,y:l});else for(var d=0;d<c;d++)s=d*(Math.PI-2*Math.sin(r/l))/(c-1)+Math.sin(r/l),i.push({angle:s,x:l*Math.cos(s)+1.75,y:l*Math.sin(s)});if(l=(7*a-2)/(4*a),1===(c=e-i.length))i.push({angle:Math.PI/2,x:1.75*l,y:l});else for(d=0;d<c;d++)s=d*(Math.PI-2*Math.sin(r/l))/(c-1)+Math.sin(r/l),i.push({angle:s,x:l*Math.cos(s)+1.75,y:l*Math.sin(s)});function v(e,t){var a;e.attr("opacity",.8),u.transition().duration(200).style("opacity",.9),u.html((a=n[t],a.name)).style("left",o.event.pageX+"px").style("top",o.event.pageY-28+"px")}function y(e){e.attr("opacity",1),u.transition().duration(200).style("opacity",0)}i.sort(function(e,t){function n(e){return e.angle-Math.PI/2}return n(t)-n(e)}),t.append("text").attr("x",175).attr("y",175).attr("style","font-size:36px;font-weight:bold;text-align:center;text-anchor:middle;font-family:sans-serif").text(e);var h=0;for(p=0;p<n.length;p++){var b=t.append("g").attr("fill",f(n[p].partyInfo.name,p)).attr("id",n[p].name);for(b.on("mousemove",v.bind(this,b,p)).on("mouseout",y.bind(this,b)),d=0;d<n[p].seats;d++,h++)b.append("circle").attr("cx",100*i[h].x+5).attr("cy",100*(1.75-i[h].y)+5).attr("r",100*r)}}(p,s)}else m.text("chart data is not available");function f(e,t){return c[e.split("/")[0]]||i[t%i.length]}},this.destroy=function(){c.remove()}}function $t(e){return($t="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function en(e){return(en="function"===typeof Symbol&&"symbol"===$t(Symbol.iterator)?function(e){return $t(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":$t(e)})(e)}function tn(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function nn(e){return(nn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function an(e,t){return(an=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var on,cn={chartType:"Race For Seats HorseShoe Chart"};function ln(e){return Jt.a[e]||e}function un(e){return ln(u.a.CSS_PREFIX+e)}var sn=function(e){function t(e){var n,a,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,(n=!(r=nn(t).call(this,e))||"object"!==en(r)&&"function"!==typeof r?rn(a):r).state={numParties:100,eventDescription:"2019 National Election",regionType:"national",provinceName:"",muniName:"",muniCode:"",iecId:"",stylesheetFor:"web",componentID:8},Object(l.e)(n.state,e),n.state.numParties=100,n.chart=null,n.refreshIntervalID=0,n.exportAsPNG=n.exportAsPNG.bind(rn(rn(n))),n.exportAsPNGUri=n.exportAsPNGUri.bind(rn(rn(n))),n.handleRegionChange=l.y.bind(rn(rn(n))),n.handlePreviewEvent=n.handlePreviewEvent.bind(rn(rn(n))),n}var n,i,c;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&an(e,t)}(t,a["Component"]),n=t,(i=[{key:"componentDidMount",value:function(){var e=this;this.draw(this.getContainer(),this.state),this.refreshIntervalID=setInterval(function(){e.draw(e.getContainer(),e.state)},3e4),document.addEventListener(v.a.EXPORT_PNG,this.exportAsPNG),document.addEventListener(v.a.REGION_CHANGE,this.handleRegionChange),document.addEventListener(v.a.CHART_PREVIEW,this.handlePreviewEvent)}},{key:"componentDidUpdate",value:function(){void 0===this.has_drawn?(this.draw(this.getContainer(),this.state),this.has_drawn=!0):this.has_drawn=void 0}},{key:"componentWillUnmount",value:function(){this.chart=null,document.removeEventListener(v.a.EXPORT_PNG,this.exportAsPNG),document.removeEventListener(v.a.REGION_CHANGE,this.handleRegionChange),document.removeEventListener(v.a.CHART_PREVIEW,this.handlePreviewEvent),clearInterval(this.refreshIntervalID)}},{key:"exportAsPNGUri",value:function(){var e=this;return new Promise(function(t,n){f.a.svgAsPngUri(e.refs.vizcontainer.childNodes[0],{},function(e){t(e.split(",")[1])})})}},{key:"exportAsPNG",value:function(e){e.detail.componentID===this.state.componentID&&f.a.saveSvgAsPng(this.refs.vizcontainer.childNodes[0],"race-for-seats-horseshoe-chart(".concat(Object(l.l)(this.state),").png"))}},{key:"handlePreviewEvent",value:function(e){var t=e.detail;this.chart&&this.chart.destroy(),this.chart=new Qt(this.getContainer(),null,null,ln,cn),this.setState(t)}},{key:"getContainer",value:function(){return o.select(this.refs.vizcontainer)}},{key:"render",value:function(){var e=this.state,t=e.stylesheetFor,n=e.componentID;return r.a.createElement("div",{className:ln("horseshoechart")+" "+un("stylesheet-".concat(t))},-1e3!==n&&r.a.createElement("div",{className:un("chart-title")},cn.chartType," (",Object(l.l)(this.state),"): "),r.a.createElement("div",{ref:"vizcontainer",className:un("chart-body")}))}},{key:"draw",value:function(e,t){var n=this,a=[Object(y.g)(t)];if(!on){var r=Object(y.d)();a.push(r)}Promise.all(a).then(function(a){var r=a[0];on=on||a[1],n.drawGraph(e,t,r,on)}).catch(function(e){return console.error(e)})}},{key:"drawGraph",value:function(e,t,n,a){var r=Object(l.K)(n,t);this.chart||(this.chart=new Qt(e,null,null,ln,cn)),this.chart.draw(r,a)}}])&&tn(n.prototype,i),c&&tn(n,c),t}(),mn=sn;sn.__docgenInfo={description:"",methods:[{name:"exportAsPNGUri",docblock:null,modifiers:[],params:[],returns:null},{name:"exportAsPNG",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handlePreviewEvent",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"getContainer",docblock:null,modifiers:[],params:[],returns:null},{name:"draw",docblock:null,modifiers:[],params:[{name:"container",type:null},{name:"props",type:null}],returns:null},{name:"drawGraph",docblock:null,modifiers:[],params:[{name:"container",type:null},{name:"props",type:null},{name:"data",type:null},{name:"partyColorsData",type:null}],returns:null}],displayName:"HorseShoeChart"};var pn=n("./src/components/VotePredictionLineChart/voteprediction.css"),dn=n.n(pn);function fn(e,t,n,a,r){r||(r={});var i=r.showPoints||!0,c=r.pointRadius||2,u=r.showPointLabels||!1,s=r.pointLabelOffset||4;r.showCurrentLine;var m=20,p=40,d={top:m,bottom:400-50-m,left:p,right:600-20-p},f=Object(l.c)(e,600,400),v=Object(l.d)(a),y=f.append("g"),h=Object(l.b)(f,300,200);this.draw=function(e,t,n){var r=Object(l.a)(t);if(e){if(n.minX||(n.minX=0),!n.maxX){var m=o.max(e.map(function(e){return o.max(e.data.map(function(e){return e.x}))}));n.maxX=Math.min(100,1.5*m)}var p=o.scaleLinear().domain([n.minX,n.maxX]).range([d.left,d.right]),f=o.scaleLinear().domain([0,100]).range([d.bottom,d.top]),b=o.scaleLinear().domain([0,100]).range([0,100]);y.selectAll("g").remove();var N=y.append("g").classed("axes",!0);N.append("g").attr("transform","translate(0, "+d.bottom+")").classed("x-axis",!0).call(o.axisBottom(p)),N.append("g").attr("transform","translate("+d.left+", 0)").classed("y-axis",!0).call(o.axisLeft(f)),N.append("text").text("% VDs declared").attr("transform","translate("+p((n.minX+n.maxX)/2)+", "+f(-10)+")").style("fill","white").attr("text-anchor","middle").classed("x-axis-text","true").classed("axis-text","true"),N.append("text").text("% Party support").attr("text-anchor","middle").attr("transform","rotate(-90) translate(-180, 10)").style("fill","white").classed("y-axis-text","true").classed("axis-text","true");var E=null,g=null,C=null,P=null,S=null;e.map(function(t){S=o.line().x(function(e){return p(e.x)}).y(function(e){return f(e.y)}),E=t.data;var n=r(t.name);g=y.append("g").classed("line-container",!0).classed(t.cleaned_name,!0),C=y.append("g").classed("ledgends",!0),P=y.append("g").classed("event-capture-container",!0).classed(t.cleaned_name,!0),g.append("path").data([E]).attr("class","line").attr("d",S).style("stroke",n),i&&(g.selectAll("circle").data(E).enter().append("circle").attr("cx",function(e){return p(e.x)}).attr("cy",function(e){return f(e.y)}).attr("r",function(e){return b(c)}).style("fill",n).classed("graph-points",!0),P.selectAll("circle").data(E).enter().append("circle").attr("cx",function(e){return p(e.x)}).attr("cy",function(e){return f(e.y)}).attr("r",function(e){return 3*b(c)}).style("fill","transparent").classed("graph-points",!0).on("mousemove",function(e,t){console.log("tooltip mousemove"),o.select(this).attr("opacity",.8),v.transition().duration(200).style("opacity",.9),v.html(e.y.toFixed(2)+"%").style("left",o.event.pageX+"px").style("top",o.event.pageY-28+"px")}).on("mouseout",function(e){console.log("tooltip mouseout"),o.select(this).attr("opacity",1),v.transition().duration(200).style("opacity",0)})),u&&g.selectAll("text").data(E).enter().append("text").text(function(e){return e.y}).attr("transform",function(e){return"translate("+p(e.x-b(c/2))+", "+f(e.y+s)+")"}).classed("graph-labels",!0);var l=[],m=[],d=[];e.forEach(function(e){var t=e.name;-1===d.indexOf(e.iecId)&&e.iecId&&(l.push(t),m.push(e.abbreviation),d.push(e.iecId))}),C.selectAll(".".concat(a("legend"))).remove();var h=C.selectAll(".".concat(a("legend"))).data(l).enter().append("g").attr("class",a("legend")).attr("transform",function(e,t){return"translate("+function(e){var t=[30+e%5*100,370+40*parseInt(e/5)];return l.length<6&&(t[0]+=100*(6-l.length)/2),t}(t)+")"});h.append("rect").attr("width",10).attr("height",10).attr("x",0).attr("y",0).attr("fill",function(e,t){return r(e)}),h.append("text").attr("x",30).attr("y",10).style("font-size","12px").text(function(e,t){return m[t]})})}else h.text("chart data is not available")},this.destroy=function(){f.remove()}}function vn(e){return(vn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yn(e){return(yn="function"===typeof Symbol&&"symbol"===vn(Symbol.iterator)?function(e){return vn(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":vn(e)})(e)}function hn(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function bn(e){return(bn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Nn(e,t){return(Nn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function En(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var gn,Cn={chartType:"Votes prediction line charts"};function Pn(e){return dn.a[e]||e}function Sn(e){return Pn(u.a.CSS_PREFIX+e)}function In(e){var t=e.getHours(),n=e.getMinutes();n<10&&(n="0"+n);return t+":"+n+" on "+e.getDate()+" "+["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.getMonth()]+" "+e.getFullYear()}var wn=function(e){function t(e){var n,a,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,(n=!(r=bn(t).call(this,e))||"object"!==yn(r)&&"function"!==typeof r?En(a):r).state={numParties:100,electionType:"national",eventDescription:"2019 National Election",regionType:"national",provinceName:"",muniName:"",muniCode:"",iecId:"",stylesheetFor:"web",componentID:8},n._isMounted=!1,Object(l.e)(n.state,e),n.state.numParties=100,n.chart=null,n.refreshIntervalID=0,n.exportAsPNG=n.exportAsPNG.bind(En(En(n))),n.exportAsPNGUri=n.exportAsPNGUri.bind(En(En(n))),n.handleRegionChange=l.y.bind(En(En(n))),n.handlePreviewEvent=n.handlePreviewEvent.bind(En(En(n))),n}var n,i,c;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nn(e,t)}(t,a["Component"]),n=t,(i=[{key:"componentDidMount",value:function(){this._isMounted=!0;var e=this;this.draw(this.getContainer(),this.state),this.refreshIntervalID=setInterval(function(){e.draw(e.getContainer(),e.state)},3e4),document.addEventListener(v.a.EXPORT_PNG,this.exportAsPNG),document.addEventListener(v.a.REGION_CHANGE,this.handleRegionChange),document.addEventListener(v.a.CHART_PREVIEW,this.handlePreviewEvent)}},{key:"componentDidUpdate",value:function(){this.draw(this.getContainer(),this.state)}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.chart=null,document.removeEventListener(v.a.EXPORT_PNG,this.exportAsPNG),document.removeEventListener(v.a.REGION_CHANGE,this.handleRegionChange),document.removeEventListener(v.a.CHART_PREVIEW,this.handlePreviewEvent),clearInterval(this.refreshIntervalID)}},{key:"exportAsPNGUri",value:function(){var e=this;return new Promise(function(t,n){f.a.svgAsPngUri(e.refs.vizcontainer.childNodes[0],{},function(e){t(e.split(",")[1])})})}},{key:"exportAsPNG",value:function(e){e.detail.componentID==this.state.componentID&&f.a.saveSvgAsPng(this.refs.vizcontainer.childNodes[0],"race-for-seats-horseshoe-chart(".concat(Object(l.l)(this.state),").png"))}},{key:"handlePreviewEvent",value:function(e){if(this._isMounted){var t=e.detail;this.chart&&this.chart.destroy(),this.chart=new fn(this.getContainer(),null,null,Pn,Cn),this.setState(t)}}},{key:"getContainer",value:function(){return o.select(this.refs.vizcontainer)}},{key:"render",value:function(){var e=this.state,t=e.stylesheetFor,n=e.componentID,a=In(new Date);return r.a.createElement("div",{className:Pn("votepredictionlinechart")+" "+Sn("stylesheet-".concat(t))},-1e3!=n&&r.a.createElement("div",{className:Sn("chart-title")},Cn.chartType," (",Object(l.l)(this.state),"): "),r.a.createElement("div",{className:Sn("vote-prediction-title")},r.a.createElement("div",{className:Sn("projected-turnout")},"Projected turnout: ",r.a.createElement("span",{ref:"projectedTurnout"},"10%")),r.a.createElement("div",{className:Sn("prediction-time")},"Predictions at ",r.a.createElement("span",{ref:"lastTimestamp"},a))),r.a.createElement("div",{ref:"vizcontainer",className:Sn("chart-body")}),r.a.createElement("div",{className:Sn("CSIR-bottom-label")},r.a.createElement("b",null,"CSIR's election prediction  model"),r.a.createElement("br",null),"The CSIR produces predictions of the final results of the election based on a statistical model. The model can provide scientific predictions even if only a small number of voting districts have been declared and therefore can give a reliable early indication of what the final percentages for each party and the voter turnout rates would be."))}},{key:"draw",value:function(e,t){var n=this,a=[Object(y.p)(t)];if(!gn){var r=Object(y.d)();a.push(r)}Promise.all(a).then(function(a){var r=a[0];gn=gn||a[1],n.drawGraph(e,t,r,gn)}).catch(function(e){return console.error(e)})}},{key:"drawGraph",value:function(e,t,n,a){var r=Object(l.D)(n),o=Object(l.T)(n,t),i=Object(l.E)(n,t),c=i.turnout,u=i.timestamp;if(this.refs.projectedTurnout&&this.refs.projectedTurnout.innerHTML&&(this.refs.projectedTurnout.innerHTML=c+"%"),this.refs.lastTimestamp&&this.refs.lastTimestamp.innerHTML){var s=In(new Date(u));console.log("timestamp",new Date(u),u,s),this.refs.lastTimestamp.innerHTML=s}this.chart||(this.chart=new fn(e,null,null,Pn,Cn)),this.chart.draw(o,a,r)}}])&&hn(n.prototype,i),c&&hn(n,c),t}(),On=wn;function _n(e,t,n,a,r){r||(r={}),n=250;var i=70,c=["blue","yellow","red"],u=Object(l.c)(e,700+i,n+50),s=Object(l.d)(a),m=o.scaleBand().rangeRound([i,700]),p=o.scaleLinear().rangeRound([n,50]);u.append("g").attr("class","x axis").attr("transform","translate(0,"+n+")"),u.append("g").attr("class","y axis").attr("transform","translate("+i+", 0)");var d=u.append("g").attr("transform","translate(350,"+n/2+")").append("text").attr("text-anchor","middle");this.draw=function(e,t){if(u.selectAll(".topLabel").remove(),u.append("text").attr("class","topLabel").attr("text-anchor","middle").attr("x",350).attr("y",20).text(r.topLabel),e){d.text("");var f={},v={};t&&t.data.allParties.edges&&t.data.allParties.edges.forEach(function(e){f[e.node.name]=e.node.colour,v[e.node.name]=e.node.abbreviation}),m.domain(e.map(function(e){return e.eventDescription}));var y=[0,100];r.dynamicYAxisFromValues&&(y[1]=Math.min(100,1.5*o.max(e.map(function(e){return o.max(e.data,function(e){return parseFloat(r.yValue(e))})})))),p.domain(y);u.select(".x.axis").transition().duration(300).call(o.axisBottom(m));u.select(".y.axis").transition().duration(300).call(o.axisLeft(p).ticks(4).tickFormat(function(e){return r.yValueFormat(e)})),u.selectAll(".bar-group").remove();var h=u.selectAll(".bar-group").data(e);h.exit().transition().duration(300).style("fill-opacity",1e-6).remove(),(P=h.enter().append("g").attr("class",function(e){return"bar-group ".concat(Object(l.h)(e.eventDescription))}).attr("transform",function(e){return"translate(".concat(m(e.eventDescription)+1*m.bandwidth()/20,", 0)")})).append("g").attr("class","bar-container"),P.append("g").attr("class","bartext-container");for(var b=function(){E=e[N].eventDescription,g=e[N].data,C=o.scaleBand().rangeRound([0,9*m.bandwidth()/10]).domain(g.map(function(e){return e.name})),P=u.selectAll(".bar-group.".concat(Object(l.h)(E))),S=P.select(".bar-container"),I=P.select(".bartext-container"),(w=S.selectAll(".".concat(a("bar"))).data(g)).exit().transition().duration(300).attr("y",function(e){return p(0)}).attr("height",0).style("fill-opacity",1e-6).remove(),w.enter().append("rect").attr("class",function(e){return a("bar")+" bar_"+e.name}).attr("x",function(e,t){return C(e.name)+C.bandwidth()/4}).attr("width",1*C.bandwidth()/2).attr("fill",function(e,t){return A(e,t)}).on("mousemove",function(e,t){o.select(this).attr("opacity",.8),s.transition().duration(200).style("opacity",.9),s.html(function(e,t){return r.noXaxisByParty?e.name+" : "+r.yValueFormat(r.yValue(e)):Object(l.i)(e.partyInfo.name)+" : "+r.yValueFormat(r.yValue(e))}(e)).style("left",o.event.pageX+"px").style("top",o.event.pageY-28+"px")}).on("mouseout",function(e){o.select(this).attr("opacity",1),s.transition().duration(200).style("opacity",0)}).attr("y",function(e){return p(0)}).attr("height",0),S.selectAll(".".concat(a("bar"))).data(g).attr("fill",function(e,t){return A(e,t)}).transition().duration(300).attr("y",function(e){return p(Number(r.yValue(e)))}).attr("height",function(e){return n-p(Number(r.yValue(e)))}),(O=I.selectAll(".".concat(a("bartext"))).data(g)).exit().transition().duration(300).attr("y",function(e){return p(0)-5}).style("fill-opacity",1e-6).remove(),O.enter().append("text").attr("class",a("bartext")).attr("x",function(e){return C(e.name)+C.bandwidth()/2}).attr("text-anchor","middle").attr("font-size","7px").attr("y",function(e){return p(0)-5}),I.selectAll(".".concat(a("bartext"))).data(g).text(function(e){return r.yValueFormat(r.yValue(e))}).transition().duration(300).attr("y",function(e){return p(Number(r.yValue(e)))-5}),_=[],k=[],e.forEach(function(e){e.data.forEach(function(e){var t=e.partyInfo,n=t.name;-1==k.indexOf(t.iecId)&&(_.push(n),k.push(t.iecId))})}),u.selectAll(".".concat(a("legend"))).remove(),(x=u.selectAll(".".concat(a("legend"))).data(_).enter().append("g").attr("class",a("legend")).attr("transform",function(e,t){return"translate("+function(e){return[i+e%5*100,n+30+40*parseInt(e/5)]}(t)+")"})).append("rect").attr("width",10).attr("height",10).attr("x",0).attr("y",0).attr("fill",function(e,t){return T(e)}),x.append("text").attr("x",30).attr("y",10).attr("fill","currentColor").style("font-size","12px").text(function(e){return v[e]})},N=0;N<e.length;N++){var E,g,C,P,S,I,w,O,_,k,x;b()}}else d.text("chart data is not available");function T(e,t){return f[e.split("/")[0]]||c[t%c.length]}function A(e,t){return T(e.partyInfo.name,t)}},this.destroy=function(){u.remove()}}function kn(e){return(kn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xn(e){return(xn="function"===typeof Symbol&&"symbol"===kn(Symbol.iterator)?function(e){return kn(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":kn(e)})(e)}function Tn(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function An(e){return(An=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jn(e,t){return(jn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Dn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}wn.__docgenInfo={description:"",methods:[{name:"exportAsPNGUri",docblock:null,modifiers:[],params:[],returns:null},{name:"exportAsPNG",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handlePreviewEvent",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"getContainer",docblock:null,modifiers:[],params:[],returns:null},{name:"draw",docblock:null,modifiers:[],params:[{name:"container",type:null},{name:"props",type:null}],returns:null},{name:"drawGraph",docblock:null,modifiers:[],params:[{name:"container",type:null},{name:"props",type:null},{name:"data",type:null},{name:"partyColorsData",type:null}],returns:null}],displayName:"VotePredictionLineChart"};var Rn;Object(y.f)();function Gn(e){return c.a[e]||e}function Ln(e){return Gn(u.a.CSS_PREFIX+e)}var Vn={topLabel:"NATIONAL ASSEMBLY: 2009, 2014, 2019",usedValue:"% VDS COUNTED",yValue:function(e){return e.percOfVotes},yValueFormat:function(e){return e+"%"},dynamicYAxisFromValues:!1},Mn=function(e){function t(e){var n,a,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,(n=!(r=An(t).call(this,e))||"object"!==xn(r)&&"function"!==typeof r?Dn(a):r).state={numPartiesSplitNatProv:3,eventDescriptionsSplitNatProv:["2014 National Election","2014 Provincial Election","2019 NATIONAL ELECTION","2019 PROVINCIAL ELECTION"],regionType:"province",provinceName:"Western Cape",muniName:"",muniCode:"",iecId:"",stylesheetFor:"web",componentID:18},console.log("SplitNatProv state and props",n.state,e),Object(l.e)(n.state,e),n.chart=null,n.refreshIntervalID=0,n.exportAsPNG=n.exportAsPNG.bind(Dn(Dn(n))),n.exportAsPNGUri=n.exportAsPNGUri.bind(Dn(Dn(n))),n.handleRegionChange=l.y.bind(Dn(Dn(n))),n.handlePreviewEvent=n.handlePreviewEvent.bind(Dn(Dn(n))),n}var n,i,c;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jn(e,t)}(t,a["Component"]),n=t,(i=[{key:"componentDidMount",value:function(){var e=this;this.draw(this.getContainer(),this.state),this.refreshIntervalID=setInterval(function(){e.draw(e.getContainer(),e.state)},3e4),document.addEventListener(v.a.EXPORT_PNG,this.exportAsPNG),document.addEventListener(v.a.REGION_CHANGE,this.handleRegionChange),document.addEventListener(v.a.CHART_PREVIEW,this.handlePreviewEvent)}},{key:"componentDidUpdate",value:function(){this.draw(this.getContainer(),this.state)}},{key:"componentWillUnmount",value:function(){this.chart&&(this.chart.destroy(),this.chart=null),document.removeEventListener(v.a.EXPORT_PNG,this.exportAsPNG),document.removeEventListener(v.a.REGION_CHANGE,this.handleRegionChange),document.removeEventListener(v.a.CHART_PREVIEW,this.handlePreviewEvent),clearInterval(this.refreshIntervalID)}},{key:"exportAsPNGUri",value:function(){var e=this;return new Promise(function(t,n){f.a.svgAsPngUri(e.refs.vizcontainer.childNodes[0],{},function(e){t(e.split(",")[1])})})}},{key:"exportAsPNG",value:function(e){e.detail.componentID==this.state.componentID&&f.a.saveSvgAsPng(this.refs.vizcontainer.childNodes[0],"race-for-votes-comparison-barchart(".concat(Object(l.s)(this.state),").png"))}},{key:"handlePreviewEvent",value:function(e){var t=e.detail;this.chart&&this.chart.destroy(),this.chart=new _n(this.getContainer(),null,null,Gn,Vn),this.setState(t)}},{key:"getContainer",value:function(){return o.select(this.refs.vizcontainer)}},{key:"render",value:function(){var e=this.state.stylesheetFor;return r.a.createElement("div",{className:Ln("groupbarchart")+" "+Ln("stylesheet-".concat(e))},r.a.createElement("div",{ref:"vizcontainer",className:Ln("chart-body")}))}},{key:"draw",value:function(e,t){var n=this,a=[Object(y.m)(t)];if(Vn.topLabel="".concat(Object(l.s)(t)," Race for Votes - Split (Nat/Prov)"),-1e3==this.state.componentID&&(Vn.topLabel=""),!Rn){var r=Object(y.d)();a.push(r)}Promise.all(a).then(function(a){var r=a[0];Rn=Rn||a[1],n.drawGraph(e,t,r,Rn)}).catch(function(e){return console.error(e)})}},{key:"drawGraph",value:function(e,t,n,a){var r=Object(l.S)(n,t);this.chart||(this.chart=new _n(e,null,null,Gn,Vn)),this.chart.draw(r,a)}}])&&Tn(n.prototype,i),c&&Tn(n,c),t}(),Wn=Mn;Mn.__docgenInfo={description:"",methods:[{name:"exportAsPNGUri",docblock:null,modifiers:[],params:[],returns:null},{name:"exportAsPNG",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handlePreviewEvent",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"getContainer",docblock:null,modifiers:[],params:[],returns:null},{name:"draw",docblock:null,modifiers:[],params:[{name:"container",type:null},{name:"props",type:null}],returns:null},{name:"drawGraph",docblock:null,modifiers:[],params:[{name:"container",type:null},{name:"props",type:null},{name:"data",type:null},{name:"partyColorsData",type:null}],returns:null}],displayName:"BarChart"};var Fn=n("./node_modules/react-metismenu/lib/index.js"),Bn=n.n(Fn),Un=n("./src/components/NavBar/navbar.css"),Zn=n.n(Un);function Kn(e){return(Kn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hn(e){return(Hn="function"===typeof Symbol&&"symbol"===Kn(Symbol.iterator)?function(e){return Kn(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Kn(e)})(e)}function zn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qn(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Xn(e,t,n){return t&&qn(e.prototype,t),n&&qn(e,n),e}function Yn(e,t){return!t||"object"!==Hn(t)&&"function"!==typeof t?ea(e):t}function Jn(e){return(Jn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qn(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$n(e,t)}function $n(e,t){return($n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ea(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ta(e){return u.a.CSS_PREFIX+e}var na=Object(y.f)(),aa=Object(y.c)(),ra=function(e){function t(){var e;return zn(this,t),(e=Yn(this,Jn(t).call(this))).onClick=e.onClick.bind(ea(ea(e))),e}return Qn(t,r.a.Component),Xn(t,[{key:"onClick",value:function(e){this.props.hasSubMenu?this.props.toggleSubMenu(e):this.props.activateMe({newLocation:this.props.to,selectedMenuLabel:this.props.label})}},{key:"render",value:function(){return this.props.hasSubMenu?r.a.createElement("div",{className:"metismenu-link",onClick:this.onClick},this.props.children):r.a.createElement("div",{className:"metismenu-link metismenu-end",onClick:this.onClick},this.props.children)}}]),t}(),oa=function(e){function t(e){var n;return zn(this,t),(n=Yn(this,Jn(t).call(this,e))).state={eventDescription:"2019 National Election",nationalEventDescription:"2019 National Election",provincialEventDescription:"2019 Provincial Election",regionType:"national",provinceName:"",muniName:"",muniCode:"",iecId:"",comp:"Race for Votes",activeLinkId:""},Object(l.e)(n.state,e),e.regionType&&(n.state.regionType=e.regionType),e.provinceName&&(n.state.provinceName=e.provinceName),e.muniName&&(n.state.muniName=e.muniName),n.handleNavBarSelection=n.handleNavBarSelection.bind(ea(ea(n))),n}return Qn(t,a["Component"]),Xn(t,[{key:"componentDidMount",value:function(){var e;document.getElementById("navbarcss")||((e=document.createElement("link")).id="navbarcss",e.rel="stylesheet",e.href=u.a.DOMAIN+"/navbar.css",document.head.appendChild(e));document.getElementById("font-awesome")||((e=document.createElement("link")).id="font-awesome",e.rel="stylesheet",e.href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css",document.head.appendChild(e));this.refs.navbar.addEventListener("click",this.handleNavBarSelection)}},{key:"componentWillUnmount",value:function(){this.refs.navbar.removeEventListener("click",this.handleNavBarSelection)}},{key:"componentDidUpdate",value:function(){}},{key:"handleNavBarSelection",value:function(e){if(-1!=e.target.className.indexOf("metismenu-link")){this.activeElement&&this.activeElement.classList&&this.activeElement.classList.remove&&this.activeElement.classList.remove("active"),e.target.classList.add("active"),this.activeElement=e.target;var t=e.target.childNodes[0].className.split(" "),n=t[t.length-1];console.log("handleNavBarSelection",n);var a,r,o,i,c=n.split("-"),u=!0,s=!0,m={},p="",d=c.slice(1,c.length).join("-");if(console.log("activeLinkId",d),"1"==c[1])if(a=this.state.nationalEventDescription,o="national","1"==c[2])switch(c[3]){case"1":p="votes-default";break;case"2":p="votes-comparisons",u=!1;break;case"3":p="votes-predictions",u=!1,s=!1;break;case"4":p="votes-progress";break;case"5":p="votes-turnout";break;case"6":p="votes-split",u=!1;break;case"7":p="votes-myvd";break;default:return}else if("2"==c[2])switch(c[3]){case"1":p="seats-default",u=!1;break;case"2":p="seats-comparisons",u=!1;break;case"3":p="seats-electeds";break;case"4":p="seats-women";break;case"5":p="seats-age";break;default:return}else{if("4"!=c[3])return;p="votes-default"}else if("2"==c[1])if(a=this.state.provincialEventDescription,o="province",m=na[c[2]],"1"==c[3])switch(c[4]){case"1":p="votes-default";break;case"2":p="votes-comparisons",u=!1;break;case"3":p="votes-progress";break;case"4":p="votes-turnout";break;case"5":p="votes-split",u=!1;break;case"6":p="votes-predictions",u=!1,s=!1;break;default:return}else if("2"==c[3])switch(c[4]){case"1":p="seats-default",u=!1;break;case"2":p="seats-comparisons",u=!1;break;case"3":p="seats-electeds";break;case"4":p="seats-women";break;case"5":p="seats-age";break;default:return}else{if("4"!=c[3])return;o="national",p="votes-default"}else{if("3"!=c[1])return;a=this.state.nationalEventDescription,o="municipality",m=aa[c[2]],p="votes-default-metro"}if(p)a&&(r=a.toLowerCase().indexOf("provincial")>=0?"provincial":"national"),e.preventDefault(),"national"==o?i={regionType:o}:"province"==o?i={regionType:o,provinceName:m.name}:"municipality"==o&&(i={regionType:o,provinceName:m.provinceName,muniName:m.muniName,muniCode:m.muniCode}),i.eventDescription=a,i.electionType=r,i.comp=p,i.enableMap=u,i.enableTurnoutProgressSpoilt=s,console.log("newState",i),"votes-myvd"==i.comp&&(i.regionType="municipality-vd",i.iecId=""),"seats-electeds"!=i.comp&&"seats-women"!=i.comp&&"seats-age"!=i.comp?(Object(l.U)(v.a.QUICK_RESULTS_PREVIEW,i),i.activeLinkId=d,console.log("newState",i),this.setState(i)):Object(l.U)(v.a.SEATS_ELECTEDS_EVENT,i)}}},{key:"render",value:function(){var e,t=[{label:"National Assembly",content:[{label:"Race for votes",content:[{id:"1-1-1",icon:"1-1-1",label:"National assembly",to:"1-1-1"},{id:"1-1-2",icon:"1-1-2",label:"Comparisons",to:"1-1-2"},{icon:"1-1-3",label:"CSIR predictions",to:"1-1-3"},{icon:"1-1-4",label:"Counting progress",to:"1-1-4"},{icon:"1-1-5",label:"Turnout",to:"1-1-5"},{icon:"1-1-7",label:"My voting District",to:"1-1-7"},{label:"Metros",icon:"3-2",content:aa.map(function(e,t){return{icon:"3-".concat(t),label:e.muniName.split("-")[1].split("[")[0],to:"3-".concat(t)}})}]},{label:"Race for seats",content:[{icon:"1-2-1",label:"National assembly",to:"1-2-1"},{icon:"1-2-2",label:"Comparisons",to:"1-2-2"}]}]},{label:"Provincial Legislature",content:na.map(function(e,t){return{label:e.name,content:[{label:"Race for votes",content:[{icon:"2-".concat(t,"-1-1"),label:"Provincial legislature",to:"2-".concat(t,"-1-1")},{icon:"2-".concat(t,"-1-2"),label:"Comparisons",to:"2-".concat(t,"-1-2")},{icon:"2-".concat(t,"-1-3"),label:"Counting progress",to:"2-".concat(t,"-1-3")},{icon:"2-".concat(t,"-1-4"),label:"Turnout",to:"2-".concat(t,"-1-4")},{icon:"2-".concat(t,"-1-5"),label:"Split (Nat/Prov)",to:"2-".concat(t,"-1-5")},{icon:"2-".concat(t,"-1-6"),label:"CSIR Predictions",to:"2-".concat(t,"-1-6")}]},{label:"Race for seats",content:[{icon:"2-".concat(t,"-2-1"),label:"Provincial legislature",to:"2-".concat(t,"-2-1")},{icon:"2-".concat(t,"-2-2"),label:"Comparisons",to:"2-".concat(t,"-2-2")}]}]}})}];return r.a.createElement("div",{className:[(e=ta("menu-widget"),Zn.a[e]||e),ta("menu-widget")].join(" "),ref:"navbar"},r.a.createElement(Bn.a,{activeLinkTo:"1-2-1",content:t,LinkComponent:ra}))}}]),t}(),ia=oa;function ca(e){return(ca="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function la(e){return(la="function"===typeof Symbol&&"symbol"===ca(Symbol.iterator)?function(e){return ca(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":ca(e)})(e)}function ua(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function sa(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ma(e){return(ma=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pa(e,t){return(pa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function da(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}oa.__docgenInfo={description:"",methods:[{name:"handleNavBarSelection",docblock:null,modifiers:[],params:[{name:"e",type:null}],returns:null}],displayName:"NavBar"};function fa(e){return Je.a[e]||e}function va(e){return fa(u.a.CSS_PREFIX+e)}var ya=function(e){function t(e){var n,a,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,(n=!(r=ma(t).call(this,e))||"object"!==la(r)&&"function"!==typeof r?da(a):r)._isMounted=!1,n.state={numParties:5,electionType:"national",eventDescription:"2019 National Election",nationalEventDescription:"2019 National Election",provincialEventDescription:"2019 Provincial Election",regionType:"national",provinceName:"",muniName:"",muniCode:"",iecId:"65010035",comp:"votes-default",stylesheetFor:"web",componentID:5,enableBarChart:!0,enableMap:!0,enableTurnoutProgressSpoilt:!0,partyAbbrs:["ANC","DA","EFF","ID"],partyIecIds:[null,null,null,null],eventDescriptions:{national:["2019 NATIONAL ELECTION","2014 National Election","22 Apr 2009 National Election","14 Apr 2004 National Election"],provincial:["2019 PROVINCIAL ELECTION","2014 Provincial Election","22 Apr 2009 Provincial Election","14 Apr 2004 Provincial Election"]},eventDescriptionsSplitNatProv:["2019 NATIONAL ELECTION","2019 PROVINCIAL ELECTION","2014 National Election","2014 Provincial Election"],currentTurnout:0,currentCountingProg:0,currentSpoiltVotes:0},Object(l.e)(n.state,e),n.refreshIntervalID=0,n.exportAsPNG=n.exportAsPNG.bind(da(da(n))),n.handleRegionChange=l.y.bind(da(da(n))),n.handlePreviewEvent=n.handlePreviewEvent.bind(da(da(n))),n}var n,o,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pa(e,t)}(t,a["Component"]),n=t,(o=[{key:"componentDidMount",value:function(){this._isMounted=!0;var e=this;this.refreshIntervalID=setInterval(function(){e.fetchCurrentResultData(!1)},3e4),document.addEventListener(v.a.EXPORT_SUPERWIDGET_PNG,this.exportAsPNG),document.addEventListener(v.a.REGION_CHANGE,this.handleRegionChange),document.addEventListener(v.a.QUICK_RESULTS_PREVIEW,this.handlePreviewEvent),document.addEventListener(v.a.SEATS_ELECTEDS_EVENT,this.handleSeatsElectedsEvent),this.fetchCurrentResultData(!1)}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,document.removeEventListener(v.a.EXPORT_SUPERWIDGET_PNG,this.exportAsPNG),document.removeEventListener(v.a.REGION_CHANGE,this.handleRegionChange),document.removeEventListener(v.a.QUICK_RESULTS_PREVIEW,this.handlePreviewEvent)}},{key:"componentDidUpdate",value:function(e,t){this.fetchCurrentResultData(!0)}},{key:"handleSeatsElectedsEvent",value:function(e){}},{key:"fetchCurrentResultData",value:function(e){var t=this,n=JSON.parse(JSON.stringify(this.state)),a=this.state,r=a.comp,o=a.iecId;if(e&&(console.log("showLoadingIcon"),t.refs.currentTurnout&&(t.refs.currentTurnout.innerHTML="--"),t.refs.currentCountingProg&&(t.refs.currentCountingProg.innerHTML="--"),t.refs.currentSpoiltVotes&&(t.refs.currentSpoiltVotes.innerHTML="--")),"municipality-vd"==n.regionType&&(!o||!o.length))return t.refs.currentTurnout&&(t.refs.currentTurnout.innerHTML="--"),t.refs.currentCountingProg&&(t.refs.currentCountingProg.innerHTML="--"),void(t.refs.currentSpoiltVotes&&(t.refs.currentSpoiltVotes.innerHTML="--"));var i=[Object(y.i)(n),Object(y.l)(n),Object(y.e)(n)];"votes-comparisons"==r&&i.push(Object(y.o)(n)),"seats-comparisons"==r&&i.push(Object(y.g)(n)),Promise.all(i).then(function(e){var a,o=e[0],i=e[1],c=e[2],u=Object(l.L)(o,n),s=Object(l.O)(i,n),m=Object(l.H)(c,n);if(a=s[0]&&m[0]&&u[1]?{currentTurnout:s[0].percVoterTurnout,currentCountingProg:m[0].percent,currentSpoiltVotes:u[1].percent}:{currentTurnout:0,currentCountingProg:0,currentSpoiltVotes:0},"votes-comparisons"==r){var p=e[3],d=Object(l.R)(p,n);a.partyAbbrs=d.map(function(e){return e.name}),a.partyIecIds=d.map(function(e){return e.iecId})}else if("seats-comparisons"==r){var f=e[3],v=Object(l.K)(f,n);a.partyAbbrs=v.map(function(e){return e.name}),a.partyIecIds=v.map(function(e){return e.iecId})}a.partyIecIds&&a.partyIecIds.join(" ")!=t.state.partyIecIds.join(" ")?t.setState(a):(t.refs.currentTurnout&&(t.refs.currentTurnout.innerHTML=a.currentTurnout+"%"),t.refs.currentCountingProg&&(t.refs.currentCountingProg.innerHTML=a.currentCountingProg+"%"),t.refs.curCountingProg&&t.refs.curCountingProg.innerHTML&&t._isMounted&&(console.log("self.refs.curCountingProg",t.refs.curCountingProg,t._isMounted),t.refs.curCountingProg.innerHTML=a.currentCountingProg+"%"),t.refs.currentSpoiltVotes&&(t.refs.currentSpoiltVotes.innerHTML=a.currentSpoiltVotes+"%"))}).catch(function(e){return console.error("catched error",e)})}},{key:"exportAsPNG",value:function(e){if(e.detail.componentID==this.state.componentID){var t=this.state.comp,n="quick-results-widget-".concat(t.replace(/\s/gi,"-"),"(").concat(Object(l.s)(this.state),")"),a=[];a="votes-comparisons"==t||"seats-comparisons"==t?[].concat(ua(this.barchartInstances.map(function(e){return e.exportAsPNGUri()})),[this.mapInstance.exportAsPNGUri()]):[this.barchartInstance.exportAsPNGUri(),this.mapInstance.exportAsPNGUri()],Promise.all(a).then(function(e){var t=new window.JSZip,a=t.folder(n);e.forEach(function(e,t){a.file("image".concat(t+1,".png"),e,{base64:!0})}),t.generateAsync({type:"blob"}).then(function(e){Object(We.saveAs)(e,"".concat(n,".zip"))})}).catch(function(e){console.error("export error",e)})}}},{key:"handlePreviewEvent",value:function(e){if(this._isMounted){var t=e.detail;"national"==t.regionType&&"votes-split"==this.state.comp&&(t.regionType="province",t.provinceName=this.state.provinceName||"Western Cape"),this.setState(t);var n=JSON.parse(JSON.stringify(t));n.componentID=-1e3,Object(l.U)(v.a.CHART_PREVIEW,n),Object(l.U)(v.a.MAP_PREVIEW,n)}}},{key:"renderTurnoutProgressSpoilt",value:function(){var e=this.state,t=e.comp,n=e.currentTurnout,a=e.currentCountingProg,o=e.currentSpoiltVotes;return"votes-turnout"==t||"votes-progress"==t?null:r.a.createElement("div",{className:va("current-progress")},r.a.createElement("div",{className:va("current-turnout")},r.a.createElement("div",null,"Turnout"),r.a.createElement("div",{ref:"currentTurnout"},n,"%")),r.a.createElement("div",{className:va("current-counting-progress")},r.a.createElement("div",null,"Counting Progress"),r.a.createElement("div",{ref:"currentCountingProg"},a,"%")),r.a.createElement("div",{className:va("current-spoilt-votes")},r.a.createElement("div",null,"Spoilt Votes"),r.a.createElement("div",{ref:"currentSpoiltVotes"},o,"%")))}},{key:"renderQuickResultsTitle",value:function(){var e=this.state,t=e.comp,n=e.currentCountingProg;return"votes-default"==t?r.a.createElement("div",{className:fa("quick-results-title")},"Race for Votes: ",Object(l.o)(this.state)):"votes-default-metro"==t?r.a.createElement("div",{className:fa("quick-results-title")},"Race for Votes: ",Object(l.n)(this.state)," - ",r.a.createElement("span",{className:"regionName"},Object(l.t)(this.state))):"seats-default"==t?r.a.createElement("div",{className:fa("quick-results-title")+" "+fa("race-for-seats")},"Race for Seats: ",Object(l.o)(this.state)," (",Object(l.v)(this.state),")"):"votes-turnout"==t?r.a.createElement("div",{className:fa("quick-results-title")},"Turnout: ",Object(l.q)(this.state)):"votes-progress"==t?r.a.createElement("div",{className:fa("quick-results-title")},"Counting Progress",Object(l.p)(this.state)):"votes-comparisons"==t?r.a.createElement("div",{className:fa("quick-results-title")},"Comparisons: ",Object(l.o)(this.state)):"seats-comparisons"==t?r.a.createElement("div",{className:fa("quick-results-title")+" "+fa("race-for-seats")},"Comparisons: ",Object(l.o)(this.state)," (",Object(l.v)(this.state),")"):"votes-myvd"==t?r.a.createElement("div",{className:fa("quick-results-title")},"Voting District"):"votes-split"==t?r.a.createElement("div",{className:fa("quick-results-title")},"Split (Nat/Prov): National Assembly and ",Object(l.o)(this.state)):"votes-predictions"==t?r.a.createElement("div",{className:fa("quick-results-title")},"CSIR predictions for final results, with ",r.a.createElement("span",{ref:"curCountingProg"},n,"%")," VDs counted: ",Object(l.u)(this.state)):null}},{key:"renderMap",value:function(){var e=this,t=this.state,n=t.comp,a=t.iecId,o=t.muniCode,i=JSON.parse(JSON.stringify(this.state));return"votes-myvd"==n?a&&a.length&&o&&o.length?(i.disableNavigation=!0,r.a.createElement("div",{className:fa("map-container")},r.a.createElement("div",{className:va("leadingmap-title-container")},r.a.createElement("div",{className:va("leading-parties")},"Leading Parties"),r.a.createElement("div",{className:va("helper-text")},"Click on the map for lower level results")),r.a.createElement(ye,Object.assign({ref:function(t){e.mapInstance=t},key:n},i,{componentID:-1e3})))):null:"votes-split"==n?(i.disableNavigation=!0,i.regionType="national",r.a.createElement("div",{className:fa("map-container")},r.a.createElement("div",{className:va("leadingmap-title-container")},r.a.createElement("div",{className:va("leading-parties")},"Leading Parties"),r.a.createElement("div",{className:va("helper-text")},"Click on the map for lower level results")),r.a.createElement(ye,Object.assign({ref:function(t){e.mapInstance=t},key:n},i,{componentID:-1e3})))):"votes-turnout"==n?r.a.createElement("div",{className:fa("map-container")},r.a.createElement(we,Object.assign({ref:function(t){e.mapInstance=t},key:n},this.state,{componentID:-1e3}))):"votes-progress"==n?(console.log("votes-PROGRESS"),r.a.createElement("div",{className:fa("map-container")},r.a.createElement(we,Object.assign({ref:function(t){e.mapInstance=t},key:n},this.state,{isTurnout:!1,componentID:-1e3})))):r.a.createElement("div",{className:fa("map-container")},("votes-default"===n||"votes-default-metro"===n)&&r.a.createElement("div",{className:va("leadingmap-title-container")},r.a.createElement("div",{className:va("leading-parties")},"Leading Parties"),r.a.createElement("div",{className:va("helper-text")},"Click on the map for lower level results")),r.a.createElement(ye,Object.assign({ref:function(t){e.mapInstance=t},key:n},this.state,{componentID:-1e3})))}},{key:"renderBarchart",value:function(){var e=this,t=this.state,n=t.comp,a=t.partyIecIds,o=t.partyAbbrs,i=t.iecId;if("votes-default"==n||"votes-default-metro"==n||"votes-myvd"==n&&i&&i.length)return r.a.createElement("div",{className:fa("barchart-container")},r.a.createElement(_,Object.assign({key:n,ref:function(t){e.barchartInstance=t}},this.state,{componentID:-1e3})));if("seats-default"==n)return r.a.createElement("div",{className:fa("barchart-container")},r.a.createElement(mn,Object.assign({ref:function(t){e.barchartInstance=t}},this.state,{componentID:-1e3})));if("votes-turnout"==n)return r.a.createElement("div",{className:fa("barchart-container")},r.a.createElement(Le,Object.assign({ref:function(t){e.barchartInstance=t}},this.state,{componentID:-1e3})));if("votes-progress"==n)return r.a.createElement("div",{className:fa("barchart-container")},r.a.createElement(mt,Object.assign({ref:function(t){e.barchartInstance=t}},this.state,{componentID:-1e3})));if("votes-predictions"==n)return r.a.createElement("div",{className:fa("barchart-container")},r.a.createElement(On,Object.assign({ref:function(t){e.barchartInstance=t}},this.state,{componentID:-1e3})));if("votes-comparisons"==n){var c=this.state.numParties;return this.barchartInstances=new Array(c),r.a.createElement("div",{className:fa("barchart-container")},a.map(function(t,n){return r.a.createElement(Lt,Object.assign({ref:function(t){e.barchartInstances[n]=t},key:n},e.state,{partyAbbr:o[n],partyIecId:t,componentID:-1e3}))}))}return"seats-comparisons"==n?(this.barchartInstances=new Array(c),r.a.createElement("div",{className:fa("barchart-container")},a.map(function(t,n){return r.a.createElement(Xt,Object.assign({ref:function(t){e.barchartInstances[n]=t},key:n},e.state,{partyAbbr:o[n],partyIecId:t,componentID:-1e3}))}))):"votes-split"==n?r.a.createElement("div",{className:fa("barchart-container")},r.a.createElement(Wn,Object.assign({ref:function(t){e.barchartInstance=t}},this.state,{componentID:-1e3}))):null}},{key:"renderMyVDEnterForm",value:function(){return"votes-myvd"!=this.state.comp?null:r.a.createElement("div",{className:"voting-district-enter-form"},r.a.createElement("input",{ref:"vdInput",type:"text",placeholder:"Enter your VD number"}),r.a.createElement("button",{onClick:this.onShowVDResult.bind(this)}," Show Result"),r.a.createElement("p",{className:"iec-link"},"Look up your voting district number at the ",r.a.createElement("a",{href:"http://maps.elections.org.za/vsfinder/"},"IEC"),"."))}},{key:"onShowVDResult",value:function(){if(0!=this.refs.vdInput.value.length){var e={regionType:"municipality-vd",iecId:this.refs.vdInput.value,muniCode:""};Object(l.U)(v.a.REGION_CHANGE,e)}else alert("please enter valid vd number")}},{key:"render",value:function(){var e=this.state.stylesheetFor,t=[];return t.push(this.renderQuickResultsTitle()),this.state.enableTurnoutProgressSpoilt&&t.push(this.renderTurnoutProgressSpoilt()),t.push(this.renderMyVDEnterForm()),this.state.enableBarChart&&t.push(this.renderBarchart()),this.state.enableMap&&t.push(this.renderMap()),r.a.createElement("div",{className:fa("quickresultswidget")+" "+va("stylesheet-".concat(e))},r.a.createElement("div",{className:va("row")},r.a.createElement("div",{className:va("col-md-4")+" "+fa("main-left-part")},r.a.createElement(ia,this.state)),r.a.createElement("div",{className:va("col-md-8")+" "+fa("main-right-part")},t)))}}])&&sa(n.prototype,o),i&&sa(n,i),t}(),ha=ya;function ba(e,t,n,a,r){r||(r={}),e.selectAll("svg").remove();var i=["blue","yellow","red"],c=e.append("svg").attr("preserveAspectRatio","xMinYMin meet").attr("viewBox",r.viewBox||"0 0 770 420").classed("svg-content",!0),s=Object(l.d)(a),m=o.scaleBand().rangeRound([70,700]),p=o.scaleLinear().rangeRound([300,120]),d=c.append("g").attr("transform","translate(350,150)").append("text").attr("text-anchor","middle");this.draw=function(e,t){if(c.selectAll(".topLabel").remove(),c.append("text").attr("class","topLabel").attr("text-anchor","middle").attr("x",350).attr("y",20).text(r.topLabel),e){d.text("");var n={},f=t;f&&f.data.allParties.edges&&f.data.allParties.edges.forEach(function(e){n[e.node.name]=e.node.colour}),m.domain(e.map(function(e){return e.partyAbbr}));var v=[0,100];r.dynamicYAxisFromValues&&(v[1]=o.max(e.map(function(e){return o.max(e.data,function(e){return parseFloat(r.yValue(e))})}))+1),p.domain(v);var y=c.selectAll(".bar-group").data(e);y.exit().transition().duration(300).style("fill-opacity",1e-6).remove(),(b=y.enter().append("g").attr("class",function(e){return"bar-group ".concat(Object(l.h)(e.partyAbbr))}).attr("transform",function(e){return"translate(".concat(m(e.partyAbbr),", 0)")})).append("rect").attr("class",a(u.a.CSS_PREFIX+"grouprect")).attr("x",1*-m.bandwidth()/12).attr("y",35).attr("width",5*m.bandwidth()/6).attr("height",300),b.append("g").attr("class","groupname-container").attr("transform","translate(".concat(1*m.bandwidth()/3,", ").concat(70,")")).append("text").attr("text-anchor","middle").text(function(e){return e.partyAbbr}),b.append("g").attr("class","bar-container"),b.append("g").attr("class","bartext-container"),b.append("g").attr("class","baraxistext-container");for(var h=0;h<e.length;h++){var b,N=e[h].partyAbbr,E=e[h].data,g=o.scaleBand().rangeRound([0,2*m.bandwidth()/3]).domain(E.map(function(e){return e.name})),C=(b=c.selectAll(".bar-group.".concat(Object(l.h)(N)))).select(".bar-container"),P=b.select(".bartext-container"),S=b.select(".baraxistext-container"),I=C.selectAll(".".concat(a("bar"))).data(E);I.exit().transition().duration(300).attr("y",function(e){return p(0)}).attr("height",0).style("fill-opacity",1e-6).remove(),I.enter().append("rect").attr("class",function(e){return a("bar")+" bar_"+e.name}).attr("x",function(e,t){return g(e.name)+g.bandwidth()/4}).attr("width",1*g.bandwidth()/2).attr("fill",function(e,t){return _(e,t)}).on("mousemove",function(e,t){o.select(this).attr("opacity",.8),s.transition().duration(200).style("opacity",.9),s.html(k(e)).style("left",o.event.pageX+"px").style("top",o.event.pageY-28+"px")}).on("mouseout",function(e){o.select(this).attr("opacity",1),s.transition().duration(200).style("opacity",0)}).attr("y",function(e){return p(0)}).attr("height",0),C.selectAll(".".concat(a("bar"))).data(E).attr("fill",function(e,t){return _(e,t)}).transition().duration(300).attr("y",function(e){return p(Number(r.yValue(e)))}).attr("height",function(e){return 300-p(Number(r.yValue(e)))});var w=S.selectAll(".".concat(a("bartext"))).data(E);w.exit().transition().duration(300).style("fill-opacity",1e-6).remove(),w.enter().append("text").attr("class",a("bartext")).attr("x",function(e){return g(e.name)+g.bandwidth()/2}).attr("text-anchor","middle").attr("font-size","7px").attr("y",function(e){return p(0)+18}),S.selectAll(".".concat(a("bartext"))).data(E).text(function(e){return/(19|20)\d{2}/g.exec(e.name)[0]});var O=P.selectAll(".".concat(a("bartext"))).data(E);O.exit().transition().duration(300).attr("y",function(e){return p(0)-5}).style("fill-opacity",1e-6).remove(),O.enter().append("text").attr("class",a("bartext")).attr("x",function(e){return g(e.name)+g.bandwidth()/2}).attr("text-anchor","middle").attr("font-size","7px").attr("y",function(e){return p(0)-5}),P.selectAll(".".concat(a("bartext"))).data(E).text(function(e){return r.yValueFormat(r.yValue(e))}).transition().duration(300).attr("y",function(e){return p(Number(r.yValue(e)))-5})}}else d.text("chart data is not available");function _(e,t){return function(e,t){return n[e.split("/")[0]]||i[t%i.length]}(e.partyInfo.name,t)}function k(e,t){return r.noXaxisByParty?e.name+" : "+r.yValueFormat(r.yValue(e)):Object(l.i)(e.partyInfo.name)+" : "+r.yValueFormat(r.yValue(e))}},this.destroy=function(){c.remove()}}function Na(e){return(Na="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ea(e){return(Ea="function"===typeof Symbol&&"symbol"===Na(Symbol.iterator)?function(e){return Na(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Na(e)})(e)}function ga(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Ca(e){return(Ca=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pa(e,t){return(Pa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Sa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}ya.__docgenInfo={description:"",methods:[{name:"handleSeatsElectedsEvent",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"fetchCurrentResultData",docblock:null,modifiers:[],params:[{name:"showLoadingIcon",type:null}],returns:null},{name:"exportAsPNG",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handlePreviewEvent",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"renderTurnoutProgressSpoilt",docblock:null,modifiers:[],params:[],returns:null},{name:"renderQuickResultsTitle",docblock:null,modifiers:[],params:[],returns:null},{name:"renderMap",docblock:null,modifiers:[],params:[],returns:null},{name:"renderBarchart",docblock:null,modifiers:[],params:[],returns:null},{name:"renderMyVDEnterForm",docblock:null,modifiers:[],params:[],returns:null},{name:"onShowVDResult",docblock:null,modifiers:[],params:[],returns:null}],displayName:"QuickResultsWidget"};var Ia,wa={topLabel:"NATIONAL ASSEMBLY: 2009, 2014, 2019",usedValue:"SEATS COUNTED",yValue:function(e){return e.seats},yValueFormat:function(e){return e},dynamicYAxisFromValues:!0,viewBox:"45 0 655 340"};function Oa(e){return c.a[e]||e}function _a(e){return Oa(u.a.CSS_PREFIX+e)}var ka=function(e){function t(e){var n,a,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,(n=!(r=Ca(t).call(this,e))||"object"!==Ea(r)&&"function"!==typeof r?Sa(a):r).state={partyAbbrs:["ANC","DA","EFF","ID"],partyIecIds:[null,null,null,null],eventDescriptions:["14 Apr 2004 National Election","22 Apr 2009 National Election","2014 National Election","2019 NATIONAL ELECTION"],regionType:"national",provinceName:"",muniName:"",muniCode:"",iecId:"",stylesheetFor:"web",componentID:12},Object(l.e)(n.state,e),n.chart=null,n.refreshIntervalID=0,n.exportAsPNG=n.exportAsPNG.bind(Sa(Sa(n))),n.exportAsPNGUri=n.exportAsPNGUri.bind(Sa(Sa(n))),n.handleRegionChange=l.y.bind(Sa(Sa(n))),n.handlePreviewEvent=n.handlePreviewEvent.bind(Sa(Sa(n))),n}var n,i,c;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pa(e,t)}(t,a["Component"]),n=t,(i=[{key:"componentDidMount",value:function(){var e=this;this.draw(this.getContainer(),this.state),this.refreshIntervalID=setInterval(function(){e.draw(e.getContainer(),e.state)},3e4),document.addEventListener(v.a.EXPORT_PNG,this.exportAsPNG),document.addEventListener(v.a.REGION_CHANGE,this.handleRegionChange),document.addEventListener(v.a.CHART_PREVIEW,this.handlePreviewEvent)}},{key:"componentDidUpdate",value:function(){this.draw(this.getContainer(),this.state)}},{key:"componentWillUnmount",value:function(){this.chart=null,document.removeEventListener(v.a.EXPORT_PNG,this.exportAsPNG),document.removeEventListener(v.a.REGION_CHANGE,this.handleRegionChange),document.removeEventListener(v.a.CHART_PREVIEW,this.handlePreviewEvent),clearInterval(this.refreshIntervalID)}},{key:"exportAsPNGUri",value:function(){var e=this;return new Promise(function(t,n){f.a.svgAsPngUri(e.refs.vizcontainer.childNodes[0],{},function(e){t(e.split(",")[1])})})}},{key:"exportAsPNG",value:function(e){e.detail.componentID==this.state.componentID&&f.a.saveSvgAsPng(this.refs.vizcontainer.childNodes[0],"race-for-seats-comparison-barchart(".concat(Object(l.l)(this.state),").png"))}},{key:"handlePreviewEvent",value:function(e){var t=e.detail;this.chart&&this.chart.destroy(),this.chart=new ba(this.getContainer(),null,null,Oa,wa),this.setState(t)}},{key:"getContainer",value:function(){return o.select(this.refs.vizcontainer)}},{key:"render",value:function(){var e=this.state.stylesheetFor;return r.a.createElement("div",{className:_a("groupbarchart")+" "+_a("stylesheet-".concat(e))},r.a.createElement("div",{ref:"vizcontainer",className:_a("chart-body")}))}},{key:"draw",value:function(e,t){var n=this,a=[Object(y.h)(t)];if(wa.topLabel="".concat(t.regionType.toUpperCase()," ASSEMBLY: ").concat(t.eventDescriptions.map(function(e){return/(19|20)\d{2}/g.exec(e)[0]}).join(", ")),"national"==t.regionType?wa.topLabel="Race for Seats Comparison - National Assembly":wa.topLabel="Race for Seats Comparison - ".concat(Object(l.l)(t)),!Ia){var r=Object(y.d)();a.push(r)}Promise.all(a).then(function(a){var r=a[0];Ia=Ia||a[1],n.drawGraph(e,t,r,Ia)}).catch(function(e){return console.error(e)})}},{key:"drawGraph",value:function(e,t,n,a){var r=Object(l.J)(n,t);this.chart||(this.chart=new ba(e,null,null,Oa,wa)),this.chart.draw(r,a)}}])&&ga(n.prototype,i),c&&ga(n,c),t}(),xa=ka;function Ta(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){Aa(e,t,n[t])})}return e}function Aa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ja(e,t,n,a,r){r||(r={}),e.selectAll("svg").remove();var i=["blue","yellow","red"],c=e.append("svg").attr("preserveAspectRatio","xMinYMin meet").attr("viewBox","0 0 770 420").classed("svg-content",!0),u=Object(l.d)(a),s=o.scaleBand().rangeRound([70,700]),m=o.scaleLinear().rangeRound([300,120]),p=c.append("g").attr("transform","translate(350,150)").append("text").attr("text-anchor","middle");this.draw=function(e,t){if(c.selectAll(".topLabel").remove(),c.append("text").attr("text-anchor","middle").attr("class","topLabel").attr("x",350).attr("y",20).text(r.topLabel),e){p.text("");var n={},d=t;d&&d.data.allParties.edges&&d.data.allParties.edges.forEach(function(e){n[e.node.name]=e.node.colour});var f=e.map(function(e){var t=e.data;return Ta({},e,{data:[Ta({},t[1],{delta:r.yValue(t[1])-r.yValue(t[0])})]})});s.domain(e.map(function(e){return e.partyAbbr}));var v=[-100,100];r.dynamicYAxisFromValues&&(v[1]=o.max(f.map(function(e){return parseFloat(e.data[0].delta)}))+1,v[0]=o.min(f.map(function(e){return parseFloat(e.data[0].delta)}))-1),m.domain(v);var y=c.selectAll(".bar-group").data(f);y.exit().transition().duration(300).style("fill-opacity",1e-6).remove(),(b=y.enter().append("g").attr("class",function(e){return"bar-group ".concat(Object(l.h)(e.partyAbbr))}).attr("transform",function(e){return"translate(".concat(s(e.partyAbbr),", 0)")})).append("g").attr("class","groupname-container").attr("transform","translate(".concat(1*s.bandwidth()/3,", ").concat(70,")")).append("text").attr("text-anchor","middle").text(function(e){return e.partyAbbr}),b.append("g").attr("class","bar-container"),b.append("g").attr("class","bartext-container");for(var h=0;h<f.length;h++){var b,N=f[h].partyAbbr,E=f[h].data,g=(b=c.selectAll(".bar-group.".concat(Object(l.h)(N)))).select(".bar-container"),C=b.select(".bartext-container"),P=g.selectAll(".".concat(a("bar"))).data(E);P.exit().transition().duration(300).attr("height",0).style("fill-opacity",1e-6).remove(),P.enter().append("rect").attr("class",function(e){return a("bar")+" bar_"+e.name}).attr("x",s.bandwidth()/6).attr("width",1*s.bandwidth()/3).attr("fill",function(e,t){return I(e,t)}).on("mousemove",function(e,t){o.select(this).attr("opacity",.8),u.transition().duration(200).style("opacity",.9),u.html(w(e)).style("left",o.event.pageX+"px").style("top",o.event.pageY-28+"px")}).on("mouseout",function(e){o.select(this).attr("opacity",1),u.transition().duration(200).style("opacity",0)}).attr("y",function(e){return m(0)}).attr("height",0),g.selectAll(".".concat(a("bar"))).data(E).attr("fill",function(e,t){return I(e,t)}).transition().duration(300).attr("y",function(e){return Math.min(m(Number(e.delta)),m(0))}).attr("height",function(e){return Math.abs(m(Number(e.delta))-m(0))});var S=C.selectAll(".".concat(a("bartext"))).data(E);S.exit().transition().duration(300).style("fill-opacity",1e-6).remove(),S.enter().append("text").attr("class",a("bartext")).attr("x",function(e){return s.bandwidth()/3}).attr("text-anchor","middle").attr("font-size","12px").attr("y",function(e){return e.delta>0?m(0)-5:m(0)+5}),C.selectAll(".".concat(a("bartext"))).data(E).text(function(e){return r.yValueFormat(e.delta)}).transition().duration(300).attr("y",function(e){var t=0;return t=e.delta>0?-5:15,m(Number(e.delta))+t})}c.selectAll(".xAxisLine").remove();c.append("line").attr("class","xAxisLine").attr("stroke-width",2).attr("stroke","currentColor").attr("x1",70).attr("y1",m(0)-1).attr("x2",700).attr("y2",m(0)-1)}else p.text("chart data is not available");function I(e,t){return function(e,t){return n[e.split("/")[0]]||i[t%i.length]}(e.partyInfo.name,t)}function w(e,t){return r.noXaxisByParty?e.name+" : "+r.yValueFormat(e.delta):Object(l.i)(e.partyInfo.name)+" : "+r.yValueFormat(e.delta)}},this.destroy=function(){c.remove()}}function Da(e){return(Da="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ra(e){return(Ra="function"===typeof Symbol&&"symbol"===Da(Symbol.iterator)?function(e){return Da(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Da(e)})(e)}function Ga(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function La(e){return(La=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Va(e,t){return(Va=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ma(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}ka.__docgenInfo={description:"",methods:[{name:"exportAsPNGUri",docblock:null,modifiers:[],params:[],returns:null},{name:"exportAsPNG",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handlePreviewEvent",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"getContainer",docblock:null,modifiers:[],params:[],returns:null},{name:"draw",docblock:null,modifiers:[],params:[{name:"container",type:null},{name:"props",type:null}],returns:null},{name:"drawGraph",docblock:null,modifiers:[],params:[{name:"container",type:null},{name:"props",type:null},{name:"data",type:null},{name:"partyColorsData",type:null}],returns:null}],displayName:"BarChart"};var Wa,Fa={topLabel:"NATIONAL ASSEMBLY: 2009, 2014",usedValue:"SEATS COUNTED",yValue:function(e){return e.seats},yValueFormat:function(e){return e},dynamicYAxisFromValues:!0};function Ba(e){return c.a[e]||e}function Ua(e){return Ba(u.a.CSS_PREFIX+e)}var Za=function(e){function t(e){var n,a,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,(n=!(r=La(t).call(this,e))||"object"!==Ra(r)&&"function"!==typeof r?Ma(a):r).state={partyAbbrs:["ANC","DA","EFF","ID"],partyIecIds:[null,null,null,null],eventDescriptions:["22 Apr 2009 National Election","2014 National Election"],regionType:"national",provinceName:"",muniName:"",muniCode:"",iecId:"",stylesheetFor:"web",componentID:13},Object(l.e)(n.state,e),n.chart=null,n.refreshIntervalID=0,n.exportAsPNG=n.exportAsPNG.bind(Ma(Ma(n))),n.exportAsPNGUri=n.exportAsPNGUri.bind(Ma(Ma(n))),n.handleRegionChange=l.y.bind(Ma(Ma(n))),n.handlePreviewEvent=n.handlePreviewEvent.bind(Ma(Ma(n))),n}var n,i,c;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Va(e,t)}(t,a["Component"]),n=t,(i=[{key:"componentDidMount",value:function(){var e=this;this.draw(this.getContainer(),this.state),this.refreshIntervalID=setInterval(function(){e.draw(e.getContainer(),e.state)},3e4),document.addEventListener(v.a.EXPORT_PNG,this.exportAsPNG),document.addEventListener(v.a.REGION_CHANGE,this.handleRegionChange),document.addEventListener(v.a.CHART_PREVIEW,this.handlePreviewEvent)}},{key:"componentDidUpdate",value:function(){this.draw(this.getContainer(),this.state)}},{key:"componentWillUnmount",value:function(){this.chart=null,document.removeEventListener(v.a.EXPORT_PNG,this.exportAsPNG),document.removeEventListener(v.a.REGION_CHANGE,this.handleRegionChange),document.removeEventListener(v.a.CHART_PREVIEW,this.handlePreviewEvent),clearInterval(this.refreshIntervalID)}},{key:"exportAsPNGUri",value:function(){var e=this;return new Promise(function(t,n){f.a.svgAsPngUri(e.refs.vizcontainer.childNodes[0],{},function(e){t(e.split(",")[1])})})}},{key:"exportAsPNG",value:function(e){e.detail.componentID==this.state.componentID&&f.a.saveSvgAsPng(this.refs.vizcontainer.childNodes[0],"race-for-seats-swing-barchart(".concat(Object(l.l)(this.state),").png"))}},{key:"handlePreviewEvent",value:function(e){var t=e.detail;this.chart&&this.chart.destroy(),this.chart=new ja(this.getContainer(),null,null,Ba,Fa),this.setState(t)}},{key:"getContainer",value:function(){return o.select(this.refs.vizcontainer)}},{key:"render",value:function(){var e=this.state.stylesheetFor;return r.a.createElement("div",{className:Ua("deltabarchart")+" "+Ua("stylesheet-".concat(e))},r.a.createElement("div",{ref:"vizcontainer",className:Ua("chart-body")}))}},{key:"draw",value:function(e,t){var n=this,a=[Object(y.h)(t)],r=t.eventDescriptions.map(function(e){return/(19|20)\d{2}/g.exec(e)[0]}).join("/");if("national"==t.regionType?Fa.topLabel="National Assembly: Swing ".concat(r):Fa.topLabel="".concat(Object(l.l)(t),": Swing ").concat(r),!Wa){var o=Object(y.d)();a.push(o)}Promise.all(a).then(function(a){var r=a[0];Wa=Wa||a[1],n.drawGraph(e,t,r,Wa)}).catch(function(e){return console.error(e)})}},{key:"drawGraph",value:function(e,t,n,a){var r=Object(l.J)(n,t);this.chart||(this.chart=new ja(e,null,null,Ba,Fa)),this.chart.draw(r,a)}}])&&Ga(n.prototype,i),c&&Ga(n,c),t}(),Ka=Za;function Ha(e){return(Ha="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function za(e){return(za="function"===typeof Symbol&&"symbol"===Ha(Symbol.iterator)?function(e){return Ha(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Ha(e)})(e)}function qa(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Xa(e){return(Xa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ya(e,t){return(Ya=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ja(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}Za.__docgenInfo={description:"",methods:[{name:"exportAsPNGUri",docblock:null,modifiers:[],params:[],returns:null},{name:"exportAsPNG",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handlePreviewEvent",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"getContainer",docblock:null,modifiers:[],params:[],returns:null},{name:"draw",docblock:null,modifiers:[],params:[{name:"container",type:null},{name:"props",type:null}],returns:null},{name:"drawGraph",docblock:null,modifiers:[],params:[{name:"container",type:null},{name:"props",type:null},{name:"data",type:null},{name:"partyColorsData",type:null}],returns:null}],displayName:"BarChart"};var Qa;Object(y.f)();function $a(e){return c.a[e]||e}function er(e){return $a(u.a.CSS_PREFIX+e)}var tr={topLabel:"NATIONAL ASSEMBLY: 2009, 2014, 2019",usedValue:"% VDS COUNTED",yValue:function(e){return e.percOfVotes},yValueFormat:function(e){return e+"%"},dynamicYAxisFromValues:!0},nr=function(e){function t(e){var n,a,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,(n=!(r=Xa(t).call(this,e))||"object"!==za(r)&&"function"!==typeof r?Ja(a):r).state={partyAbbrs:["ANC","DA","EFF","ID"],partyIecIds:[null,null,null,null],eventDescriptions:["14 Apr 2004 National Election","22 Apr 2009 National Election","2014 National Election","2019 NATIONAL ELECTION"],regionType:"national",provinceName:"",muniName:"",muniCode:"",iecId:"",stylesheetFor:"web",componentID:14},Object(l.e)(n.state,e),n.chart=null,n.refreshIntervalID=0,n.exportAsPNG=n.exportAsPNG.bind(Ja(Ja(n))),n.exportAsPNGUri=n.exportAsPNGUri.bind(Ja(Ja(n))),n.handleRegionChange=l.y.bind(Ja(Ja(n))),n.handlePreviewEvent=n.handlePreviewEvent.bind(Ja(Ja(n))),n}var n,i,c;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ya(e,t)}(t,a["Component"]),n=t,(i=[{key:"componentDidMount",value:function(){var e=this;this.draw(this.getContainer(),this.state),this.refreshIntervalID=setInterval(function(){e.draw(e.getContainer(),e.state)},3e4),document.addEventListener(v.a.EXPORT_PNG,this.exportAsPNG),document.addEventListener(v.a.REGION_CHANGE,this.handleRegionChange),document.addEventListener(v.a.CHART_PREVIEW,this.handlePreviewEvent)}},{key:"componentDidUpdate",value:function(){this.draw(this.getContainer(),this.state)}},{key:"componentWillUnmount",value:function(){this.chart&&(this.chart.destroy(),this.chart=null),document.removeEventListener(v.a.EXPORT_PNG,this.exportAsPNG),document.removeEventListener(v.a.REGION_CHANGE,this.handleRegionChange),document.removeEventListener(v.a.CHART_PREVIEW,this.handlePreviewEvent),clearInterval(this.refreshIntervalID)}},{key:"exportAsPNGUri",value:function(){var e=this;return new Promise(function(t,n){f.a.svgAsPngUri(e.refs.vizcontainer.childNodes[0],{},function(e){t(e.split(",")[1])})})}},{key:"exportAsPNG",value:function(e){e.detail.componentID==this.state.componentID&&f.a.saveSvgAsPng(this.refs.vizcontainer.childNodes[0],"race-for-votes-comparison-barchart(".concat(Object(l.s)(this.state),").png"))}},{key:"handlePreviewEvent",value:function(e){var t=e.detail;this.chart&&this.chart.destroy(),this.chart=new ba(this.getContainer(),null,null,$a,tr),this.setState(t)}},{key:"getContainer",value:function(){return o.select(this.refs.vizcontainer)}},{key:"render",value:function(){var e=this.state.stylesheetFor;return r.a.createElement("div",{className:er("groupbarchart")+" "+er("stylesheet-".concat(e))},r.a.createElement("div",{ref:"vizcontainer",className:er("chart-body")}))}},{key:"draw",value:function(e,t){var n=this,a=[Object(y.n)(t)];if(tr.topLabel="".concat(t.regionType.toUpperCase()," ASSEMBLY: ").concat(t.eventDescriptions.map(function(e){return/(19|20)\d{2}/g.exec(e)[0]}).join(", ")),"national"==t.regionType?tr.topLabel="Race for Votes Comparison - National Assembly":tr.topLabel="Race for Votes Comparison - ".concat(Object(l.s)(t)),!Qa){var r=Object(y.d)();a.push(r)}Promise.all(a).then(function(a){var r=a[0];Qa=Qa||a[1],n.drawGraph(e,t,r,Qa)}).catch(function(e){return console.error(e)})}},{key:"drawGraph",value:function(e,t,n,a){var r=Object(l.Q)(n,t);this.chart||(this.chart=new ba(e,null,null,$a,tr)),this.chart.draw(r,a)}}])&&qa(n.prototype,i),c&&qa(n,c),t}(),ar=nr;function rr(e){return(rr="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function or(e){return(or="function"===typeof Symbol&&"symbol"===rr(Symbol.iterator)?function(e){return rr(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":rr(e)})(e)}function ir(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function cr(e){return(cr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function lr(e,t){return(lr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ur(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}nr.__docgenInfo={description:"",methods:[{name:"exportAsPNGUri",docblock:null,modifiers:[],params:[],returns:null},{name:"exportAsPNG",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handlePreviewEvent",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"getContainer",docblock:null,modifiers:[],params:[],returns:null},{name:"draw",docblock:null,modifiers:[],params:[{name:"container",type:null},{name:"props",type:null}],returns:null},{name:"drawGraph",docblock:null,modifiers:[],params:[{name:"container",type:null},{name:"props",type:null},{name:"data",type:null},{name:"partyColorsData",type:null}],returns:null}],displayName:"BarChart"};var sr;Object(y.f)();function mr(e){return c.a[e]||e}function pr(e){return mr(u.a.CSS_PREFIX+e)}var dr={topLabel:"NATIONAL ASSEMBLY: 2009, 2014, 2019",usedValue:"% VDS COUNTED",yValue:function(e){return e.percOfVotes},yValueFormat:function(e){return(e>0?"+":"")+e.toFixed(2)+"%"},dynamicYAxisFromValues:!0},fr=function(e){function t(e){var n,a,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,(n=!(r=cr(t).call(this,e))||"object"!==or(r)&&"function"!==typeof r?ur(a):r).state={partyAbbrs:["ANC","DA","EFF","ID"],partyIecIds:[null,null,null,null],eventDescriptions:["22 Apr 2009 National Election","2014 National Election"],regionType:"national",provinceName:"",muniName:"",muniCode:"",iecId:"",stylesheetFor:"web",componentID:15},Object(l.e)(n.state,e),n.chart=null,n.refreshIntervalID=0,n.exportAsPNG=n.exportAsPNG.bind(ur(ur(n))),n.exportAsPNGUri=n.exportAsPNGUri.bind(ur(ur(n))),n.handleRegionChange=l.y.bind(ur(ur(n))),n.handlePreviewEvent=n.handlePreviewEvent.bind(ur(ur(n))),n}var n,i,c;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lr(e,t)}(t,a["Component"]),n=t,(i=[{key:"componentDidMount",value:function(){var e=this;this.draw(this.getContainer(),this.state),this.refreshIntervalID=setInterval(function(){e.draw(e.getContainer(),e.state)},3e4),document.addEventListener(v.a.EXPORT_PNG,this.exportAsPNG),document.addEventListener(v.a.REGION_CHANGE,this.handleRegionChange),document.addEventListener(v.a.CHART_PREVIEW,this.handlePreviewEvent)}},{key:"componentDidUpdate",value:function(){this.draw(this.getContainer(),this.state)}},{key:"componentWillUnmount",value:function(){this.chart&&(this.chart.destroy(),this.chart=null),document.removeEventListener(v.a.EXPORT_PNG,this.exportAsPNG),document.removeEventListener(v.a.REGION_CHANGE,this.handleRegionChange),document.removeEventListener(v.a.CHART_PREVIEW,this.handlePreviewEvent),clearInterval(this.refreshIntervalID)}},{key:"exportAsPNGUri",value:function(){var e=this;return new Promise(function(t,n){f.a.svgAsPngUri(e.refs.vizcontainer.childNodes[0],{},function(e){t(e.split(",")[1])})})}},{key:"exportAsPNG",value:function(e){e.detail.componentID==this.state.componentID&&f.a.saveSvgAsPng(this.refs.vizcontainer.childNodes[0],"race-for-votes-swing-barchart(".concat(Object(l.s)(this.state),").png"))}},{key:"handlePreviewEvent",value:function(e){var t=e.detail;this.chart&&this.chart.destroy(),this.chart=new ja(this.getContainer(),null,null,mr,dr),this.setState(t)}},{key:"getContainer",value:function(){return o.select(this.refs.vizcontainer)}},{key:"render",value:function(){var e=this.state.stylesheetFor;return r.a.createElement("div",{className:pr("deltabarchart")+" "+pr("stylesheet-".concat(e))},r.a.createElement("div",{ref:"vizcontainer",className:pr("chart-body")}))}},{key:"draw",value:function(e,t){var n=this,a=[Object(y.n)(t)],r=t.eventDescriptions.map(function(e){return/(19|20)\d{2}/g.exec(e)[0]}).join("/");if("national"==t.regionType?dr.topLabel="National Assembly: Swing ".concat(r):dr.topLabel="".concat(Object(l.s)(t),": Swing ").concat(r),!sr){var o=Object(y.d)();a.push(o)}Promise.all(a).then(function(a){var r=a[0];sr=sr||a[1],n.drawGraph(e,t,r,sr)}).catch(function(e){return console.error(e)})}},{key:"drawGraph",value:function(e,t,n,a){var r=Object(l.Q)(n,t);this.chart||(this.chart=new ja(e,null,null,mr,dr)),this.chart.draw(r,a)}}])&&ir(n.prototype,i),c&&ir(n,c),t}(),vr=fr;fr.__docgenInfo={description:"",methods:[{name:"exportAsPNGUri",docblock:null,modifiers:[],params:[],returns:null},{name:"exportAsPNG",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"handlePreviewEvent",docblock:null,modifiers:[],params:[{name:"event",type:null}],returns:null},{name:"getContainer",docblock:null,modifiers:[],params:[],returns:null},{name:"draw",docblock:null,modifiers:[],params:[{name:"container",type:null},{name:"props",type:null}],returns:null},{name:"drawGraph",docblock:null,modifiers:[],params:[{name:"container",type:null},{name:"props",type:null},{name:"data",type:null},{name:"partyColorsData",type:null}],returns:null}],displayName:"BarChart"},n.d(t,"a",function(){return _}),n.d(t,"f",function(){return W}),n.d(t,"k",function(){return J}),n.d(t,"c",function(){return ye}),n.d(t,"q",function(){return we}),n.d(t,"p",function(){return Le}),n.d(t,"b",function(){return Xe}),n.d(t,"e",function(){return ha}),n.d(t,"d",function(){return mt}),n.d(t,"g",function(){return Xt}),n.d(t,"i",function(){return mn}),n.d(t,"r",function(){return Lt}),n.d(t,"l",function(){return xa}),n.d(t,"m",function(){return Ka}),n.d(t,"n",function(){return ar}),n.d(t,"o",function(){return vr}),n.d(t,"h",function(){return It}),n.d(t,"j",function(){return Wn})},"./src/config/index.js":function(e,t,n){"use strict";t.a={DOMAIN:"https://sabc-eds.github.io/elections-dataviz",CSS_PREFIX:"ELVIZ_"}},"./src/events/index.js":function(e,t,n){"use strict";t.a={REGION_CHANGE:"region-change",CHART_PREVIEW:"chart-preview",SEATS_ELECTEDS_EVENT:"seats-electeds-event",MAP_PREVIEW:"map-preview",QUICK_RESULTS_PREVIEW:"quick-results-preview",EXPORT_PNG:"export-png",EXPORT_SUPERWIDGET_PNG:"export-superwidget-png"}},"./src/utils/index.js":function(e,t,n){"use strict";n.d(t,"x",function(){return l}),n.d(t,"S",function(){return u}),n.d(t,"R",function(){return s}),n.d(t,"f",function(){return m}),n.d(t,"P",function(){return p}),n.d(t,"Q",function(){return d}),n.d(t,"H",function(){return f}),n.d(t,"G",function(){return y}),n.d(t,"K",function(){return h}),n.d(t,"T",function(){return b}),n.d(t,"E",function(){return N}),n.d(t,"D",function(){return E}),n.d(t,"I",function(){return g}),n.d(t,"J",function(){return C}),n.d(t,"M",function(){return P}),n.d(t,"F",function(){return S}),n.d(t,"N",function(){return I}),n.d(t,"O",function(){return w}),n.d(t,"L",function(){return O}),n.d(t,"s",function(){return _}),n.d(t,"t",function(){return k}),n.d(t,"u",function(){return x}),n.d(t,"n",function(){return T}),n.d(t,"o",function(){return A}),n.d(t,"p",function(){return j}),n.d(t,"q",function(){return D}),n.d(t,"v",function(){return R}),n.d(t,"l",function(){return G}),n.d(t,"m",function(){return L}),n.d(t,"d",function(){return V}),n.d(t,"g",function(){return M}),n.d(t,"U",function(){return W}),n.d(t,"i",function(){return F}),n.d(t,"w",function(){return B}),n.d(t,"j",function(){return U}),n.d(t,"k",function(){return Z}),n.d(t,"r",function(){return K}),n.d(t,"z",function(){return z}),n.d(t,"A",function(){return q}),n.d(t,"y",function(){return X}),n.d(t,"e",function(){return Y}),n.d(t,"h",function(){return J}),n.d(t,"C",function(){return Q}),n.d(t,"B",function(){return $}),n.d(t,"c",function(){return ee}),n.d(t,"b",function(){return te}),n.d(t,"a",function(){return ne});var a=n("./node_modules/d3/index.js"),r=n("./src/config/index.js");function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){i(e,t,n[t])})}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){return 0==t?0:(e/t*100).toFixed(2)}function l(e){return/(19|20)\d{2}/g.exec(e)[0]}function u(e,t){var n,a,r=t.regionType;return a="national"==r?e.data.allBallots.edges:"province"==r?e.data.allProvincialBallots.edges:"municipality"==r?e.data.allMunicipalBallots.edges:e.data.allVotingDistrictBallots.edges,console.log("props",t),a.map(function(e){var a,r,o,i=e.node,c=(a=i.event,r=/(19|20)\d{2}/g.exec(a.description)[0],o="National Election"==a.eventType.description?"Nat":"Prov","".concat(r," ").concat(o)),l=i.partyResults||i.topResult;return n=(n=(n=l.edges).sort(function(e,t){return t.node.percOfVotes-e.node.percOfVotes})).slice(0,t.numPartiesSplitNatProv),{longEventDescription:i.event.description,eventDescription:c,data:n.map(function(e){var t=e.node;return{name:t.party.abbreviation,iecId:t.party.iecId,validVotes:t.validVotes.toFixed(2),percOfVotes:t.percOfVotes.toFixed(2),partyInfo:t.party}})}}).filter(function(e){return-1!=t.eventDescriptionsSplitNatProv.indexOf(e.longEventDescription)}).sort(function(e,t){var n=parseInt(/(19|20)\d{2}/g.exec(e.eventDescription)[0]),a=parseInt(/(19|20)\d{2}/g.exec(t.eventDescription)[0]);return n==a?e.eventDescription>t.eventDescription?1:-1:-n+a})}function s(e,t){var n,a=t.regionType;if(!(n="national"==a?e.data.allBallots.edges[0]:"province"==a?e.data.allProvincialBallots.edges[0]:"municipality"==a?e.data.allMunicipalBallots.edges[0]:e.data.allVotingDistrictBallots.edges[0]))return console.error("party data is empty!!"),null;var r=n.node;return(r.partyResults||r.topResult).edges.sort(function(e,t){return t.node.percOfVotes-e.node.percOfVotes}).slice(0,t.numParties).map(function(e){var t=e.node;return{name:t.party.abbreviation,iecId:t.party.iecId,validVotes:t.validVotes.toFixed(2),percOfVotes:t.percOfVotes.toFixed(2),partyInfo:t.party}})}function m(e){var t=e.data.allVotingDistrictBallots.edges[0].node.location;return{regionType:"municipality-vd",iecId:t.iecId,muniCode:t.ward.municipality.code,provinceName:t.ward.municipality.province.name}}function p(e,t){var n=t.regionType,a=t.eventDescriptions.national;"provincial"===t.electionType&&(a=t.eventDescriptions.provincial);for(var r=("national"==n?e.data.allBallots.edges:"province"==n?e.data.allProvincialBallots.edges:"municipality"==n?e.data.allMunicipalBallots.edges:e.data.allVotingDistrictBallots.edges).map(function(e){var n=e.node,a=n.partyResults||n.topResult,o=(r=a.edges.filter(function(e){return t.partyIecId?e.node.party.iecId==t.partyIecId:e.node.party.abbreviation==t.partyAbbr}))[0];if(o){var i=o.node;return{name:n.event.description,percOfVotes:i.percOfVotes.toFixed(2),partyInfo:i.party}}return{name:n.event.description,percOfVotes:0,partyInfo:{name:t.partyAbbr,abbreviation:t.partyAbbr}}}).filter(function(e){return-1!=a.indexOf(e.name)}),i=[],c=0;c<a.length;c++){for(var u=!1,s=0;s<r.length;s++)if(r[s].name==a[c]){u=!0;i.push(o({},r[s],{name:l(r[s].name)}));break}u||i.push({name:l(a[c]),percOfVotes:0,partyInfo:{name:t.partyAbbr,abbreviation:t.partyAbbr}})}return i.sort(function(e,t){return e.name-t.name}),i}function d(e,t){return t.partyAbbrs.map(function(n,a){var r=o({},t);return r.partyAbbr=n,r.partyIecId=t.partyIecIds[a],{partyAbbr:n,data:p(e,r)}})}function f(e,t){var n,a=t.regionType;if(!(n="national"==a?e.data.allBallots.edges[0]:"province"==a?e.data.allProvincialBallots.edges[0]:"municipality"==a?e.data.allMunicipalBallots.edges[0]:e.data.allVotingDistrictBallots.edges[0]))return console.error("progress votes count data is empty!!"),null;var r=n.node;return[{name:"Completed",percent:c(r.vdWithResultsCaptured,r.vdCount),totalCount:r.vdCount,count:r.vdWithResultsCaptured},{name:"Not Completed",percent:100-c(r.vdWithResultsCaptured,r.vdCount),totalCount:r.vdCount,count:r.vdCount-r.vdWithResultsCaptured}]}function v(e){return e&&e.topParty&&e.topParty.party&&e.topParty.party.name?e.topParty.party.name:""}function y(e,t){if(!e)return null;var n={},a=t.regionType;return"national"===a?e.data.topPartiesByProvince.edges.forEach(function(e){var t=e.node,a=t.location.name;n[a]=v(t)}):"province"===a?e.data.topPartiesByMunicipality.edges.forEach(function(e){var t=e.node,a=t.location.code;n[a]=v(t)}):e.data.topPartiesByVotingDistrict.edges.forEach(function(e){var t=e.node,a=t.location.iecId;n[a]=v(t)}),n}function h(e,t){if(!e)return null;var n=e.data.allSeatCalculations.edges,a=t.regionType;return n.map(function(e){var t=e.node;return{seats:"national"===a?t.nationalPr+t.regional:t.regional,name:t.party.abbreviation,iecId:t.party.iecId,partyInfo:t.party}}).slice(0,t.numParties)}function b(e,t){var n=e.data.CSIRPrediction.results.edges,a=[],r=[];return n.forEach(function(e){var t=e.node,n=t.percVds;t.prediction.edges.forEach(function(e){console.log("predictionEdge",e);var t=e.node,o=t.party;if(o){var i=t.predictedPercent,c=(t.actualPercent,a.indexOf(o.iecId));-1==c&&(a.push(o.iecId),r.push({name:o.name,iecId:o.iecId,abbreviation:o.abbreviation,cleaned_name:o.abbreviation.replace(/[^a-zA-Z0-9]+/g,""),data:[]}),c=a.length-1),r[c].data.push({x:n,y:i})}})}),r.forEach(function(e){e.data.sort(function(e,t){return e.x-t.x})}),console.log("parsedLineData",r),r}function N(e){var t=e.data.CSIRPrediction,n=t.turnout,a=t.timestamp;return{turnout:n.toFixed(2),timestamp:a}}function E(e){var t=e.data.CSIRPrediction;return{minX:t.minX,maxX:t.maxX}}function g(e,t){if(!e)return null;var n=e.data.allSeatCalculations.edges,a=t.regionType,r=t.eventDescriptions.national;"provincial"===t.electionType&&(r=t.eventDescriptions.provincial);for(var i=n.map(function(e){var t=e.node;return{seats:"national"===a?t.nationalPr+t.regional:t.regional,name:t.party.event.description,partyInfo:t.party}}).filter(function(e){return-1!=r.indexOf(e.name)}).filter(function(e){return t.partyIecId?e.partyInfo.iecId==t.partyIecId:e.partyInfo.abbreviation==t.partyAbbr}),c=[],u=0;u<r.length;u++){for(var s=!1,m=0;m<i.length;m++)if(i[m].name==r[u]){s=!0;c.push(o({},i[m],{name:l(i[m].name)}));break}s||c.push({name:l(t.eventDescriptions[u]),seats:0,partyInfo:{name:t.partyAbbr,abbreviation:t.partyAbbr}})}return c}function C(e,t){return t.partyAbbrs.map(function(n,a){var r=o({},t);return r.partyAbbr=n,r.partyIecId=t.partyIecIds[a],{partyAbbr:n,data:g(e,r)}})}function P(e,t){if(!e)return null;var n={},a=t.regionType;return"national"===a?e.data.allProvincialBallots.edges.forEach(function(e){var t=e.node,a=t.location.name,r=t.percVoterTurnout.toFixed(2);n[a]=r}):"province"===a?e.data.allMunicipalBallots.edges.forEach(function(e){var t=e.node,a=t.location.code,r=t.percVoterTurnout.toFixed(2);n[a]=r}):e.data.allVotingDistrictBallots.edges.forEach(function(e){var t=e.node,a=t.location.iecId,r=t.percVoterTurnout.toFixed(2);n[a]=r}),n}function S(e,t){if(!e)return null;var n={},a=t.regionType;return"national"===a?e.data.allProvincialBallots.edges.forEach(function(e){var t=e.node,a=t.location.name;n[a]=c(t.vdWithResultsCaptured,t.vdCount)}):"province"===a?e.data.allMunicipalBallots.edges.forEach(function(e){var t=e.node,a=t.location.code;n[a]=c(t.vdWithResultsCaptured,t.vdCount)}):e.data.allVotingDistrictBallots.edges.forEach(function(e){var t=e.node,a=t.location.iecId;n[a]=c(t.vdWithResultsCaptured,t.vdCount)}),n}function I(e,t){if(!e)return null;var n,a=t.regionType;return"national"==a?n=e.data.allBallots.edges:"province"==a?n=e.data.allProvincialBallots.edges:"municipality"==a?n=e.data.allMunicipalBallots.edges:"municipality-vd"==a&&(n=e.data.allVotingDistrictBallots.edges),n.map(function(e){var t=e.node,n=t.event.description,a=t.event.eventType.description,r=t.percVoterTurnout.toFixed(2);return{name:l(n),eventType:a,percVoterTurnout:r}}).filter(function(e){return-1!=e.eventType.toLowerCase().indexOf(t.eventType)}).sort(function(e,t){return parseInt(/(19|20)\d{2}/g.exec(e.name)[0])-parseInt(/(19|20)\d{2}/g.exec(t.name)[0])})}function w(e,t){if(!e)return null;var n,a=t.regionType;return"national"==a?n=e.data.allBallots.edges:"province"==a?n=e.data.allProvincialBallots.edges:"municipality"==a?n=e.data.allMunicipalBallots.edges:"municipality-vd"==a&&(n=e.data.allVotingDistrictBallots.edges),n.map(function(e){var t=e.node,n=t.event.description,a=t.percVoterTurnout.toFixed(2);return{name:l(n),percVoterTurnout:a}})}function O(e,t){var n,a=t.regionType;if(!(n="national"==a?e.data.allBallots.edges[0]:"province"==a?e.data.allProvincialBallots.edges[0]:"municipality"==a?e.data.allMunicipalBallots.edges[0]:e.data.allVotingDistrictBallots.edges[0]))return console.error("spoilt data is empty!!"),null;var r=n.node;return[{name:"Valid",percent:c(r.totalValidVotes,r.totalVotesCast)},{name:"Spoilt",percent:c(r.spoiltVotes,r.totalVotesCast)}]}function _(e){function t(e){return-1!=e.indexOf(" - ")&&(e=e.split(" - ")[1]),-1!=e.indexOf("[")&&(e=e.split("[")[0]),e}return"national"==e.regionType?"South Africa":"province"==e.regionType?e.provinceName:"municipality"==e.regionType?t(e.muniName):"municipality-vd"==e.regionType?t(e.muniName)+"-"+e.iecId:void 0}function k(e){if("national"==e.regionType){var t=e.eventDescription.toLocaleLowerCase();return t.indexOf("national election")>=0?"National Assembly":t.indexOf("provincial election")>=0?"Results for Provincial Legislatures":""}return"province"==e.regionType?_(e)+" Legislature":_(e)}function x(e){return"national"==e.regionType?"National Assembly":e.provinceName+" Legislature"}function T(e){return e.eventDescription.toLocaleLowerCase().indexOf("national election")>=0?"National Assembly":"Provincial Legislature"}function A(e){return e.eventDescription.toLocaleLowerCase().indexOf("national election")>=0?"National Assembly":e.provinceName+" Legislature"}function j(e){return e.eventDescription.toLocaleLowerCase().indexOf("national election")>=0?"":": "+e.provinceName+" Legislature"}function D(e){return e.eventDescription.toLocaleLowerCase().indexOf("national election")>=0?"National":e.provinceName+" Legislature"}function R(e){if("national"==e.regionType)return 400;return{"Eastern Cape":63,"Free State":30,Gauteng:73,"KwaZulu-Natal":80,Limpopo:49,Mpumalanga:30,"North West":33,"Northern Cape":30,"Western Cape":42}[e.provinceName]}function G(e){return"national"==e.regionType?"South Africa":e.provinceName}function L(e){return"national"==e.regionType?"National Assembly":e.provinceName}function V(e){var t=e(r.a.CSS_PREFIX+"tooltip");return document.getElementsByClassName(t)[0]?a.select(".".concat(t)):a.select("body").append("div").attr("class",t).style("opacity",0)}function M(){var e,t=document.getElementsByClassName("place-label"),n={},a={};for(e=0;e<t.length;e++)n[e]=t[e].getBoundingClientRect();for(e=0;e<t.length;e++){for(var r=0;r<e;r++){var o=n[e],i=n[r];!(o.right<i.left||o.left>i.right||o.bottom<i.top||o.top>i.bottom)&&(a[e]=a[e]?a[e]+1:1)}a[e]>2?t[e].setAttribute("opacity",0):a[e]>0&&(t[e].innerHTML=t[e].innerHTML.slice(0,3)+"...")}}function W(e,t){var n=new CustomEvent(e,{detail:t});document.dispatchEvent(n)}function F(e){return e.split("/")[0].toLowerCase().replace(/\b\w/g,function(e){return e.toUpperCase()})}function B(e,t){return"national"===t.regionType?e.SPROVINCE:"province"===t.regionType?e.smunicipal&&e.smunicipal.split(" - ")[1].split("[")[0]:Z(e)}function U(e){return e.code||e.smunicipal&&e.smunicipal.split(" - ")[0].replace(/\s/g,"")}function Z(e){return e.VDNumber||e.PKLVDNUMBE}function K(e){switch(e.regionType){case"national":return"province_lo-res.geojson";case"province":return{Limpopo:"lim_lo-res.geojson",Mpumalanga:"mp_lo-res.geojson",Gauteng:"gt_lo-res.geojson","KwaZulu-Natal":"kzn_lo-res.geojson","North West":"nw_lo-res.geojson","Free State":"fs_lo-res.geojson","Eastern Cape":"ec_lo-res.geojson","Northern Cape":"nc_lo-res.geojson","Western Cape":"wc_lo-res.geojson"}[e.provinceName];case"municipality":return e.muniCode+".topojson";case"municipality-vd":return"vd-data/"+e.muniCode+"-"+e.iecId+".topojson";default:return null}}function H(e,t,n){if(!document.getElementById(e)){var a=document.createElement("script");a.onload=function(){n&&n()},a.id=e,a.src=t,document.head.appendChild(a)}}function z(){H("canvgScript","https://cdn.jsdelivr.net/npm/canvg/dist/browser/canvg.min.js",function(){console.log("canvgScript load finished")})}function q(){z(),H("jsZipScript","https://cdnjs.cloudflare.com/ajax/libs/jszip/3.2.0/jszip.min.js",function(){console.log("loadJSZip load finished")})}function X(e){var t=JSON.parse(JSON.stringify(e.detail));delete t.componentID,this.setState(t)}function Y(e,t){Object.keys(e).forEach(function(n){"undefined"!=typeof t[n]&&(e[n]=t[n])})}function J(e){return"formedClass_"+e.replace(/[^a-zA-Z0-9]+/g,"")}function Q(e){for(var t=e.target.options,n=[],a=0,r=t.length;a<r;a++)t[a].selected&&n.push(t[a].value);n=n.slice(0,4),this.setState({partyAbbrs:n.map(function(e){return e.split('"')[0]}),partyIecIds:n.map(function(e){return e.split('"')[1]})})}function $(e){for(var t=0;t<e.electionEvents.length;t++)if(e.electionEvents[t].description==e.eventDescription&&-1!=e.electionEvents[t].eventType.description.toLowerCase().indexOf("national"))return!0;return!1}function ee(e,t,n){return e.selectAll("svg").remove(),e.append("svg").attr("preserveAspectRatio","xMinYMin meet").attr("viewBox","0 0 "+t+" "+n).classed("svg-content",!0)}function te(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=0),e.append("g").attr("transform","translate("+t+","+n+")").append("text").attr("text-anchor","middle")}function ne(e){var t={};return e&&e.data.allParties.edges&&e.data.allParties.edges.forEach(function(e){t[e.node.name]=e.node.colour}),function(e,n){return t[e]}}}}]);
//# sourceMappingURL=src-components-quickresults~src-components-race-for-seats~src-components-race-for-votes~src-componen~3364f670.5a11491489b014ae8c85.js.map