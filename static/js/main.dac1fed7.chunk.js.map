{"version":3,"sources":["components/BarChart/d3barchart.js","events/index.js","api/index.js","components/BarChart/barchart.js","config/index.js","components/BarChart/barchartEmbed.js","components/Map/map.js","components/Map/mapEmbed.js","App.js","components/Box/Box.js","serviceWorker.js","index.js"],"names":["Chart","container","width","height","className","tooltipDiv","predefColors","svg","append","attr","parseInt","document","getElementsByClassName","d3","style","x","rangeRound","y","YaxisOffset","text","barSvg","barTextSvg","this","draw","chartData","domain","map","d","name","select","transition","duration","call","ticks","tickFormat","bars","selectAll","concat","data","exit","remove","enter","bandwidth","i","length","on","html","partyInfo","split","toLowerCase","replace","l","toUpperCase","percOfVotes","pageX","pageY","Number","barTexts","destroy","events","client","ApolloClient","link","HttpLink","uri","useGETForQueries","headers","Content-Type","cache","InMemoryCache","chart","dataRefreshTime","originName","styles","refreshIntervalID","BarChart","props","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","self","assertThisInitialized","state","numParties","eventDescription","regionType","provinceName","muniName","muniCode","vdNumber","_this$getWidthHeightB","getWidthHeightByScreenSize","modifW","modifH","setInterval","getContainer","handleRegionChange","bind","handlePreviewEvent","redrawChart","addEventListener","window","removeEventListener","clearInterval","Math","min","body","clientWidth","_this$getWidthHeightB2","setState","event","newState","detail","console","log","refs","vizcontainer","react_default","a","createElement","getRegionName","ref","options","query","gql","_templateObject2","_templateObject3","_templateObject4","_templateObject5","getVotesDataM","then","drawGraph","catch","error","firstEdge","edges","nodeData","node","el","validVotes","reverse","Component","config","DOMAIN","originClassName","bootstrapStyles","BarChartEmbed","elementId","electionEvents","_templateObject","edge","e","target","value","CustomEvent","dispatchEvent","_this2","_this$state","type","placeholder","onChange","onEventDescriptionChange","item","key","onRegionTypeChange","disabled","onClick","onPreview","provincesData","abbreviation","munis","Map","disableNavigation","selectionData","loading","react_sidenav","defaultSelectedPath","theme","selectionColor","onItemSelection","id","handleNavBarSelection","province","muni","react_loading_default","color","nationalMapFile","fullRouteGeoJsonFile","Limpopo","Mpumalanga","Gauteng","KwaZulu-Natal","North West","Free State","Eastern Cape","Northern Cape","Western Cape","getRegionFileName","getLoadingSpinner","process","classed","geoJsonLoader","Promise","all","values","getJsonDataFeatures","geoJsonData","indexOf","topojson","objects","features","projection","fitSize","path","center","projectionCenter","geometry","polylabel","coordinates","properties","SPROVINCE","smunicipal","SMUNICIPAL","labelElements","regions","overlapCnt","getBoundingClientRect","j","rect1","rect2","right","left","bottom","top","setAttribute","innerHTML","slice","code","PKLVDNUMBE","getMunicipalityVdNumber","MapEmbed","checked","App","BarChart_barchart","regionName","Map_map","BarChart_barchartEmbed","Map_mapEmbed","Boolean","location","hostname","match","ReactDOM","render","src_App_0","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"8YAEO,SAASA,EAAMC,EAAWC,EAAOC,EAAQC,GAC5C,IAOIC,EALAC,EAAe,CAAC,OAAQ,SAAU,OAClCC,EAAMN,EAAUO,OAAO,OACtBC,KAAK,QAASC,SAASR,GAJV,IAKbO,KAAK,SAAUC,SAASP,GAJX,IAQhBE,EADEM,SAASC,uBAAuB,WAAW,GAChCC,IAAU,YAEVA,IAAU,QAAQL,OAAO,OACnCC,KAAK,QAASL,EAAU,YACxBU,MAAM,UAAW,GAGtB,IAAIC,EAAIF,MACLG,WAAW,CAjBI,GAiBUd,IAExBe,EAAIJ,MACLG,WAAW,CAACb,EAnBG,KAqBlBI,EAAIC,OAAO,KACRC,KAAK,YAAa,iBAAiBN,EAAO,EAAEe,IAAe,KAC3DV,OAAO,QACPC,KAAK,QAASL,EAAU,qBACxBK,KAAK,YAAa,eAClBU,KAAK,oBACLV,KAAK,cAAe,UAEvBF,EAAIC,OAAO,KACRC,KAAK,QAAS,UACdA,KAAK,YAAa,eAAiBN,EAAS,KAE/CI,EAAIC,OAAO,KACRC,KAAK,QAAS,UACdA,KAAK,YAAa,oBAErB,IAAIW,EAASb,EAAIC,OAAO,KACrBC,KAAK,QAASL,EAAU,kBACvBiB,EAAad,EAAIC,OAAO,KACzBC,KAAK,QAASL,EAAU,sBAE3BkB,KAAKC,KAAO,SAASC,GACnBT,EAAEU,OAAOD,EAAUE,IAAI,SAAUC,GAC7B,OAAOA,EAAEC,QAEbX,EAAEQ,OAAO,CAAC,EAAG,MAETlB,EAAIsB,OAAO,WAAWC,aAAaC,SAAS,KAAKC,KAAKnB,IAAcE,IACpER,EAAIsB,OAAO,WAAWC,aAAaC,SAAS,KAAKC,KAAKnB,IAAYI,GACnEgB,MAAM,GACNC,WAAW,SAASP,GAAK,OAAOA,EAAI,OAGvC,IAAIQ,EAAOf,EAAOgB,UAAP,IAAAC,OAAqBjC,EAAU,SAAUkC,KAAKd,GAEzDW,EAAKI,OACFT,aACAC,SAAS,KACTtB,KAAK,IAAK,SAASkB,GAClB,OAAOV,EAAE,KAEVR,KAAK,SAAU,GACfK,MAAM,eAAgB,MACtB0B,SAEHL,EAAKM,QACAjC,OAAO,QACPC,KAAK,QAASL,EAAU,QACxBK,KAAK,IAAK,SAAUkB,GACnB,OAAOZ,EAAEY,EAAEC,MAAMb,EAAE2B,YAAY,KAEhCjC,KAAK,QAAuB,EAAdM,EAAE2B,YAAc,IAC9BjC,KAAK,OAAQ,SAACkB,EAAEgB,GAAH,OAASrC,EAAaqC,EAAErC,EAAasC,UAClDC,GAAG,YAAa,SAASlB,GAMtB,IAAyBC,EALzBf,IAAUS,MACPb,KAAK,UAAW,IACnBJ,EAAWyB,aACNC,SAAS,KACTjB,MAAM,UAAW,IAItBT,EAAWyC,MAHclB,EAGOD,EAAEoB,UAAUnB,KAFnCA,EAAKoB,MAAM,KAAK,GAAGC,cAAcC,QAAQ,QAAS,SAASC,GAAI,OAAOA,EAAEC,gBAE7B,MAAQzB,EAAE0B,YAAc,MACvEvC,MAAM,OAASD,IAASyC,MAAS,MACjCxC,MAAM,MAAQD,IAAS0C,MAAQ,GAAM,QAE7CV,GAAG,WAAY,SAASlB,GACrBd,IAAUS,MACPb,KAAK,UAAW,GACnBJ,EAAWyB,aACNC,SAAS,KACTjB,MAAM,UAAW,KAEzBL,KAAK,IAAK,SAASkB,GAClB,OAAOV,EAAE,KAEVR,KAAK,SAAU,GAElBW,EAAOgB,UAAP,IAAAC,OAAqBjC,EAAU,SAAUkC,KAAKd,GAC3CM,aACAC,SAAS,KACTtB,KAAK,IAAK,SAAUkB,GACnB,OAAOV,EAAEuC,OAAO7B,EAAE0B,gBAEnB5C,KAAK,SAAU,SAAUkB,GACxB,OAAOxB,EAASc,EAAEuC,OAAO7B,EAAE0B,gBAG/B,IAAII,EAAWpC,EAAWe,UAAX,IAAAC,OAAyBjC,EAAU,aAAckC,KAAKd,GAErEiC,EAASlB,OACNT,aACAC,SAAS,KACTtB,KAAK,IAAK,SAASkB,GAClB,OAAOV,EAAE,GAAK,IAEfH,MAAM,eAAgB,MACtB0B,SAEHiB,EAAShB,QAAQjC,OAAO,QACrBC,KAAK,QAASL,EAAU,YACxBK,KAAK,IAAK,SAAUkB,GACnB,OAAOZ,EAAEY,EAAEC,MAAMb,EAAE2B,YAAY,IAEhCjC,KAAK,cAAe,UACpBA,KAAK,YAAa,QAClBA,KAAK,IAAK,SAASkB,GAClB,OAAOV,EAAE,GAAK,IAElBI,EAAWe,UAAX,IAAAC,OAAyBjC,EAAU,aAAckC,KAAKd,GACnDL,KAAK,SAASQ,GACb,OAAOA,EAAE0B,YAAc,MAExBvB,aACAC,SAAS,KACTtB,KAAK,IAAK,SAAUkB,GACnB,OAAOV,EAAEuC,OAAO7B,EAAE0B,cAAgB,KAG1C/B,KAAKoC,QAAU,WACbnD,EAAIiC,UCjJV,IAIemB,EAJO,gBAIPA,EAHU,mBAGVA,EAFK,u+FCIpB,IACMC,EAAS,IAAIC,IAAa,CAC9BC,KAAM,IAAIC,IAAS,CAAEC,IAFT,oCAEuBC,kBAAkB,EAAMC,QAAS,CAACC,eAAiB,yBACtFC,MAAO,IAAIC,MCCb,IAwFIC,EAxFAC,EAAkB,IAkFtB,SAASnE,EAAUoE,GACjB,OAAOC,IAAOD,IAAeA,EAM/B,IAAIE,EAAoB,EA8LTC,cA1LX,SAAAA,EAAYC,GAAO,IAAAC,EAAAC,OAAAC,EAAA,EAAAD,CAAAxD,KAAAqD,GACjBE,EAAAC,OAAAE,EAAA,EAAAF,CAAAxD,KAAAwD,OAAAG,EAAA,EAAAH,CAAAH,GAAA3C,KAAAV,KAAMsD,IACN,IAAIM,EAAIJ,OAAAK,EAAA,EAAAL,QAAAK,EAAA,EAAAL,CAAAD,IA4BR,GA3BAA,EAAKO,MAAQ,CACXC,WAAY,EACZC,iBAAkB,yBAClBC,WAAY,WACZC,aAAc,GACdC,SAAU,GACVC,SAAU,GACVC,SAAU,IAERf,EAAMS,aACRR,EAAKO,MAAMC,WAAaT,EAAMS,YAE5BT,EAAMW,aACRV,EAAKO,MAAMG,WAAaX,EAAMW,YAE5BX,EAAMY,eACRX,EAAKO,MAAMI,aAAeZ,EAAMY,cAE9BZ,EAAMa,WACRZ,EAAKO,MAAMK,SAAWb,EAAMa,UAE1Bb,EAAMc,WACRb,EAAKO,MAAMM,SAAWd,EAAMc,UAE1Bd,EAAMe,WACRd,EAAKO,MAAMO,SAAWf,EAAMe,UAE1Bf,EAAM1E,OAAS0E,EAAMzE,OACvB0E,EAAKO,MAAMlF,MAAQ0E,EAAM1E,MACzB2E,EAAKO,MAAMjF,OAASyE,EAAMzE,WACrB,KAAAyF,EAIDf,EAAKgB,6BAFPC,EAFGF,EAEHE,OACAC,EAHGH,EAGHG,OAEFlB,EAAKO,MAAMlF,MAAQ4F,EACnBjB,EAAKO,MAAMjF,OAAS4F,EAvCL,OAyCjBrB,EAAoBsB,YAAY,WAC9Bd,EAAK3D,KAAK2D,EAAKe,eAAgBf,EAAKE,QACnCb,GACHM,EAAKqB,mBAAqBrB,EAAKqB,mBAAmBC,KAAxBrB,OAAAK,EAAA,EAAAL,QAAAK,EAAA,EAAAL,CAAAD,KAC1BA,EAAKuB,mBAAqBvB,EAAKuB,mBAAmBD,KAAxBrB,OAAAK,EAAA,EAAAL,QAAAK,EAAA,EAAAL,CAAAD,KAC1BA,EAAKwB,YAAcxB,EAAKwB,YAAYF,KAAjBrB,OAAAK,EAAA,EAAAL,QAAAK,EAAA,EAAAL,CAAAD,KA9CFA,mFAkDjBvD,KAAKC,KAAKD,KAAK2E,eAAgB3E,KAAK8D,OACpCzE,SAAS2F,iBAAiB3C,EAAsBrC,KAAK4E,oBACrDvF,SAAS2F,iBAAiB3C,EAAyBrC,KAAK8E,oBACxDG,OAAOD,iBAAiB,SAAUhF,KAAK+E,YAAa,kDAIpD/E,KAAKC,KAAKD,KAAK2E,eAAgB3E,KAAK8D,sDAIpCzE,SAAS6F,oBAAoB7C,EAAsBrC,KAAK4E,oBACxDvF,SAAS6F,oBAAoB7C,EAAyBrC,KAAK8E,oBAC3DG,OAAOC,oBAAoB,SAAUlF,KAAK+E,aAC1CI,cAAc/B,wDAId,IAAIoB,EAASY,KAAKC,IAAI,IAAKhG,SAASiG,KAAKC,YAAa,KAItD,OAHIlG,SAASiG,KAAKC,YAAc,MAC9Bf,EAASnF,SAASiG,KAAKC,YAAc,IAEhC,CACLf,SACAC,OAHWD,EAAO,2CAOR,IAAAgB,EAIRxF,KAAKuE,6BAFPC,EAFUgB,EAEVhB,OACAC,EAHUe,EAGVf,OAEEzB,GACFA,EAAMZ,UACRY,EAAQ,IAAItE,EAAMsB,KAAK2E,eAAgBH,EAAQC,EAAQ3F,GACvDkB,KAAKyF,SAAS,CAAC7G,MAAO4F,EAAQ3F,OAAQ4F,+CAGrBiB,GACjB,IAAIC,EAAWD,EAAME,OACrBC,QAAQC,IAAI,qBAAsBH,GAClC3F,KAAKyF,SAASE,8CAGGD,GACjB,IAAIC,EAAWD,EAAME,OACrBC,QAAQC,IAAI,qBAAsBH,GAC9B3C,GACFA,EAAMZ,UACRY,EAAQ,IAAItE,EAAMsB,KAAK2E,eAAgB3E,KAAK8D,MAAMlF,MAAOoB,KAAK8D,MAAMjF,OAAQC,GAC5EkB,KAAKyF,SAASE,0CAId,OAAOpG,IAAUS,KAAK+F,KAAKC,sDAI3B,MAA6B,YAAzBhG,KAAK8D,MAAMG,WACN,KAEoB,YAAzBjE,KAAK8D,MAAMG,WACNjE,KAAK8D,MAAMI,aAES,gBAAzBlE,KAAK8D,MAAMG,WACNjE,KAAK8D,MAAMK,SAES,mBAAzBnE,KAAK8D,MAAMG,WACNjE,KAAK8D,MAAMK,SAAW,IAAMnE,KAAK8D,MAAMO,cADhD,mCAMA,OACI4B,EAAAC,EAAAC,cAAA,OAAKrH,UAAU,YACbmH,EAAAC,EAAAC,cAAA,OAAKrH,UAAWA,EAAU,gBAA1B,mBAA2DkB,KAAKoG,gBAAhE,OACAH,EAAAC,EAAAC,cAAA,OACEE,IAAI,eACJvH,UAAWA,EAAU,cACrBU,MAAO,CAACZ,MAAOoB,KAAK8D,MAAMlF,MAAOC,OAAQmB,KAAK8D,MAAMjF,wCAKzDF,EAAW2E,GACd,IAAIM,EAAO5D,MDvNV,SAAuBsG,GAC5B,IAAItC,EAAmBsC,EAAQtC,iBAC/B,GAA0B,YAAtBsC,EAAQrC,WACV,OAAO3B,EAAOiE,MAAM,CAClBA,MAAOC,IAAFC,IAGoBzC,EAIAsC,EAAQvC,cAwB9B,GAA0B,YAAtBuC,EAAQrC,WACjB,OAAO3B,EAAOiE,MAAM,CAClBA,MAAOC,IAAFE,IAG0BJ,EAAQpC,aACdF,EAIAsC,EAAQvC,cAuB9B,GAA0B,gBAAtBuC,EAAQrC,WAA8B,CAC/C,IAAIG,EAAWkC,EAAQnC,SAASzC,MAAM,OAAO,GAE7C,OAAOY,EAAOiE,MAAM,CAClBA,MAAOC,IAAFG,IAE2CL,EAAQpC,aAC/BF,EACHI,EAIGkC,EAAQvC,cAwB9B,MAA0B,mBAAtBuC,EAAQrC,WACV3B,EAAOiE,MAAM,CAClBA,MAAOC,IAAFI,IAEqCN,EAAQjC,SAC3BL,EACwBsC,EAAQlC,SAM9BkC,EAAQvC,mBAZ9B,GCiHD8C,CAAcvD,GAAOwD,KAAK,SAAS9F,GAC/B4C,EAAKmD,UAAUpI,EAAW2E,EAAOtC,KAClCgG,MAAM,SAAAC,GAAK,OAAIpB,QAAQoB,MAAMA,uCAO1BtI,EAAW2E,EAAOtC,GACxB,IAAad,EAAWgH,EACpBjD,EAAaX,EAAMW,WAUvB,GAREiD,EADgB,YAAdjD,EACUjD,EAAI,KAAJ,WAA2BmG,MAAM,GACtB,YAAdlD,EACGjD,EAAI,KAAJ,qBAAqCmG,MAAM,GAChC,gBAAdlD,EACEjD,EAAI,KAAJ,oBAAoCmG,MAAM,GAEzCnG,EAAI,KAAJ,yBAAyCmG,MAAM,GAE7D,CAKA,IAAIC,EAAWF,EAAS,KAIxBhH,GAHmBkH,EAAQ,cAAoBA,EAAQ,WACjC,MAEFhH,IAAI,SAASiH,GAC7B,IAAIC,EAAKD,EAAI,KACb,MAAO,CACH/G,KAAMgH,EAAE,MAAF,aACNC,WAAYD,EAAE,WACdvF,YAAauF,EAAE,YACf7F,UAAW6F,EAAE,SAElBE,UAEH,IAAI5I,EAAQQ,SAASkE,EAAM1E,OACvBC,EAASO,SAASkE,EAAMzE,QACvBmE,IACHA,EAAQ,IAAItE,EAAMC,EAAWC,EAAOC,EAAQC,IAC9CkE,EAAM/C,KAAKC,QAtBT2F,QAAQoB,MAAM,gCAlKDQ,aCjGRC,EAJF,CACTC,OAAU,kFCQd,SAAS7I,EAAU8I,GACf,OAAOC,IAAgBD,IAAoBzE,IAAOyE,IAAoBA,MAsL3DE,cAjLX,SAAAA,EAAYxE,GAAO,IAAAC,EAAAC,OAAAC,EAAA,EAAAD,CAAAxD,KAAA8H,GACfvE,EAAAC,OAAAE,EAAA,EAAAF,CAAAxD,KAAAwD,OAAAG,EAAA,EAAAH,CAAAsE,GAAApH,KAAAV,KAAMsD,IACN,IAAIM,EAAIJ,OAAAK,EAAA,EAAAL,QAAAK,EAAA,EAAAL,CAAAD,IAFO,OAGfA,EAAKO,MAAQ,CACTiE,UAAW,OACX/D,iBAAkB,yBAClBC,WAAY,WACZC,aAAc,eACdC,SAAU,GACVC,SAAU,GACVC,SAAU,GACVN,WAAY,EAEZiE,eAAgB,IHfnB1F,EAAOiE,MAAM,CAClBA,MAAOC,IAAFyB,OGiBInB,KAAK,SAAS9F,GACX,IAAIgH,EAAiBhH,EAAI,KAAJ,UAA0BZ,IAAI,SAAA8H,GAAI,OAAIA,EAAI,cAC/DtE,EAAK6B,SAAS,CAACuC,qBAChBhB,MAAM,SAAAC,GAAK,OAAIpB,QAAQoB,MAAMA,KAnBrB1D,mLA4BM4E,GACrBnI,KAAKyF,SAAS,CAACzB,iBAAkBmE,EAAEC,OAAOC,mDAG3BF,GACf,IAAIxC,EAAW,CAAC1B,WAAYkE,EAAEC,OAAOC,OACrCrI,KAAKyF,SAASE,qCAGRwC,GACN,IAAIzC,EAAQ,IAAI4C,YAAYjG,EAAyB,CAAEuD,OAAQ5F,KAAK8D,QACpEzE,SAASkJ,cAAc7C,oCAGjB,IAAA8C,EAAAxI,KACF2H,EAASD,EAAOC,OADdc,EAYFzI,KAAK8D,MATLiE,EAHEU,EAGFV,UACA/D,EAJEyE,EAIFzE,iBACAC,EALEwE,EAKFxE,WACAC,EANEuE,EAMFvE,aACAC,EAPEsE,EAOFtE,SACAC,EAREqE,EAQFrE,SACAC,EATEoE,EASFpE,SACAN,EAVE0E,EAUF1E,WACAiE,EAXES,EAWFT,eAEJ,OACE/B,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,gDACAF,EAAAC,EAAAC,cAAA,OAAKrH,UAAWA,EAAU,eACtBmH,EAAAC,EAAAC,cAAA,4BACAF,EAAAC,EAAAC,cAAA,SACIuC,KAAK,OACL5J,UAAWA,EAAU,gBACrB6J,YAAY,kBACZC,SAAU,SAAAT,GAAC,OAAIK,EAAK/C,SAAS,CAACsC,UAAWI,EAAEC,OAAOC,YAGxDpC,EAAAC,EAAAC,cAAA,OAAKrH,UAAWA,EAAU,eACtBmH,EAAAC,EAAAC,cAAA,uBACAF,EAAAC,EAAAC,cAAA,UAAQrH,UAAWA,EAAU,gBAC1BuJ,MAAOrE,EACP4E,SAAU5I,KAAK6I,yBAAyBhE,KAAK7E,OAEtCgI,EAAe5H,IAAI,SAAA0I,GACf,OAAQ7C,EAAAC,EAAAC,cAAA,UAAQ4C,IAAKD,EAAMT,MAAOS,GAAOA,OAK3D7C,EAAAC,EAAAC,cAAA,OAAKrH,UAAWA,EAAU,eACtBmH,EAAAC,EAAAC,cAAA,6BACAF,EAAAC,EAAAC,cAAA,UAAQrH,UAAWA,EAAU,gBAC1BuJ,MAAOpE,EACP2E,SAAU5I,KAAKgJ,mBAAmBnE,KAAK7E,OACpCiG,EAAAC,EAAAC,cAAA,UAAQkC,MAAM,YAAd,YACApC,EAAAC,EAAAC,cAAA,UAAQkC,MAAM,YAAd,YACApC,EAAAC,EAAAC,cAAA,UAAQkC,MAAM,gBAAd,gBACApC,EAAAC,EAAAC,cAAA,UAAQkC,MAAM,mBAAd,qBAIS,YAAdpE,GACCgC,EAAAC,EAAAC,cAAA,OAAKrH,UAAWA,EAAU,eACtBmH,EAAAC,EAAAC,cAAA,8BACAF,EAAAC,EAAAC,cAAA,SACIuC,KAAK,OACL5J,UAAWA,EAAU,gBACrB6J,YAAY,eACZN,MAAOnE,EACP0E,SAAU,SAAAT,GAAC,OAAIK,EAAK/C,SAAS,CAACvB,aAAciE,EAAEC,OAAOC,SACrDY,SAAuB,YAAZhF,KAIN,gBAAdA,GACCgC,EAAAC,EAAAC,cAAA,OAAKrH,UAAWA,EAAU,eACtBmH,EAAAC,EAAAC,cAAA,kCACAF,EAAAC,EAAAC,cAAA,SACIuC,KAAK,OACL5J,UAAWA,EAAU,gBACrB6J,YAAY,oBACZN,MAAOlE,EACPyE,SAAU,SAAAT,GAAC,OAAIK,EAAK/C,SAAS,CAACtB,SAAUgE,EAAEC,OAAOC,SACjDY,SAAuB,YAAZhF,KAIN,mBAAdA,GACCgC,EAAAC,EAAAC,cAAA,OAAKrH,UAAWA,EAAU,eACtBmH,EAAAC,EAAAC,cAAA,kCACAF,EAAAC,EAAAC,cAAA,SACIuC,KAAK,OACL5J,UAAWA,EAAU,gBACrB6J,YAAY,MACZN,MAAOjE,EACPwE,SAAU,SAAAT,GAAC,OAAIK,EAAK/C,SAAS,CAACrB,SAAU+D,EAAEC,OAAOC,SACjDY,SAAuB,YAAZhF,KAIN,mBAAdA,GACCgC,EAAAC,EAAAC,cAAA,OAAKrH,UAAWA,EAAU,eACtBmH,EAAAC,EAAAC,cAAA,uCACAF,EAAAC,EAAAC,cAAA,SACIuC,KAAK,OACL5J,UAAWA,EAAU,gBACrB6J,YAAY,WACZN,MAAOhE,EACPuE,SAAU,SAAAT,GAAC,OAAIK,EAAK/C,SAAS,CAACpB,SAAU8D,EAAEC,OAAOC,SACjDY,SAAuB,YAAZhF,KAGzBgC,EAAAC,EAAAC,cAAA,OAAKrH,UAAWA,EAAU,eACtBmH,EAAAC,EAAAC,cAAA,kCACAF,EAAAC,EAAAC,cAAA,SACEuC,KAAK,SACL5J,UAAWA,EAAU,gBACrB6J,YAAY,IACZN,MAAOtE,EACP6E,SAAU,SAAAT,GAAC,OAAIK,EAAK/C,SAAS,CAAC1B,WAAYoE,EAAEC,OAAOC,YAEzDpC,EAAAC,EAAAC,cAAA,OAAKrH,UAAWA,EAAU,eACxBmH,EAAAC,EAAAC,cAAA,UAAQuC,KAAK,SAASQ,QAASlJ,KAAKmJ,UAAUtE,KAAK7E,MAAOlB,UAAWA,EAAU,OAAS,IAAMA,EAAU,gBAAxG,YAEFmH,EAAAC,EAAAC,cAAA,OAAKrH,UAAWA,EAAU,eACtBmH,EAAAC,EAAAC,cAAA,2BACAF,EAAAC,EAAAC,cAAA,OAAKrH,UAAWA,EAAU,cACxBmH,EAAAC,EAAAC,cAAA,YAAO,gBAAApF,OAAgB4G,EAAhB,6HAAA5G,OAEwBgH,EAFxB,mFAAAhH,OAIsBiD,EAJtB,iDAAAjD,OAKgBkD,EALhB,mDAAAlD,OAMkBmD,EANlB,+CAAAnD,OAOcoD,EAPd,+CAAApD,OAQcqD,EARd,+CAAArD,OAScsD,EATd,iDAAAtD,OAUgBgD,EAVhB,+HAaWnC,QAAQ,iBAAkB,eA5KpC6F,gFCE5B,SAAS3I,EAAUoE,GACjB,OAAOC,IAAOD,IAAeA,EAG/B,IAAIkG,EAAgB,CAChB,CACI9I,KAAQ,UACR+I,aAAgB,MAChBC,MAAS,CAAC,CAACpF,aAAe,UAAUC,SAAW,mCAAmCC,SAAW,UAAU,CAACF,aAAe,UAAUC,SAAW,yCAAyCC,SAAW,UAAU,CAACF,aAAe,UAAUC,SAAW,qCAAqCC,SAAW,UAAU,CAACF,aAAe,UAAUC,SAAW,sCAAsCC,SAAW,UAAU,CAACF,aAAe,UAAUC,SAAW,iCAAiCC,SAAW,UAAU,CAACF,aAAe,UAAUC,SAAW,4BAA4BC,SAAW,UAAU,CAACF,aAAe,UAAUC,SAAW,kCAAkCC,SAAW,UAAU,CAACF,aAAe,UAAUC,SAAW,mCAAmCC,SAAW,UAAU,CAACF,aAAe,UAAUC,SAAW,qCAAqCC,SAAW,UAAU,CAACF,aAAe,UAAUC,SAAW,wCAAwCC,SAAW,UAAU,CAACF,aAAe,UAAUC,SAAW,qCAAqCC,SAAW,UAAU,CAACF,aAAe,UAAUC,SAAW,sCAAsCC,SAAW,UAAU,CAACF,aAAe,UAAUC,SAAW,mCAAmCC,SAAW,UAAU,CAACF,aAAe,UAAUC,SAAW,uCAAuCC,SAAW,UAAU,CAACF,aAAe,UAAUC,SAAW,mCAAmCC,SAAW,UAAU,CAACF,aAAe,UAAUC,SAAW,gCAAgCC,SAAW,UAAU,CAACF,aAAe,UAAUC,SAAW,qCAAqCC,SAAW,UAAU,CAACF,aAAe,UAAUC,SAAW,iCAAiCC,SAAW,UAAU,CAACF,aAAe,UAAUC,SAAW,+BAA+BC,SAAW,UAAU,CAACF,aAAe,UAAUC,SAAW,uCAAuCC,SAAW,UAAU,CAACF,aAAe,UAAUC,SAAW,wCAAwCC,SAAW,UAAU,CAACF,aAAe,UAAUC,SAAW,0CAA0CC,SAAW,UAAU,CAACF,aAAe,UAAUC,SAAW,sCAAsCC,SAAW,UAAU,CAACF,aAAe,UAAUC,SAAW,kCAAkCC,SAAW,UAAU,CAACF,aAAe,UAAUC,SAAW,mEAAmEC,SAAW,YAEr1E,CACI9D,KAAQ,aACR+I,aAAgB,KAChBC,MAAS,CAAC,CAACpF,aAAe,aAAaC,SAAW,+CAA+CC,SAAW,SAAS,CAACF,aAAe,aAAaC,SAAW,8BAA8BC,SAAW,SAAS,CAACF,aAAe,aAAaC,SAAW,gCAAgCC,SAAW,SAAS,CAACF,aAAe,aAAaC,SAAW,qCAAqCC,SAAW,SAAS,CAACF,aAAe,aAAaC,SAAW,6BAA6BC,SAAW,SAAS,CAACF,aAAe,aAAaC,SAAW,+BAA+BC,SAAW,SAAS,CAACF,aAAe,aAAaC,SAAW,uCAAuCC,SAAW,SAAS,CAACF,aAAe,aAAaC,SAAW,0BAA0BC,SAAW,SAAS,CAACF,aAAe,aAAaC,SAAW,+BAA+BC,SAAW,SAAS,CAACF,aAAe,aAAaC,SAAW,qCAAqCC,SAAW,SAAS,CAACF,aAAe,aAAaC,SAAW,+BAA+BC,SAAW,SAAS,CAACF,aAAe,aAAaC,SAAW,kCAAkCC,SAAW,SAAS,CAACF,aAAe,aAAaC,SAAW,kCAAkCC,SAAW,SAAS,CAACF,aAAe,aAAaC,SAAW,8BAA8BC,SAAW,SAAS,CAACF,aAAe,aAAaC,SAAW,+BAA+BC,SAAW,SAAS,CAACF,aAAe,aAAaC,SAAW,8BAA8BC,SAAW,SAAS,CAACF,aAAe,aAAaC,SAAW,4BAA4BC,SAAW,SAAS,CAACF,aAAe,aAAaC,SAAW,wCAAwCC,SAAW,WAElpD,CACI9D,KAAQ,UACR+I,aAAgB,KAChBC,MAAS,CAAC,CAACpF,aAAe,UAAUC,SAAW,+BAA+BC,SAAW,OAAO,CAACF,aAAe,UAAUC,SAAW,iCAAiCC,SAAW,SAAS,CAACF,aAAe,UAAUC,SAAW,6BAA6BC,SAAW,SAAS,CAACF,aAAe,UAAUC,SAAW,8BAA8BC,SAAW,SAAS,CAACF,aAAe,UAAUC,SAAW,oCAAoCC,SAAW,SAAS,CAACF,aAAe,UAAUC,SAAW,oCAAoCC,SAAW,SAAS,CAACF,aAAe,UAAUC,SAAW,kCAAkCC,SAAW,SAAS,CAACF,aAAe,UAAUC,SAAW,wCAAwCC,SAAW,SAAS,CAACF,aAAe,UAAUC,SAAW,4CAA4CC,SAAW,OAAO,CAACF,aAAe,UAAUC,SAAW,iCAAiCC,SAAW,SAEr5B,CACI9D,KAAQ,gBACR+I,aAAgB,MAChBC,MAAS,CAAC,CAACpF,aAAe,gBAAgBC,SAAW,iCAAiCC,SAAW,OAAO,CAACF,aAAe,gBAAgBC,SAAW,8BAA8BC,SAAW,UAAU,CAACF,aAAe,gBAAgBC,SAAW,+BAA+BC,SAAW,UAAU,CAACF,aAAe,gBAAgBC,SAAW,6BAA6BC,SAAW,UAAU,CAACF,aAAe,gBAAgBC,SAAW,kCAAkCC,SAAW,UAAU,CAACF,aAAe,gBAAgBC,SAAW,oCAAoCC,SAAW,UAAU,CAACF,aAAe,gBAAgBC,SAAW,2CAA2CC,SAAW,UAAU,CAACF,aAAe,gBAAgBC,SAAW,gCAAgCC,SAAW,UAAU,CAACF,aAAe,gBAAgBC,SAAW,4BAA4BC,SAAW,UAAU,CAACF,aAAe,gBAAgBC,SAAW,qCAAqCC,SAAW,UAAU,CAACF,aAAe,gBAAgBC,SAAW,+BAA+BC,SAAW,UAAU,CAACF,aAAe,gBAAgBC,SAAW,uCAAuCC,SAAW,UAAU,CAACF,aAAe,gBAAgBC,SAAW,qCAAqCC,SAAW,UAAU,CAACF,aAAe,gBAAgBC,SAAW,+BAA+BC,SAAW,UAAU,CAACF,aAAe,gBAAgBC,SAAW,4CAA4CC,SAAW,UAAU,CAACF,aAAe,gBAAgBC,SAAW,6BAA6BC,SAAW,UAAU,CAACF,aAAe,gBAAgBC,SAAW,+BAA+BC,SAAW,UAAU,CAACF,aAAe,gBAAgBC,SAAW,kCAAkCC,SAAW,UAAU,CAACF,aAAe,gBAAgBC,SAAW,+BAA+BC,SAAW,UAAU,CAACF,aAAe,gBAAgBC,SAAW,6BAA6BC,SAAW,UAAU,CAACF,aAAe,gBAAgBC,SAAW,yBAAyBC,SAAW,UAAU,CAACF,aAAe,gBAAgBC,SAAW,4BAA4BC,SAAW,UAAU,CAACF,aAAe,gBAAgBC,SAAW,6BAA6BC,SAAW,UAAU,CAACF,aAAe,gBAAgBC,SAAW,iCAAiCC,SAAW,UAAU,CAACF,aAAe,gBAAgBC,SAAW,iCAAiCC,SAAW,UAAU,CAACF,aAAe,gBAAgBC,SAAW,iCAAiCC,SAAW,UAAU,CAACF,aAAe,gBAAgBC,SAAW,oCAAoCC,SAAW,UAAU,CAACF,aAAe,gBAAgBC,SAAW,+BAA+BC,SAAW,UAAU,CAACF,aAAe,gBAAgBC,SAAW,+BAA+BC,SAAW,UAAU,CAACF,aAAe,gBAAgBC,SAAW,6BAA6BC,SAAW,UAAU,CAACF,aAAe,gBAAgBC,SAAW,2BAA2BC,SAAW,UAAU,CAACF,aAAe,gBAAgBC,SAAW,uCAAuCC,SAAW,UAAU,CAACF,aAAe,gBAAgBC,SAAW,0BAA0BC,SAAW,UAAU,CAACF,aAAe,gBAAgBC,SAAW,0CAA0CC,SAAW,UAAU,CAACF,aAAe,gBAAgBC,SAAW,6BAA6BC,SAAW,UAAU,CAACF,aAAe,gBAAgBC,SAAW,iCAAiCC,SAAW,UAAU,CAACF,aAAe,gBAAgBC,SAAW,iCAAiCC,SAAW,UAAU,CAACF,aAAe,gBAAgBC,SAAW,qCAAqCC,SAAW,UAAU,CAACF,aAAe,gBAAgBC,SAAW,+BAA+BC,SAAW,UAAU,CAACF,aAAe,gBAAgBC,SAAW,6BAA6BC,SAAW,UAAU,CAACF,aAAe,gBAAgBC,SAAW,iCAAiCC,SAAW,UAAU,CAACF,aAAe,gBAAgBC,SAAW,6BAA6BC,SAAW,UAAU,CAACF,aAAe,gBAAgBC,SAAW,6BAA6BC,SAAW,UAAU,CAACF,aAAe,gBAAgBC,SAAW,+BAA+BC,SAAW,UAAU,CAACF,aAAe,gBAAgBC,SAAW,6BAA6BC,SAAW,UAAU,CAACF,aAAe,gBAAgBC,SAAW,iCAAiCC,SAAW,UAAU,CAACF,aAAe,gBAAgBC,SAAW,6BAA6BC,SAAW,UAAU,CAACF,aAAe,gBAAgBC,SAAW,gCAAgCC,SAAW,UAAU,CAACF,aAAe,gBAAgBC,SAAW,qCAAqCC,SAAW,UAAU,CAACF,aAAe,gBAAgBC,SAAW,+BAA+BC,SAAW,UAAU,CAACF,aAAe,gBAAgBC,SAAW,kCAAkCC,SAAW,YAEnzJ,CACI9D,KAAQ,aACR+I,aAAgB,KAChBC,MAAS,CAAC,CAACpF,aAAe,aAAaC,SAAW,iCAAiCC,SAAW,SAAS,CAACF,aAAe,aAAaC,SAAW,2BAA2BC,SAAW,SAAS,CAACF,aAAe,aAAaC,SAAW,kCAAkCC,SAAW,SAAS,CAACF,aAAe,aAAaC,SAAW,kCAAkCC,SAAW,SAAS,CAACF,aAAe,aAAaC,SAAW,iCAAiCC,SAAW,SAAS,CAACF,aAAe,aAAaC,SAAW,6BAA6BC,SAAW,SAAS,CAACF,aAAe,aAAaC,SAAW,iCAAiCC,SAAW,SAAS,CAACF,aAAe,aAAaC,SAAW,8BAA8BC,SAAW,SAAS,CAACF,aAAe,aAAaC,SAAW,mCAAmCC,SAAW,SAAS,CAACF,aAAe,aAAaC,SAAW,sCAAsCC,SAAW,SAAS,CAACF,aAAe,aAAaC,SAAW,2BAA2BC,SAAW,SAAS,CAACF,aAAe,aAAaC,SAAW,oCAAoCC,SAAW,SAAS,CAACF,aAAe,aAAaC,SAAW,kCAAkCC,SAAW,SAAS,CAACF,aAAe,aAAaC,SAAW,qCAAqCC,SAAW,SAAS,CAACF,aAAe,aAAaC,SAAW,qDAAqDC,SAAW,SAAS,CAACF,aAAe,aAAaC,SAAW,oCAAoCC,SAAW,SAAS,CAACF,aAAe,aAAaC,SAAW,iCAAiCC,SAAW,SAAS,CAACF,aAAe,aAAaC,SAAW,iCAAiCC,SAAW,SAAS,CAACF,aAAe,aAAaC,SAAW,yCAAyCC,SAAW,WAEzwD,CACI9D,KAAQ,aACR+I,aAAgB,KAChBC,MAAS,CAAC,CAACpF,aAAe,aAAaC,SAAW,oCAAoCC,SAAW,SAAS,CAACF,aAAe,aAAaC,SAAW,gCAAgCC,SAAW,SAAS,CAACF,aAAe,aAAaC,SAAW,6BAA6BC,SAAW,SAAS,CAACF,aAAe,aAAaC,SAAW,8BAA8BC,SAAW,SAAS,CAACF,aAAe,aAAaC,SAAW,mCAAmCC,SAAW,SAAS,CAACF,aAAe,aAAaC,SAAW,iCAAiCC,SAAW,SAAS,CAACF,aAAe,aAAaC,SAAW,gCAAgCC,SAAW,SAAS,CAACF,aAAe,aAAaC,SAAW,8BAA8BC,SAAW,SAAS,CAACF,aAAe,aAAaC,SAAW,4BAA4BC,SAAW,SAAS,CAACF,aAAe,aAAaC,SAAW,4BAA4BC,SAAW,SAAS,CAACF,aAAe,aAAaC,SAAW,gCAAgCC,SAAW,SAAS,CAACF,aAAe,aAAaC,SAAW,2BAA2BC,SAAW,SAAS,CAACF,aAAe,aAAaC,SAAW,qCAAqCC,SAAW,SAAS,CAACF,aAAe,aAAaC,SAAW,4BAA4BC,SAAW,SAAS,CAACF,aAAe,aAAaC,SAAW,+BAA+BC,SAAW,SAAS,CAACF,aAAe,aAAaC,SAAW,8BAA8BC,SAAW,SAAS,CAACF,aAAe,aAAaC,SAAW,0BAA0BC,SAAW,SAAS,CAACF,aAAe,aAAaC,SAAW,kCAAkCC,SAAW,SAAS,CAACF,aAAe,aAAaC,SAAW,6BAA6BC,SAAW,SAAS,CAACF,aAAe,aAAaC,SAAW,gCAAgCC,SAAW,SAEhyD,CACI9D,KAAQ,eACR+I,aAAgB,KAChBC,MAAS,CAAC,CAACpF,aAAe,eAAeC,SAAW,mCAAmCC,SAAW,OAAO,CAACF,aAAe,eAAeC,SAAW,mCAAmCC,SAAW,SAAS,CAACF,aAAe,eAAeC,SAAW,2CAA2CC,SAAW,SAAS,CAACF,aAAe,eAAeC,SAAW,+BAA+BC,SAAW,SAAS,CAACF,aAAe,eAAeC,SAAW,+BAA+BC,SAAW,SAAS,CAACF,aAAe,eAAeC,SAAW,gCAAgCC,SAAW,SAAS,CAACF,aAAe,eAAeC,SAAW,0CAA0CC,SAAW,SAAS,CAACF,aAAe,eAAeC,SAAW,gCAAgCC,SAAW,SAAS,CAACF,aAAe,eAAeC,SAAW,6BAA6BC,SAAW,SAAS,CAACF,aAAe,eAAeC,SAAW,gCAAgCC,SAAW,SAAS,CAACF,aAAe,eAAeC,SAAW,4BAA4BC,SAAW,SAAS,CAACF,aAAe,eAAeC,SAAW,+BAA+BC,SAAW,SAAS,CAACF,aAAe,eAAeC,SAAW,4BAA4BC,SAAW,SAAS,CAACF,aAAe,eAAeC,SAAW,kCAAkCC,SAAW,SAAS,CAACF,aAAe,eAAeC,SAAW,4BAA4BC,SAAW,SAAS,CAACF,aAAe,eAAeC,SAAW,2BAA2BC,SAAW,SAAS,CAACF,aAAe,eAAeC,SAAW,2BAA2BC,SAAW,SAAS,CAACF,aAAe,eAAeC,SAAW,oCAAoCC,SAAW,SAAS,CAACF,aAAe,eAAeC,SAAW,+BAA+BC,SAAW,SAAS,CAACF,aAAe,eAAeC,SAAW,6BAA6BC,SAAW,SAAS,CAACF,aAAe,eAAeC,SAAW,gCAAgCC,SAAW,SAAS,CAACF,aAAe,eAAeC,SAAW,oCAAoCC,SAAW,SAAS,CAACF,aAAe,eAAeC,SAAW,kCAAkCC,SAAW,SAAS,CAACF,aAAe,eAAeC,SAAW,4BAA4BC,SAAW,SAAS,CAACF,aAAe,eAAeC,SAAW,8BAA8BC,SAAW,SAAS,CAACF,aAAe,eAAeC,SAAW,oCAAoCC,SAAW,SAAS,CAACF,aAAe,eAAeC,SAAW,4BAA4BC,SAAW,SAAS,CAACF,aAAe,eAAeC,SAAW,mCAAmCC,SAAW,SAAS,CAACF,aAAe,eAAeC,SAAW,+BAA+BC,SAAW,SAAS,CAACF,aAAe,eAAeC,SAAW,kCAAkCC,SAAW,SAAS,CAACF,aAAe,eAAeC,SAAW,wCAAwCC,SAAW,SAAS,CAACF,aAAe,eAAeC,SAAW,4BAA4BC,SAAW,SAAS,CAACF,aAAe,eAAeC,SAAW,2BAA2BC,SAAW,SAAS,CAACF,aAAe,eAAeC,SAAW,0CAA0CC,SAAW,SAAS,CAACF,aAAe,eAAeC,SAAW,gCAAgCC,SAAW,SAAS,CAACF,aAAe,eAAeC,SAAW,mCAAmCC,SAAW,SAAS,CAACF,aAAe,eAAeC,SAAW,2BAA2BC,SAAW,SAAS,CAACF,aAAe,eAAeC,SAAW,kCAAkCC,SAAW,SAAS,CAACF,aAAe,eAAeC,SAAW,4CAA4CC,SAAW,SAE/mH,CACI9D,KAAQ,gBACR+I,aAAgB,KAChBC,MAAS,CAAC,CAACpF,aAAe,gBAAgBC,SAAW,sCAAsCC,SAAW,SAAS,CAACF,aAAe,gBAAgBC,SAAW,gCAAgCC,SAAW,SAAS,CAACF,aAAe,gBAAgBC,SAAW,8BAA8BC,SAAW,SAAS,CAACF,aAAe,gBAAgBC,SAAW,4BAA4BC,SAAW,SAAS,CAACF,aAAe,gBAAgBC,SAAW,sCAAsCC,SAAW,SAAS,CAACF,aAAe,gBAAgBC,SAAW,gCAA6BC,SAAW,SAAS,CAACF,aAAe,gBAAgBC,SAAW,iCAAiCC,SAAW,SAAS,CAACF,aAAe,gBAAgBC,SAAW,gCAAgCC,SAAW,SAAS,CAACF,aAAe,gBAAgBC,SAAW,8BAA8BC,SAAW,SAAS,CAACF,aAAe,gBAAgBC,SAAW,gCAAgCC,SAAW,SAAS,CAACF,aAAe,gBAAgBC,SAAW,sCAAsCC,SAAW,SAAS,CAACF,aAAe,gBAAgBC,SAAW,iCAAiCC,SAAW,SAAS,CAACF,aAAe,gBAAgBC,SAAW,+BAA+BC,SAAW,SAAS,CAACF,aAAe,gBAAgBC,SAAW,kCAAkCC,SAAW,SAAS,CAACF,aAAe,gBAAgBC,SAAW,sBAAsBC,SAAW,SAAS,CAACF,aAAe,gBAAgBC,SAAW,+BAA+BC,SAAW,SAAS,CAACF,aAAe,gBAAgBC,SAAW,gCAAgCC,SAAW,SAAS,CAACF,aAAe,gBAAgBC,SAAW,gCAAgCC,SAAW,SAAS,CAACF,aAAe,gBAAgBC,SAAW,oCAAoCC,SAAW,SAAS,CAACF,aAAe,gBAAgBC,SAAW,oCAAoCC,SAAW,SAAS,CAACF,aAAe,gBAAgBC,SAAW,kCAAkCC,SAAW,SAAS,CAACF,aAAe,gBAAgBC,SAAW,oCAAoCC,SAAW,SAAS,CAACF,aAAe,gBAAgBC,SAAW,+BAA+BC,SAAW,SAAS,CAACF,aAAe,gBAAgBC,SAAW,gCAAgCC,SAAW,SAAS,CAACF,aAAe,gBAAgBC,SAAW,mCAAmCC,SAAW,SAAS,CAACF,aAAe,gBAAgBC,SAAW,iCAAiCC,SAAW,SAAS,CAACF,aAAe,gBAAgBC,SAAW,2BAA2BC,SAAW,WAErhF,CACI9D,KAAQ,eACR+I,aAAgB,KAChBC,MAAS,CAAC,CAACpF,aAAe,eAAeC,SAAW,sCAAsCC,SAAW,OAAO,CAACF,aAAe,eAAeC,SAAW,gCAAgCC,SAAW,SAAS,CAACF,aAAe,eAAeC,SAAW,gCAAgCC,SAAW,SAAS,CAACF,aAAe,eAAeC,SAAW,gCAAgCC,SAAW,SAAS,CAACF,aAAe,eAAeC,SAAW,8CAA8CC,SAAW,SAAS,CAACF,aAAe,eAAeC,SAAW,iCAAiCC,SAAW,SAAS,CAACF,aAAe,eAAeC,SAAW,6BAA6BC,SAAW,SAAS,CAACF,aAAe,eAAeC,SAAW,8BAA8BC,SAAW,SAAS,CAACF,aAAe,eAAeC,SAAW,sCAAsCC,SAAW,SAAS,CAACF,aAAe,eAAeC,SAAW,oCAAoCC,SAAW,SAAS,CAACF,aAAe,eAAeC,SAAW,gCAAgCC,SAAW,SAAS,CAACF,aAAe,eAAeC,SAAW,oCAAoCC,SAAW,SAAS,CAACF,aAAe,eAAeC,SAAW,wCAAwCC,SAAW,SAAS,CAACF,aAAe,eAAeC,SAAW,oCAAoCC,SAAW,SAAS,CAACF,aAAe,eAAeC,SAAW,6CAA6CC,SAAW,SAAS,CAACF,aAAe,eAAeC,SAAW,gCAAgCC,SAAW,SAAS,CAACF,aAAe,eAAeC,SAAW,2CAA2CC,SAAW,SAAS,CAACF,aAAe,eAAeC,SAAW,kCAAkCC,SAAW,SAAS,CAACF,aAAe,eAAeC,SAAW,0BAA0BC,SAAW,SAAS,CAACF,aAAe,eAAeC,SAAW,kCAAkCC,SAAW,SAAS,CAACF,aAAe,eAAeC,SAAW,0CAA0CC,SAAW,SAAS,CAACF,aAAe,eAAeC,SAAW,0BAA0BC,SAAW,SAAS,CAACF,aAAe,eAAeC,SAAW,kCAAkCC,SAAW,SAAS,CAACF,aAAe,eAAeC,SAAW,uCAAuCC,SAAW,SAAS,CAACF,aAAe,eAAeC,SAAW,wCAAwCC,SAAW,YAud33EmF,eAjdX,SAAAA,EAAYjG,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAxD,KAAAuJ,IACfhG,EAAAC,OAAAE,EAAA,EAAAF,CAAAxD,KAAAwD,OAAAG,EAAA,EAAAH,CAAA+F,GAAA7I,KAAAV,KAAMsD,KACDQ,MAAQ,CACT0F,mBAAmB,EACnBvF,WAAY,WACZC,aAAc,GACdC,SAAU,GACVC,SAAU,GACVC,SAAU,IAGVf,EAAMW,aACNV,EAAKO,MAAMG,WAAaX,EAAMW,YAE9BX,EAAMY,eACNX,EAAKO,MAAMI,aAAeZ,EAAMY,cAEhCZ,EAAMa,WACNZ,EAAKO,MAAMK,SAAWb,EAAMa,UAE5Bb,EAAMkG,oBACNjG,EAAKO,MAAM0F,kBAAoBlG,EAAMkG,mBAEzCjG,EAAKuB,mBAAqBvB,EAAKuB,mBAAmBD,KAAxBrB,OAAAK,EAAA,EAAAL,QAAAK,EAAA,EAAAL,CAAAD,KAvBXA,oEA0Bd5E,EAAW2E,GACZtD,KAAK+G,UAAUpI,EAAW2E,+CAI1BtD,KAAKC,KAAKD,KAAK2E,eAAgB3E,KAAKsD,OACpCjE,SAAS2F,iBAAiB3C,EAAoBrC,KAAK8E,mEAIrDzF,SAAS6F,oBAAoB7C,EAAoBrC,KAAK8E,iEAIpD9E,KAAKC,KAAKD,KAAK2E,eAAgB3E,KAAKsD,kDAGrBoC,GACf,IAAIC,EAAWD,EAAME,OACrB5F,KAAKyF,SAASE,iDAGI1B,EAAYwF,GAC9B,IAAI9D,EACJ,GAAkB,YAAd1B,GAEA,GADA0B,EAAW,CAAC1B,WAAYA,GACpBjE,KAAK8D,MAAMG,YAAc0B,EAAS1B,WAClC,YACD,GAAkB,YAAdA,GAKP,GAJA0B,EAAW,CACP1B,WAAYA,EACZC,aAAcuF,EAAcnJ,MAE5BN,KAAK8D,MAAMG,YAAc0B,EAAS1B,YAAcjE,KAAK8D,MAAMI,cAAgByB,EAASzB,aACpF,YACD,GAAkB,gBAAdD,IACP0B,EAAW,CACP1B,WAAYA,EACZC,aAAcuF,EAAcvF,aAC5BC,SAAUsF,EAActF,SACxBC,SAAUqF,EAAcrF,UAExBpE,KAAK8D,MAAMG,YAAc0B,EAAS1B,YAC/BjE,KAAK8D,MAAMI,cAAgByB,EAASzB,cACpClE,KAAK8D,MAAM6B,UAAYA,EAASxB,UACnC,OAGR,IAAIuB,EAAQ,IAAI4C,YAAYjG,EAAsB,CAAEuD,OAAQD,IAC5DtG,SAASkJ,cAAc7C,GACvB1F,KAAKyF,SAASE,2CAId,MAA6B,YAAzB3F,KAAK8D,MAAMG,WACN,KAEoB,YAAzBjE,KAAK8D,MAAMG,WACNjE,KAAK8D,MAAMI,aAES,gBAAzBlE,KAAK8D,MAAMG,WACNjE,KAAK8D,MAAMK,SAES,mBAAzBnE,KAAK8D,MAAMG,WACNjE,KAAK8D,MAAMK,SAAW,IAAMnE,KAAK8D,MAAMO,cADhD,yCAMA,OAAO9E,IAAUS,KAAK+F,KAAKC,0DAI3B,OAAOzG,IAAUS,KAAK+F,KAAK2D,0CAGrB,IAAAlB,EAAAxI,KAKFwJ,EACAxJ,KAAK8D,MADL0F,kBAEJ,OACIvD,EAAAC,EAAAC,cAAA,OAAKrH,UAAU,kBAEN0K,GACGvD,EAAAC,EAAAC,cAAA,OAAKrH,UAAWA,EAAU,eACtBmH,EAAAC,EAAAC,cAACwD,EAAA,QAAD,CACIC,oBAAoB,IACpBC,MAbV,CACVC,eAAgB,WAaIC,gBAAiB/J,KAAK+J,gBACtBjL,UAAWA,EAAU,eAErBmH,EAAAC,EAAAC,cAACwD,EAAA,IAAD,CAAKK,GAAG,kBAAkBd,QAASlJ,KAAKiK,sBAAsBpF,KAAK7E,KAAM,aAAzE,YAIIoJ,EAAchJ,IAAI,SAAA8J,GACd,OAAOjE,EAAAC,EAAAC,cAACwD,EAAA,IAAD,CACHZ,IAAKmB,EAASb,aACdW,GAAI,mBAAmBE,EAASb,aAChCH,QAASV,EAAKyB,sBAAsBpF,KAAK2D,EAAM,WAAY0B,IACrDA,EAAS5J,KAEP4J,EAASZ,MAAMlJ,IAAI,SAAA+J,GACf,OAAOlE,EAAAC,EAAAC,cAACwD,EAAA,IAAD,CACHZ,IAAKoB,EAAK/F,SACV4F,GAAI,eAAeG,EAAK/F,SACxB8E,QAASV,EAAKyB,sBAAsBpF,KAAK2D,EAAM,eAAgB2B,IAE1DA,EAAKhG,SAASzC,MAAM,KAAK,GAAGA,MAAM,KAAK,WAWvF1B,KAAKoG,gBAENH,EAAAC,EAAAC,cAAA,OAAKrH,UAAU,kBAAkBuH,IAAI,WACjCJ,EAAAC,EAAAC,cAACiE,EAAAlE,EAAD,CAAcwC,KAAM,OAAQ2B,MAAO,OAAQxL,OAAQ,IAAKD,MAAO,OAEnEqH,EAAAC,EAAAC,cAAA,OAAKE,IAAI,eAAevH,UAAU,2CAKpCH,EAAW2E,GACjB,IAAIM,EAAO5D,KACPsK,EAAkB,0BA6BtB,IAQIvL,EARAwL,EAAuB7C,EAAOC,OAAS,YA3B3C,WAeI,OAAO/D,EAAKE,MAAMG,YACd,IAAK,WACD,OAAOqG,EACX,IAAK,WACD,MAjBwB,CACxBE,QAAW,qBACXC,WAAc,oBACdC,QAAW,oBACXC,gBAAiB,qBACjBC,aAAc,oBACdC,aAAc,oBACdC,eAAgB,oBAChBC,gBAAiB,oBACjBC,eAAgB,qBAQWpH,EAAKE,MAAMI,cAC1C,IAAK,eACD,OAAON,EAAKE,MAAMM,SAAW,YACjC,QACI,OAAO,MAIsC6G,GAEzDrH,EAAKsH,oBACA1L,MAAM,UAAW,SACjBgB,aACAC,SAAS,KACTjB,MAAM,UAAW,GAIpBT,EADEM,SAASC,uBAAuB,WAAW,GAChCC,IAAU,YAEVA,IAAU,QAAQL,OAAO,OACnCC,KAAK,QAASL,EAAU,YACxBU,MAAM,UAAW,GAGtBqG,QAAQC,IAAI,cAAeqF,gDAC3BtF,QAAQC,IAAI,uBAAwByE,GAIpC5L,EAAUmC,UAAU,OAAOI,SAC3B,IAAIjC,EAAMN,EAAUO,OAAO,OACtBC,KAAK,sBAAuB,iBAAiBK,MAAM,mBAAmB,WACtEL,KAAK,UAAW,eAChBiM,QAAQ,eAAe,GAqCxBC,EAAgB9L,IAAQgL,GAE5Be,QAAQC,IAAI,CAACF,IAAgBvE,KAAK,SAAS0E,GACvC,IAEIC,EAFAC,EAAcF,EAAO,IAG0B,IAA/CjB,EAAqBoB,QAAQ,eAC7BD,EAAcE,IAAiBF,EAAaA,EAAYG,QAAQjI,EAAKE,MAAMM,YAG/EqH,EAAsBC,EAAYI,SAElC,IAAIC,EAAaxM,MAAiByM,QAAQ,CAvDtC,IACA,KAsD8CN,GAC9CO,EAAO1M,MAAawM,WAAWA,GA8DnC,GA3DA9M,EAAI6B,UAAJ,IAAAC,OAAkBjC,EAAU,YACvBkC,KAAKyK,GACLtK,QACAjC,OAAO,QACPC,KAAK,QAASL,EAAU,WACxBK,KAAK,SA1UE,WA2UPA,KAAK,OA5UJ,WA6UDA,KAAK,KAAM,SAASkB,EAAGgB,GACpB,gBAAAN,OAAiBM,KAEpBlC,KAAK,IAAK8M,GAgBe,iBAA1BrI,EAAKE,MAAMG,YACXhF,EAAI6B,UAAU,gBACTE,KAAKyK,GACTtK,QAAQjC,OAAO,QACXC,KAAK,QAAS,eACdA,KAAK,YAAa,QAClBA,KAAK,YAAa,SAASkB,GACxB,IAAI6L,EAAQC,EACZ,MAAwB,YAApB9L,EAAE+L,SAAS1D,MACXwD,EAASG,IAAUhM,EAAE+L,SAASE,cAC9BH,EAAmBJ,EAAWG,IACb,IAAM,GAChB,aAAeC,EAAmB,MAEzCD,EAASG,IAAUhM,EAAE+L,SAASE,YAAY,KAC1CH,EAAmBJ,EAAWG,IACb,IAAM,EAChB,aAAeC,EAAmB,OAGhDhN,KAAK,KAAM,SACXK,MAAM,cAAe,UACrBK,KAAK,SAASQ,GACX,MAA8B,aAA1BuD,EAAKE,MAAMG,WACJ5D,EAAEkM,WAAWC,UACa,aAA1B5I,EAAKE,MAAMG,WACX5D,EAAEkM,WAAWE,WAAW/K,MAAM,KAAK,GAAGA,MAAM,KAAK,GAEjDrB,EAAEkM,WAAWG,WAAWhL,MAAM,KAAK,GAAGA,MAAM,KAAK,KAK1C,iBAA1BkC,EAAKE,MAAMG,WAA+B,CAC1C,IAII5C,EAJAsL,EAAgBtN,SAASC,uBAAuB,eAEhDsN,EAAU,GACVC,EAAa,GAGjB,IAAKxL,EAAI,EAAGA,EAAIoK,EAAoBnK,OAAQD,IACxCuL,EAAQvL,GAAKsL,EAActL,GAAGyL,wBAGlC,IAAKzL,EAAI,EAAGA,EAAIoK,EAAoBnK,OAAQD,IAAM,CAC9C,IAAK,IAAI0L,EAAI,EAAGA,EAAI1L,EAAG0L,IAAM,CACzB,IAAIC,EAAQJ,EAAQvL,GAChB4L,EAAQL,EAAQG,KACJC,EAAME,MAAQD,EAAME,MAChCH,EAAMG,KAAOF,EAAMC,OACnBF,EAAMI,OAASH,EAAMI,KACrBL,EAAMK,IAAMJ,EAAMG,UAElBP,EAAWxL,GAAKwL,EAAWxL,GAAKwL,EAAWxL,GAAK,EAAI,GAGxDwL,EAAWxL,GAAK,EAChBsL,EAActL,GAAGiM,aAAa,UAAW,GAClCT,EAAWxL,GAAK,IACvBsL,EAActL,GAAGkM,UAAYZ,EAActL,GAAGkM,UAAUC,MAAM,EAAG,GAAK,QAQlFvO,EAAI6B,UAAU,eACTE,KAAKyK,GACTtK,QACIjC,OAAO,QACPC,KAAK,IAAK8M,GACV9M,KAAK,QAAS,cACdA,KAAK,KAAM,SAASkB,EAAGgB,GACpB,oBAAAN,OAAqBM,KAExBlC,KAAK,OAAQ,eACboC,GAAG,YAAa,SAASlB,EAAGgB,GACzB9B,IAAA,WAAAwB,OAAqBM,IAChBlC,KAAK,eAAgB,GACrBK,MAAM,eAAgB,MAE9B+B,GAAG,YAAa,SAASlB,GACQ,iBAA1BuD,EAAKE,MAAMG,aACflF,EAAWyB,aACNC,SAAS,KACTjB,MAAM,UAAW,GAUtBT,EAAWyC,KARuB,aAA1BoC,EAAKE,MAAMG,WACJ5D,EAAEkM,WAAWC,UACa,aAA1B5I,EAAKE,MAAMG,WACX5D,EAAEkM,WAAWE,WAAW/K,MAAM,KAAK,GAAGA,MAAM,KAAK,GAEjDrB,EAAEkM,WAAWG,WAAWhL,MAAM,KAAK,GAAGA,MAAM,KAAK,IAI3DlC,MAAM,OAASD,IAASyC,MAAS,MACjCxC,MAAM,MAAQD,IAAS0C,MAAQ,GAAM,SAE7CV,GAAG,WAAY,SAASlB,EAAGgB,GACxB9B,IAAA,WAAAwB,OAAqBM,IAChBlC,KAAK,eAAgB,GACrBK,MAAM,eAAgB,GAEG,iBAA1BoE,EAAKE,MAAMG,YAEflF,EAAWyB,aACNC,SAAS,KACTjB,MAAM,UAAW,KAEzB+B,GAAG,QAAS,SAASlB,EAAGgB,GACrB,IAAIuC,EAAKE,MAAM0F,kBAAf,CAGA3D,QAAQC,IAAI,cAAezE,EAAGhB,EAAEkM,YAChCxN,EAAWyB,aACNC,SAAS,KACTjB,MAAM,UAAW,GAEtB,IAWiC+M,EAX7BtI,EAAaL,EAAKE,MAAMG,WAE5B,GAAmB,aAAfA,EACA0B,EAAW,CACP1B,WAAY,WACZC,aAAc7D,EAAEkM,WAAWC,WAE/B9G,EAAQ,IAAI4C,YAAYjG,EAAsB,CAAEuD,OAAQD,IACxDtG,SAASkJ,cAAc7C,GACvB9B,EAAK6B,SAASE,QACX,GAAmB,aAAf1B,EAA2B,CAIlC0B,EAAW,CACP1B,WAAY,eACZC,aAAcN,EAAKE,MAAMI,aACzBC,SAAU9D,EAAEkM,WAAWE,WACvBrI,UAPyBmI,EAOKlM,EAAEkM,WANzBA,EAAWkB,MAAQlB,EAAWE,WAAW/K,MAAM,KAAK,GAAGE,QAAQ,MAAO,MAQjF8D,EAAQ,IAAI4C,YAAYjG,EAAsB,CAAEuD,OAAQD,IACxDtG,SAASkJ,cAAc7C,GAEvB9B,EAAK6B,SAASE,OACX,KAICA,EAAW,CACX1B,WAAY,kBACZC,aAAcN,EAAKE,MAAMI,aACzBC,SAAUP,EAAKE,MAAMK,SACrBC,SAAUR,EAAKE,MAAMM,SACrBC,SARJ,SAAiCkI,GAC7B,OAAOA,EAAWmB,WAORC,CAAwBtN,EAAEkM,aAEpC7G,EAAQ,IAAI4C,YAAYjG,EAAsB,CAAEuD,OAAQD,IAC5DtG,SAASkJ,cAAc7C,OAGnC9B,EAAKsH,oBACA1L,MAAM,UAAW,UAO1ByF,OAAOD,iBAAiB,SAJN,aAI6B,YA/crCyC,iCC7DlB,SAAS3I,GAAU8I,GACf,OAAOC,IAAgBD,IAAoBzE,KAAOyE,IAAoBA,MA2H3DgG,eAtHX,SAAAA,EAAYtK,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAxD,KAAA4N,IACfrK,EAAAC,OAAAE,EAAA,EAAAF,CAAAxD,KAAAwD,OAAAG,EAAA,EAAAH,CAAAoK,GAAAlN,KAAAV,KAAMsD,KACDQ,MAAQ,CACTiE,UAAW,OACXyB,mBAAmB,EACnBvF,WAAY,WACZC,aAAc,eACdC,SAAU,IAPCZ,6KAiBA4E,GACf,IAAIxC,EAAW,CAAC1B,WAAYkE,EAAEC,OAAOC,OACrCrI,KAAKyF,SAASE,qCAGRwC,GACN,IAAIzC,EAAQ,IAAI4C,YAAYjG,EAAoB,CAAEuD,OAAQ5F,KAAK8D,QAC/DzE,SAASkJ,cAAc7C,oCAGjB,IAAA8C,EAAAxI,KACF2H,EAASD,EAAOC,OADdc,EAQFzI,KAAK8D,MALLiE,EAHEU,EAGFV,UACAyB,EAJEf,EAIFe,kBACAvF,EALEwE,EAKFxE,WACAC,EANEuE,EAMFvE,aACAC,EAPEsE,EAOFtE,SAEJ,OACE8B,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,2CACAF,EAAAC,EAAAC,cAAA,OAAKrH,UAAWA,GAAU,eACtBmH,EAAAC,EAAAC,cAAA,4BACAF,EAAAC,EAAAC,cAAA,SACIuC,KAAK,OACL5J,UAAWA,GAAU,gBACrB6J,YAAY,kBACZC,SAAU,SAAAT,GAAC,OAAIK,EAAK/C,SAAS,CAACsC,UAAWI,EAAEC,OAAOC,YAG1DpC,EAAAC,EAAAC,cAAA,OAAKrH,UAAWA,GAAU,eACpBmH,EAAAC,EAAAC,cAAA,6BACAF,EAAAC,EAAAC,cAAA,UAAQrH,UAAWA,GAAU,gBAC1BuJ,MAAOpE,EACP2E,SAAU5I,KAAKgJ,mBAAmBnE,KAAK7E,OACpCiG,EAAAC,EAAAC,cAAA,UAAQkC,MAAM,YAAd,YACApC,EAAAC,EAAAC,cAAA,UAAQkC,MAAM,YAAd,YACApC,EAAAC,EAAAC,cAAA,UAAQkC,MAAM,gBAAd,kBAIS,YAAdpE,GACCgC,EAAAC,EAAAC,cAAA,OAAKrH,UAAWA,GAAU,eACtBmH,EAAAC,EAAAC,cAAA,8BACAF,EAAAC,EAAAC,cAAA,SACIuC,KAAK,OACL5J,UAAWA,GAAU,gBACrB6J,YAAY,eACZN,MAAOnE,EACP0E,SAAU,SAAAT,GAAC,OAAIK,EAAK/C,SAAS,CAACvB,aAAciE,EAAEC,OAAOC,YAKhD,gBAAdpE,GACCgC,EAAAC,EAAAC,cAAA,OAAKrH,UAAWA,GAAU,eACtBmH,EAAAC,EAAAC,cAAA,kCACAF,EAAAC,EAAAC,cAAA,SACIuC,KAAK,OACL5J,UAAWA,GAAU,gBACrB6J,YAAY,oBACZN,MAAOlE,EACPyE,SAAU,SAAAT,GAAC,OAAIK,EAAK/C,SAAS,CAACtB,SAAUgE,EAAEC,OAAOC,YAK/DpC,EAAAC,EAAAC,cAAA,OAAKrH,UAAWA,GAAU,eAExBmH,EAAAC,EAAAC,cAAA,SAAOrH,UAAWA,GAAU,qBACxBmH,EAAAC,EAAAC,cAAA,SACIuC,KAAK,WACL5J,UAAWA,GAAU,oBACrBuJ,MAAOmB,EACPZ,SAAU,SAAAT,GAAC,OAAIK,EAAK/C,SAAS,CAAC+D,kBAAmBrB,EAAEC,OAAOyF,aALlE,+BAUF5H,EAAAC,EAAAC,cAAA,OAAKrH,UAAWA,GAAU,eACxBmH,EAAAC,EAAAC,cAAA,UAAQuC,KAAK,SAASQ,QAASlJ,KAAKmJ,UAAUtE,KAAK7E,MAAOlB,UAAWA,GAAU,OAAS,IAAMA,GAAU,gBAAxG,YAEJmH,EAAAC,EAAAC,cAAA,OAAKrH,UAAWA,GAAU,eACtBmH,EAAAC,EAAAC,cAAA,2BACAF,EAAAC,EAAAC,cAAA,OAAKrH,UAAWA,GAAU,cACtBmH,EAAAC,EAAAC,cAAA,YAAO,gBAAApF,OAAgB4G,EAAhB,wHAAA5G,OAEgCgH,EAFhC,yDAAAhH,OAGsByI,EAHtB,gDAAAzI,OAIgBkD,EAJhB,mDAAAlD,OAKkBmD,EALlB,+CAAAnD,OAMcoD,EANd,6CAOWvC,QAAQ,iBAAkB,eAhHzC6F,aCqBRqG,UC3BGrG,6LDOd,OACExB,EAAAC,EAAAC,cAAA,OAAKrH,UAAU,OACbmH,EAAAC,EAAAC,cAAA,OAAKrH,UAAU,iBACbmH,EAAAC,EAAAC,cAAC4H,EAAD,CAAUC,WAAW,KAAK/J,WAAW,WAAWF,WAAY,IAC5DkC,EAAAC,EAAAC,cAAC8H,GAAD,CAAKhK,WAAW,WAAWC,aAAa,kBAE1C+B,EAAAC,EAAAC,cAAA,OAAKrH,UAAU,kBACbmH,EAAAC,EAAAC,cAAA,OAAKrH,UAAU,iBACbmH,EAAAC,EAAAC,cAAC+H,EAAD,OAEFjI,EAAAC,EAAAC,cAAA,OAAKrH,UAAU,YACbmH,EAAAC,EAAAC,cAACgI,GAAD,QAGJlI,EAAAC,EAAAC,cAAA,OAAK6D,GAAG,uBAhBEvC,cEGE2G,QACW,cAA7BnJ,OAAOoJ,SAASC,UAEe,UAA7BrJ,OAAOoJ,SAASC,UAEhBrJ,OAAOoJ,SAASC,SAASC,MACvB,2DCZNC,IAASC,OAAOxI,EAAAC,EAAAC,cAACuI,GAAD,MAASrP,SAASsP,eAAe,SD2H3C,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMhI,KAAK,SAAAiI,GACjCA,EAAaC","file":"static/js/main.dac1fed7.chunk.js","sourcesContent":["import * as d3 from \"d3\";\n\nexport function Chart(container, width, height, className) {\n    var XaxisOffset = 70;\n    var YaxisOffset = 20;\n    var predefColors = [\"blue\", \"yellow\", \"red\"];\n    var svg = container.append(\"svg\")\n        .attr(\"width\", parseInt(width) + XaxisOffset)\n        .attr(\"height\", parseInt(height) + YaxisOffset);\n  \n    var tooltipDiv;\n    if (document.getElementsByClassName(\"tooltip\")[0]) {\n      tooltipDiv = d3.select(\".tooltip\");\n    } else {\n      tooltipDiv = d3.select(\"body\").append(\"div\")\t\n        .attr(\"class\", className(\"tooltip\"))\t\t\t\t\n        .style(\"opacity\", 0);\n    }\n  \n    var x = d3.scaleBand()\n      .rangeRound([XaxisOffset, width])\n  \n    var y = d3.scaleLinear()\n      .rangeRound([height, YaxisOffset]);\n  \n    svg.append(\"g\")\n      .attr(\"transform\", \"translate(20,\"+(height/2+YaxisOffset/2)+\")\")\n      .append(\"text\")\n      .attr(\"class\", className(\"percentage-label\"))\n      .attr(\"transform\", \"rotate(-90)\")\n      .text(\"PERCENTAGE VOTES\")\n      .attr(\"text-anchor\", \"middle\");\n  \n    svg.append(\"g\")\n      .attr(\"class\", \"x axis\")\n      .attr(\"transform\", \"translate(0,\" + height + \")\")\n  \n    svg.append(\"g\")\n      .attr(\"class\", \"y axis\")\n      .attr(\"transform\", \"translate(\" + XaxisOffset +\", 0)\")\n  \n    var barSvg = svg.append(\"g\")\n      .attr(\"class\", className(\"bar-container\"));\n    var barTextSvg = svg.append(\"g\")\n      .attr(\"class\", className(\"bartext-container\"));\n  \n    this.draw = function(chartData) {\n      x.domain(chartData.map(function (d) {\n          return d.name;\n        }));\n      y.domain([0, 100]);\n  \n          svg.select(\".x.axis\").transition().duration(300).call(d3.axisBottom(x));\n          svg.select(\".y.axis\").transition().duration(300).call(d3.axisLeft(y)\n        .ticks(6)\n        .tickFormat(function(d) { return d + \"%\"; })\n      )\n  \n      var bars = barSvg.selectAll(`.${className(\"bar\")}`).data(chartData);\n  \n      bars.exit()\n        .transition()\n        .duration(300)\n        .attr(\"y\", function(d) {\n          return y(0);\n        })\n        .attr(\"height\", 0)\n        .style(\"fill-opacity\", 1e-6)\n        .remove();\n  \n      bars.enter()\n          .append(\"rect\")\n          .attr(\"class\", className(\"bar\"))\n          .attr(\"x\", function (d) {\n            return x(d.name)+x.bandwidth()/20;\n          })\n          .attr(\"width\", x.bandwidth()*9/10)\n          .attr(\"fill\", (d,i) => predefColors[i%predefColors.length])\n          .on(\"mousemove\", function(d) {\t\t\n              d3.select(this)\n                .attr(\"opacity\", 0.8);\n              tooltipDiv.transition()\t\t\n                  .duration(200)\t\t\n                  .style(\"opacity\", .9);\t\t\n              function formatPartyName(name) {\n                return name.split(\"/\")[0].toLowerCase().replace(/\\b\\w/g, function(l){ return l.toUpperCase() })\n              }\n              tooltipDiv.html(formatPartyName(d.partyInfo.name) + \" : \" + d.percOfVotes + \"%\")\n                  .style(\"left\", (d3.event.pageX) + \"px\")\t\t\n                  .style(\"top\", (d3.event.pageY - 28) + \"px\");\t\n              })\t\t\t\t\t\n          .on(\"mouseout\", function(d) {\t\t\n              d3.select(this)\n                .attr(\"opacity\", 1);\n              tooltipDiv.transition()\t\t\n                  .duration(200)\t\t\n                  .style(\"opacity\", 0);\t\n          })\n          .attr(\"y\", function(d) {\n            return y(0);\n          })\n          .attr(\"height\", 0)        \n  \n        barSvg.selectAll(`.${className(\"bar\")}`).data(chartData)\n          .transition()\n          .duration(300)\n          .attr(\"y\", function (d) {\n            return y(Number(d.percOfVotes));\n          })\n          .attr(\"height\", function (d) {\n            return height - y(Number(d.percOfVotes));\n          })\n          \n        var barTexts = barTextSvg.selectAll(`.${className(\"bartext\")}`).data(chartData);\n  \n        barTexts.exit()\n          .transition()\n          .duration(300)\n          .attr(\"y\", function(d) {\n            return y(0) - 5;\n          })\n          .style(\"fill-opacity\", 1e-6)\n          .remove();\n  \n        barTexts.enter().append(\"text\")\n          .attr(\"class\", className(\"bartext\"))\n          .attr(\"x\", function (d) {\n            return x(d.name)+x.bandwidth()/2;\n          })\n          .attr(\"text-anchor\", \"middle\")\n          .attr(\"font-size\", \"12px\")\n          .attr(\"y\", function(d) {\n            return y(0) - 5;\n          })\n        barTextSvg.selectAll(`.${className(\"bartext\")}`).data(chartData)\n          .text(function(d) {\n            return d.percOfVotes + \"%\";\n          })\n          .transition()\n          .duration(300)\n          .attr(\"y\", function (d) {\n            return y(Number(d.percOfVotes)) - 5;\n          })\n    }\n    this.destroy = function() {\n      svg.remove();\n    }\n  }","const REGION_CHANGE = \"region-change\";\nconst BARCHART_PREVIEW = \"barchart-preview\";\nconst MAP_PREVIEW = \"map-preview\";\n\nexport default {\n    REGION_CHANGE,\n    BARCHART_PREVIEW,\n    MAP_PREVIEW\n};","import { ApolloClient } from \"apollo-client\"\nimport { HttpLink } from \"apollo-link-http\"\nimport { InMemoryCache } from \"apollo-cache-inmemory\"\nimport gql from \"graphql-tag\"\n\n\nvar API_URI = \"https://elections2019.xyz/graphql\";\nconst client = new ApolloClient({\n  link: new HttpLink({ uri: API_URI, useGETForQueries: true, headers: {\"Content-Type\" : \"application/graphql\" } }),\n  cache: new InMemoryCache()\n})\n\nexport function getElectionEvents() {\n  return client.query({\n    query: gql`\n    {\n      allEvents {\n        description\n      }\n    }\n    `\n  })\n}\n\nexport function getVotesDataM(options) {\n  var eventDescription = options.eventDescription;\n  if (options.regionType == \"national\") {\n    return client.query({\n      query: gql`\n      {\n        allBallots(\n          event_Description:\"${eventDescription}\"\n        ){\n          edges{\n            node{\n              topResult(last:${options.numParties}) {\n                edges{\n                  node{\n                    validVotes\n                    percOfVotes\n                    party {\n                      id\n                      name\n                      abbreviation\n                    }\n                  }\n                }\n                \n              }\n              location {\n                id\n                name\n              }\n            }\n          }\n        }\n      }\n      `\n    })\n  } else if (options.regionType == \"province\") {\n    return client.query({\n      query: gql`\n      {\n        allProvincialBallots(\n          location_Name_Icontains:\"${options.provinceName}\",\n          event_Description:\"${eventDescription}\"\n        ){\n          edges{\n            node{\n              topResult(last:${options.numParties}) {\n                edges{\n                  node{\n                    validVotes\n                    percOfVotes\n                    party {\n                      id\n                      name\n                      abbreviation\n                    }\n                  }\n                }\n              }\n              location {\n                id\n                name\n              }\n            }\n          }\n        }\n      }\n      `\n    })\n  } else if (options.regionType == \"municipality\") {\n    var muniCode = options.muniName.split(\" - \")[0];\n\n    return client.query({\n      query: gql`\n      {\n        allMunicipalBallots(location_Province_Name:\"${options.provinceName}\", \n          event_Description:\"${eventDescription}\",\n          location_Code: \"${muniCode}\"\n        ) {\n          edges{\n            node {\n              topResult(last:${options.numParties}){\n                edges{\n                  node{\n                    party {               \n                      name\n                      abbreviation\n                    }\n                    validVotes\n                    percOfVotes\n                  }\n                }\n                \n              }\n              location {\n                code\n                name\n                longName\n              }\n            }\n          }\n        }\n      }\n      `\n    })\n  } else if (options.regionType == \"municipality-vd\") {\n    return client.query({\n      query: gql`\n      {\n        allVotingDistrictBallots(location_Id:\"${options.vdNumber}\", \n        event_Description:\"${eventDescription}\",\n        location_Ward_Municipality_Name_Icontains:\"${options.muniCode}\") {\n          edges{\n            node{\n              location {\n                vdNumber\n              }\n              topResult(last:${options.numParties}) {\n                edges{\n                  node{\n                    party{\n                      name\n                    }\n                    percOfVotes\n                  }\n                }  \n              }\n            }\n          }\n        }\n      }\n      `\n    })\n  }\n}\n","import React, { Component } from \"react\";\nimport * as d3 from \"d3\";\nimport styles from \"./barchart.css\";\nimport {Chart} from \"./d3barchart\";\n\nimport events from \"../../events\";\nimport {\n  getVotesDataM\n} from \"../../api\";\n\nvar dataRefreshTime = 30 * 1000;\n\n\n// for the purposes of the proof of concept - production data should be live\nvar use_live_data = true;\n\nvar js = {\n    \"data\": {\n      \"allProvincialBallots\": {\n        \"edges\": [\n          {\n            \"node\": {\n              \"partyResults\": {\n                \"edges\": [\n                  {\n                    \"node\": {\n                      \"validVotes\": 15311,\n                      \"percOfVotes\": 84.44,\n                      \"party\": {\n                        \"id\": \"52\",\n                        \"name\": \"DEMOCRATIC ALLIANCE/DEMOKRATIESE ALLIANSIE\",\n                        \"abbreviation\": \"DA\"\n                      }\n                    }\n                  },\n                  {\n                    \"node\": {\n                      \"validVotes\": 1508,\n                      \"percOfVotes\": 8.32,\n                      \"party\": {\n                        \"id\": \"7\",\n                        \"name\": \"AFRICAN NATIONAL CONGRESS\",\n                        \"abbreviation\": \"ANC\"\n                      }\n                    }\n                  },\n                  {\n                    \"node\": {\n                      \"validVotes\": 328,\n                      \"percOfVotes\": 1.81,\n                      \"party\": {\n                        \"id\": \"938\",\n                        \"name\": \"AGANG SOUTH AFRICA\",\n                        \"abbreviation\": \"AGANG SA\"\n                      }\n                    }\n                  },\n                  {\n                    \"node\": {\n                      \"validVotes\": 255,\n                      \"percOfVotes\": 1.41,\n                      \"party\": {\n                        \"id\": \"945\",\n                        \"name\": \"ECONOMIC FREEDOM FIGHTERS\",\n                        \"abbreviation\": \"EFF\"\n                      }\n                    }\n                  },\n                  {\n                    \"node\": {\n                      \"validVotes\": 198,\n                      \"percOfVotes\": 1.09,\n                      \"party\": {\n                        \"id\": \"4\",\n                        \"name\": \"VRYHEIDSFRONT PLUS\",\n                        \"abbreviation\": \"VF Plus\"\n                      }\n                    }\n                  }\n                ]\n              },\n              \"location\": {\n                \"id\": \"UHJvdmluY2VUeXBlOjk5\",\n                \"name\": \"Out of Country\"\n              }\n            }\n          }\n        ]\n      }\n    }\n}\n\nfunction className(originName) {\n  return styles[originName] || originName;\n}\n\n\n\nvar chart;\nvar refreshIntervalID = 0;\n\nclass BarChart extends Component {\n\n    constructor(props) {\n      super(props);\n      var self = this;\n      this.state = {\n        numParties: 5,\n        eventDescription: \"2014 National Election\",\n        regionType: \"national\",\n        provinceName: \"\",\n        muniName: \"\",\n        muniCode: \"\",\n        vdNumber: \"\",\n      }\n      if (props.numParties) {\n        this.state.numParties = props.numParties;\n      }\n      if (props.regionType) {\n        this.state.regionType = props.regionType;\n      }\n      if (props.provinceName) {\n        this.state.provinceName = props.provinceName;\n      }\n      if (props.muniName) {\n        this.state.muniName = props.muniName;\n      }\n      if (props.muniCode) {\n        this.state.muniCode = props.muniCode;\n      }\n      if (props.vdNumber) {\n        this.state.vdNumber = props.vdNumber;\n      }\n      if (props.width && props.height) {\n        this.state.width = props.width;\n        this.state.height = props.height;\n      } else {\n        var {\n          modifW,\n          modifH\n        } = this.getWidthHeightByScreenSize();\n        this.state.width = modifW;\n        this.state.height = modifH;\n      }\n      refreshIntervalID = setInterval(() => {\n        self.draw(self.getContainer(), self.state)\n      }, dataRefreshTime);\n      this.handleRegionChange = this.handleRegionChange.bind(this);\n      this.handlePreviewEvent = this.handlePreviewEvent.bind(this);\n      this.redrawChart = this.redrawChart.bind(this);\n    }\n  \n    componentDidMount() {\n      this.draw(this.getContainer(), this.state)\n      document.addEventListener(events.REGION_CHANGE, this.handleRegionChange);\n      document.addEventListener(events.BARCHART_PREVIEW, this.handlePreviewEvent);\n      window.addEventListener(\"resize\", this.redrawChart, 200);\n    }\n\n    componentDidUpdate() {\n      this.draw(this.getContainer(), this.state)\n    }\n\n    componentWillUnmount() {\n      document.removeEventListener(events.REGION_CHANGE, this.handleRegionChange);\n      document.removeEventListener(events.BARCHART_PREVIEW, this.handlePreviewEvent);\n      window.removeEventListener(\"resize\", this.redrawChart);\n      clearInterval(refreshIntervalID);\n    }\n\n    getWidthHeightByScreenSize() {\n      var modifW = Math.min(810, document.body.clientWidth- 350);\n      if (document.body.clientWidth < 775)\n        modifW = document.body.clientWidth - 50;\n      var modifH = modifW/3.5;\n      return {\n        modifW,\n        modifH\n      }\n    }\n\n    redrawChart() {\n      var {\n        modifW,\n        modifH\n      } = this.getWidthHeightByScreenSize();\n      if (chart)\n        chart.destroy();\n      chart = new Chart(this.getContainer(), modifW, modifH, className);\n      this.setState({width: modifW, height: modifH});\n    };\n\n    handleRegionChange(event) {\n      var newState = event.detail;\n      console.log(\"handleRegionChange\", newState);\n      this.setState(newState)\n    }\n\n    handlePreviewEvent(event) {\n      var newState = event.detail;\n      console.log(\"handlePreviewEvent\", newState);\n      if (chart)\n        chart.destroy();\n      chart = new Chart(this.getContainer(), this.state.width, this.state.height, className);\n      this.setState(newState)\n    }\n\n    getContainer() {\n      return d3.select(this.refs.vizcontainer)\n    }\n\n    getRegionName() {\n      if (this.state.regionType == \"national\") {\n        return \"SA\";\n      }\n      if (this.state.regionType == \"province\") {\n        return this.state.provinceName;\n      }\n      if (this.state.regionType == \"municipality\") {\n        return this.state.muniName;\n      }\n      if (this.state.regionType == \"municipality-vd\") {\n        return this.state.muniName + \"-\" + this.state.vdNumber;\n      }\n    }\n      \n    render () {\n      return (\n          <div className=\"barchart\">\n            <div className={className(\"chart-title\")}>RACE FOR VOTES ({this.getRegionName()}): </div>\n            <div \n              ref=\"vizcontainer\" \n              className={className(\"chart-body\")} \n              style={{width: this.state.width, height: this.state.height}}></div>\n          </div>\n        )\n    }\n\n    draw(container, props) {\n      var self = this;\n      if (use_live_data) {\n        getVotesDataM(props).then(function(data) {\n            self.drawGraph(container, props, data);\n        }).catch(error => console.error(error));\n      }\n      else {\n          self.drawGraph(container, props, js);\n      }\n    }\n\n    drawGraph(container, props, data) {\n        var results, chartData, firstEdge;\n        var regionType = props.regionType;\n        if (regionType == \"national\") {\n          firstEdge = data[\"data\"][\"allBallots\"].edges[0];\n        } else if (regionType == \"province\") {\n          firstEdge = data[\"data\"][\"allProvincialBallots\"].edges[0];\n        } else if (regionType == \"municipality\") {\n          firstEdge= data[\"data\"][\"allMunicipalBallots\"].edges[0];\n        } else { //\"municipality-vd\"\n          firstEdge = data[\"data\"][\"allVotingDistrictBallots\"].edges[0];\n        }\n        if (!firstEdge){\n          console.error(\"party data is empty!!\");\n          return;\n        }\n\n        var nodeData = firstEdge[\"node\"];\n        var partyResults = nodeData[\"partyResults\"] || nodeData[\"topResult\"];\n        results = partyResults[\"edges\"];\n\n        chartData = results.map(function(node) {\n            var el = node[\"node\"];\n            return {\n                name: el[\"party\"][\"abbreviation\"],\n                validVotes: el[\"validVotes\"],\n                percOfVotes: el[\"percOfVotes\"],\n                partyInfo: el[\"party\"]\n            }\n        }).reverse();\n        \n        var width = parseInt(props.width);\n        var height = parseInt(props.height);\n        if (!chart)\n          chart = new Chart(container, width, height, className);\n        chart.draw(chartData);\n    }\n}\n\nexport default BarChart;\n","var config = {\n    \"DOMAIN\": \"https://sabc-eds.github.io/elections-dataviz\"\n}\n\nexport default config;","import React, { Component } from \"react\";\nimport config from \"../../config\";\nimport bootstrapStyles from \"bootstrap/dist/css/bootstrap.min.css\";\nimport styles from \"./barchartEmbed.css\";\nimport events from \"../../events\";\nimport {\n    getElectionEvents\n} from \"../../api\";\n\nfunction className(originClassName) {\n    return bootstrapStyles[originClassName] || styles[originClassName] || originClassName;\n}\n\nclass BarChartEmbed extends Component {\n    \n    constructor(props) {\n        super(props);\n        var self = this;\n        this.state = {\n            elementId: \"root\",\n            eventDescription: \"2014 National Election\",\n            regionType: \"province\",\n            provinceName: \"Western Cape\",\n            muniName: \"\",\n            muniCode: \"\",\n            vdNumber: \"\",\n            numParties: 5,\n\n            electionEvents: []\n        }\n        getElectionEvents()\n            .then(function(data) {\n                var electionEvents = data[\"data\"][\"allEvents\"].map(edge => edge[\"description\"])\n                self.setState({electionEvents});\n            }).catch(error => console.error(error));\n    }\n\n    componentDidMount() {\n    }\n\n    componentDidUpdate() {\n    }\n\n    onEventDescriptionChange(e) {\n        this.setState({eventDescription: e.target.value});\n    }\n\n    onRegionTypeChange(e) {\n        var newState = {regionType: e.target.value};\n        this.setState(newState);\n    }\n\n    onPreview(e) {\n        var event = new CustomEvent(events.BARCHART_PREVIEW, { detail: this.state });\n        document.dispatchEvent(event);\n    }\n      \n    render () {\n        var DOMAIN = config.DOMAIN;\n        var {\n            elementId,\n            eventDescription,\n            regionType,            \n            provinceName,\n            muniName,\n            muniCode,\n            vdNumber,\n            numParties,\n            electionEvents\n        } = this.state;\n        return (\n          <div>\n            <h3> Barchart Embed Script Generation </h3>\n            <div className={className(\"form-group\")}>\n                <label>Element ID </label>\n                <input \n                    type=\"text\" \n                    className={className(\"form-control\")} \n                    placeholder=\"chart-container\"\n                    onChange={e => this.setState({elementId: e.target.value})}\n                    />\n            </div>\n              <div className={className(\"form-group\")}>\n                  <label>Event </label>\n                  <select className={className(\"form-control\")} \n                     value={eventDescription}\n                     onChange={this.onEventDescriptionChange.bind(this)}>\n                        {\n                            electionEvents.map(item => {\n                                return (<option key={item} value={item}>{item}</option>)\n                            })\n                        }\n                  </select>\n              </div>\n              <div className={className(\"form-group\")}>\n                  <label>Region Type </label>\n                  <select className={className(\"form-control\")} \n                     value={regionType}\n                     onChange={this.onRegionTypeChange.bind(this)}>\n                        <option value=\"national\">national</option>\n                        <option value=\"province\">province</option>\n                        <option value=\"municipality\">municipality</option>\n                        <option value=\"municipality-vd\">voting district</option>\n                  </select>\n              </div>\n              {\n                  (regionType != \"national\") && \n                    <div className={className(\"form-group\")}>\n                        <label>Province Name</label>\n                        <input \n                            type=\"text\" \n                            className={className(\"form-control\")} \n                            placeholder=\"Western Cape\"\n                            value={provinceName}\n                            onChange={e => this.setState({provinceName: e.target.value})} \n                            disabled={(regionType==\"national\")}/>\n                    </div>\n              }\n              {\n                  (regionType == \"municipality\") &&\n                    <div className={className(\"form-group\")}>\n                        <label>Municipality Name</label>\n                        <input \n                            type=\"text\" \n                            className={className(\"form-control\")} \n                            placeholder=\"City of Cape Town\"\n                            value={muniName}\n                            onChange={e => this.setState({muniName: e.target.value})} \n                            disabled={(regionType==\"national\")}/>\n                    </div>\n              }\n              {\n                  (regionType == \"municipality-vd\") &&\n                    <div className={className(\"form-group\")}>\n                        <label>Municipality Code</label>\n                        <input \n                            type=\"text\" \n                            className={className(\"form-control\")} \n                            placeholder=\"CPT\"\n                            value={muniCode}\n                            onChange={e => this.setState({muniCode: e.target.value})} \n                            disabled={(regionType==\"national\")}/>\n                    </div>\n              }\n              {\n                  (regionType == \"municipality-vd\") &&\n                    <div className={className(\"form-group\")}>\n                        <label>Voting District Number</label>\n                        <input \n                            type=\"text\" \n                            className={className(\"form-control\")} \n                            placeholder=\"97860055\"\n                            value={vdNumber}\n                            onChange={e => this.setState({vdNumber: e.target.value})} \n                            disabled={(regionType==\"national\")}/>\n                    </div>\n              }\n              <div className={className(\"form-group\")}>\n                  <label>Number Of Parties</label>\n                  <input \n                    type=\"number\" \n                    className={className(\"form-control\")} \n                    placeholder=\"5\"\n                    value={numParties}\n                    onChange={e => this.setState({numParties: e.target.value})} />\n              </div>\n              <div className={className(\"form-group\")}>\n                <button type=\"button\" onClick={this.onPreview.bind(this)} className={className(\"btn\") + \" \" + className(\"btn-primary\") }>Preview</button>\n              </div>\n              <div className={className(\"form-group\")}>\n                  <label>Embed Code</label>\n                  <div className={className(\"embedcode\")}>\n                    <span>{`<script src=\"${DOMAIN}/embed/embed.js\"></script>\n                    <script>showBarChart(\n                        document.getElementById(\"${elementId}\"),\n                        {\n                            eventDescription: \"${eventDescription}\",\n                            regionType: \"${regionType}\",\n                            provinceName: \"${provinceName}\",\n                            muniName: \"${muniName}\",\n                            muniCode: \"${muniCode}\",\n                            vdNumber: \"${vdNumber}\",\n                            numParties: \"${numParties}\",\n                            width: 600,\n                            height: 220\n                        });</script>`.replace(/(\\r\\n|\\n|\\r)/gm, \"\")}</span>\n                  </div>\n              </div>\n          </div>\n        )\n    }\n}\nexport default BarChartEmbed;\n\n\n","import React, { Component } from \"react\";\nimport * as d3 from \"d3\";\nimport * as topojson from \"topojson-client\";\nimport { SideNav, Nav } from \"react-sidenav\";\n\nimport config from \"../../config\";\nimport polylabel from \"polylabel\";\nimport styles from \"./map.css\";\nimport events from \"../../events\";\nimport ReactLoading from \"react-loading\";\n\nvar regionColor = \"#9c9c9c\";\nvar regionBorderColor = \"#eeeeee\";\n\n\nfunction className(originName) {\n  return styles[originName] || originName;\n}\n\nvar provincesData = [\n    {\n        \"name\": \"Limpopo\",\n        \"abbreviation\": \"LIM\",\n        \"munis\": [{\"provinceName\":\"Limpopo\",\"muniName\":\"LIM331 - Greater Giyani [Giyani]\",\"muniCode\":\"LIM331\"},{\"provinceName\":\"Limpopo\",\"muniName\":\"LIM332 - Greater Letaba [Duiwelskloof]\",\"muniCode\":\"LIM332\"},{\"provinceName\":\"Limpopo\",\"muniName\":\"LIM333 - Greater Tzaneen [Tzaneen]\",\"muniCode\":\"LIM333\"},{\"provinceName\":\"Limpopo\",\"muniName\":\"LIM334 - Ba-Phalaborwa [Phalaborwa]\",\"muniCode\":\"LIM334\"},{\"provinceName\":\"Limpopo\",\"muniName\":\"LIM335 - Maruleng [Hoedspruit]\",\"muniCode\":\"LIM335\"},{\"provinceName\":\"Limpopo\",\"muniName\":\"LIM341 - Musina [Messina]\",\"muniCode\":\"LIM341\"},{\"provinceName\":\"Limpopo\",\"muniName\":\"LIM342 - Mutale [Mutale-Masisi]\",\"muniCode\":\"LIM342\"},{\"provinceName\":\"Limpopo\",\"muniName\":\"LIM343 - Thulamela [Thohoyandou]\",\"muniCode\":\"LIM343\"},{\"provinceName\":\"Limpopo\",\"muniName\":\"LIM344 - Makhado [Louis Trichardt]\",\"muniCode\":\"LIM344\"},{\"provinceName\":\"Limpopo\",\"muniName\":\"LIM351 - Blouberg [Bochum/My Darling]\",\"muniCode\":\"LIM351\"},{\"provinceName\":\"Limpopo\",\"muniName\":\"LIM352 - Aganang [Moletji/Matlala]\",\"muniCode\":\"LIM352\"},{\"provinceName\":\"Limpopo\",\"muniName\":\"LIM353 - Molemole [Dendron/Dikgale]\",\"muniCode\":\"LIM353\"},{\"provinceName\":\"Limpopo\",\"muniName\":\"LIM354 - Polokwane [Pietersburg]\",\"muniCode\":\"LIM354\"},{\"provinceName\":\"Limpopo\",\"muniName\":\"LIM355 - Lepele-Nkumpi [Lebowakgomo]\",\"muniCode\":\"LIM355\"},{\"provinceName\":\"Limpopo\",\"muniName\":\"LIM361 - Thabazimbi [Thabazimbi]\",\"muniCode\":\"LIM361\"},{\"provinceName\":\"Limpopo\",\"muniName\":\"LIM362 - Lephalale [Ellisras]\",\"muniCode\":\"LIM362\"},{\"provinceName\":\"Limpopo\",\"muniName\":\"LIM364 - Mookgopong [Naboomspruit]\",\"muniCode\":\"LIM364\"},{\"provinceName\":\"Limpopo\",\"muniName\":\"LIM365 - Modimolle [Nylstroom]\",\"muniCode\":\"LIM365\"},{\"provinceName\":\"Limpopo\",\"muniName\":\"LIM366 - Bela-Bela [Warmbad]\",\"muniCode\":\"LIM366\"},{\"provinceName\":\"Limpopo\",\"muniName\":\"LIM367 - Mogalakwena [Potgietersrus]\",\"muniCode\":\"LIM367\"},{\"provinceName\":\"Limpopo\",\"muniName\":\"LIM471 - Ephraim Mogale [Marble Hall]\",\"muniCode\":\"LIM471\"},{\"provinceName\":\"Limpopo\",\"muniName\":\"LIM472 - Elias Motsoaledi [Groblersdal]\",\"muniCode\":\"LIM472\"},{\"provinceName\":\"Limpopo\",\"muniName\":\"LIM473 - Makhuduthamaga [Ngwaritsi]\",\"muniCode\":\"LIM473\"},{\"provinceName\":\"Limpopo\",\"muniName\":\"LIM474 - Fetakgomo [Fetakgomo ]\",\"muniCode\":\"LIM474\"},{\"provinceName\":\"Limpopo\",\"muniName\":\"LIM475 - Greater Tubatse [Burgersfort/Ohrigstad/Eastern Tubatse]\",\"muniCode\":\"LIM475\"}]\n    },\n    {\n        \"name\": \"Mpumalanga\",\n        \"abbreviation\": \"MP\",\n        \"munis\": [{\"provinceName\":\"Mpumalanga\",\"muniName\":\"MP301 - Albert Luthuli [Elukwatini/Carolina]\",\"muniCode\":\"MP301\"},{\"provinceName\":\"Mpumalanga\",\"muniName\":\"MP302 - Msukaligwa [Ermelo]\",\"muniCode\":\"MP302\"},{\"provinceName\":\"Mpumalanga\",\"muniName\":\"MP303 - Mkhondo [Piet Retief]\",\"muniCode\":\"MP303\"},{\"provinceName\":\"Mpumalanga\",\"muniName\":\"MP304 - Pixley Ka Seme [Volksrust]\",\"muniCode\":\"MP304\"},{\"provinceName\":\"Mpumalanga\",\"muniName\":\"MP305 - Lekwa [Standerton]\",\"muniCode\":\"MP305\"},{\"provinceName\":\"Mpumalanga\",\"muniName\":\"MP306 - Dipaleseng [Balfour]\",\"muniCode\":\"MP306\"},{\"provinceName\":\"Mpumalanga\",\"muniName\":\"MP307 - Govan Mbeki [Highveld Ridge]\",\"muniCode\":\"MP307\"},{\"provinceName\":\"Mpumalanga\",\"muniName\":\"MP311 - Delmas [Delmas]\",\"muniCode\":\"MP311\"},{\"provinceName\":\"Mpumalanga\",\"muniName\":\"MP312 - Emalahleni [Witbank]\",\"muniCode\":\"MP312\"},{\"provinceName\":\"Mpumalanga\",\"muniName\":\"MP313 - Steve Tshwete [Middelburg]\",\"muniCode\":\"MP313\"},{\"provinceName\":\"Mpumalanga\",\"muniName\":\"MP314 - Emakhazeni [Belfast]\",\"muniCode\":\"MP314\"},{\"provinceName\":\"Mpumalanga\",\"muniName\":\"MP315 - Thembisile [KwaMhlanga]\",\"muniCode\":\"MP315\"},{\"provinceName\":\"Mpumalanga\",\"muniName\":\"MP316 - Dr JS Moroka [Mdutjana]\",\"muniCode\":\"MP316\"},{\"provinceName\":\"Mpumalanga\",\"muniName\":\"MP321 - Thaba Chweu [Sabie]\",\"muniCode\":\"MP321\"},{\"provinceName\":\"Mpumalanga\",\"muniName\":\"MP322 - Mbombela [Nelspruit]\",\"muniCode\":\"MP322\"},{\"provinceName\":\"Mpumalanga\",\"muniName\":\"MP323 - Umjindi [Barberton]\",\"muniCode\":\"MP323\"},{\"provinceName\":\"Mpumalanga\",\"muniName\":\"MP324 - Nkomazi [Nkomazi]\",\"muniCode\":\"MP324\"},{\"provinceName\":\"Mpumalanga\",\"muniName\":\"MP325 - Bushbuckridge [Bushbuckridge]\",\"muniCode\":\"MP325\"}]\n    },\n    {\n        \"name\": \"Gauteng\",\n        \"abbreviation\": \"GT\",\n        \"munis\": [{\"provinceName\":\"Gauteng\",\"muniName\":\"EKU - Ekurhuleni [East Rand]\",\"muniCode\":\"EKU\"},{\"provinceName\":\"Gauteng\",\"muniName\":\"GT421 - Emfuleni [Vereeniging]\",\"muniCode\":\"GT421\"},{\"provinceName\":\"Gauteng\",\"muniName\":\"GT422 - Midvaal [Meyerton]\",\"muniCode\":\"GT422\"},{\"provinceName\":\"Gauteng\",\"muniName\":\"GT423 - Lesedi [Heidelberg]\",\"muniCode\":\"GT423\"},{\"provinceName\":\"Gauteng\",\"muniName\":\"GT481 - Mogale City [Krugersdorp]\",\"muniCode\":\"GT481\"},{\"provinceName\":\"Gauteng\",\"muniName\":\"GT482 - Randfontein [Randfontein]\",\"muniCode\":\"GT482\"},{\"provinceName\":\"Gauteng\",\"muniName\":\"GT483 - Westonaria [Westonaria]\",\"muniCode\":\"GT483\"},{\"provinceName\":\"Gauteng\",\"muniName\":\"GT484 - Merafong City [Carletonville]\",\"muniCode\":\"GT484\"},{\"provinceName\":\"Gauteng\",\"muniName\":\"JHB - City of Johannesburg [Johannesburg]\",\"muniCode\":\"JHB\"},{\"provinceName\":\"Gauteng\",\"muniName\":\"TSH - Tshwane Metro [Pretoria]\",\"muniCode\":\"TSH\"}]\n    },\n    {\n        \"name\": \"KwaZulu-Natal\",\n        \"abbreviation\": \"KZN\",\n        \"munis\": [{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"ETH - eThekwini [Durban Metro]\",\"muniCode\":\"ETH\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN211 - Vulamehlo [Dududu]\",\"muniCode\":\"KZN211\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN212 - Umdoni [Scottburgh]\",\"muniCode\":\"KZN212\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN213 - Umzumbe [Umzumbe]\",\"muniCode\":\"KZN213\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN214 - UMuziwabantu [Harding]\",\"muniCode\":\"KZN214\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN215 - Ezinqoleni [Izinqolweni]\",\"muniCode\":\"KZN215\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN216 - Hibiscus Coast [Port Shepstone]\",\"muniCode\":\"KZN216\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN221 - uMshwathi [Wartburg]\",\"muniCode\":\"KZN221\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN222 - uMngeni [Howick]\",\"muniCode\":\"KZN222\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN223 - Mooi Mpofana [Mooirivier]\",\"muniCode\":\"KZN223\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN224 - Impendle [Impendle]\",\"muniCode\":\"KZN224\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN225 - Msunduzi [Pietermaritzburg]\",\"muniCode\":\"KZN225\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN226 - Mkhambathini [Camperdown]\",\"muniCode\":\"KZN226\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN227 - Richmond [Richmond]\",\"muniCode\":\"KZN227\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN232 - Emnambithi/Ladysmith [Ladysmith]\",\"muniCode\":\"KZN232\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN233 - Indaka [Waaihoek]\",\"muniCode\":\"KZN233\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN234 - Umtshezi [Estcourt]\",\"muniCode\":\"KZN234\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN235 - Okhahlamba [Bergville]\",\"muniCode\":\"KZN235\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN236 - Imbabazane [Loskop]\",\"muniCode\":\"KZN236\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN241 - Endumeni [Dundee]\",\"muniCode\":\"KZN241\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN242 - Nqutu [Nqutu]\",\"muniCode\":\"KZN242\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN244 - Msinga [Pomeroy]\",\"muniCode\":\"KZN244\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN245 - Umvoti [Greytown]\",\"muniCode\":\"KZN245\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN252 - Newcastle [Newcastle]\",\"muniCode\":\"KZN252\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN253 - eMadlangeni [Utrecht]\",\"muniCode\":\"KZN253\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN254 - Dannhauser [Durnacol]\",\"muniCode\":\"KZN254\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN261 - eDumbe [Paulpietersburg]\",\"muniCode\":\"KZN261\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN262 - UPhongolo [Pongola]\",\"muniCode\":\"KZN262\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN263 - Abaqulusi [Vryheid]\",\"muniCode\":\"KZN263\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN265 - Nongoma [Nongoma]\",\"muniCode\":\"KZN265\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN266 - Ulundi [Ulundi]\",\"muniCode\":\"KZN266\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN271 - Umhlabuyalingana [Emangusi]\",\"muniCode\":\"KZN271\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN272 - Jozini [Mkuze]\",\"muniCode\":\"KZN272\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN273 - The Big 5 False Bay [Hluhluwe]\",\"muniCode\":\"KZN273\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN274 - Hlabisa [Somkele]\",\"muniCode\":\"KZN274\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN275 - Mtubatuba [Mtubatuba]\",\"muniCode\":\"KZN275\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN281 - Mfolozi [KwaMbonambi]\",\"muniCode\":\"KZN281\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN282 - uMhlathuze [Richards Bay]\",\"muniCode\":\"KZN282\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN283 - Ntambana [Ntambana]\",\"muniCode\":\"KZN283\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN284 - uMlalazi [Eshowe]\",\"muniCode\":\"KZN284\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN285 - Mthonjaneni [Melmoth]\",\"muniCode\":\"KZN285\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN286 - Nkandla [Nkandla]\",\"muniCode\":\"KZN286\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN291 - Mandeni [Mandeni]\",\"muniCode\":\"KZN291\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN292 - KwaDukuza [Stanger]\",\"muniCode\":\"KZN292\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN293 - Ndwedwe [Ndwedwe]\",\"muniCode\":\"KZN293\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN294 - Maphumulo [Maphumulo]\",\"muniCode\":\"KZN294\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN431 - Ingwe [Creighton]\",\"muniCode\":\"KZN431\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN432 - Kwa Sani [Underberg]\",\"muniCode\":\"KZN432\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN433 - Greater Kokstad [Kokstad]\",\"muniCode\":\"KZN433\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN434 - Ubuhlebezwe [Ixopo]\",\"muniCode\":\"KZN434\"},{\"provinceName\":\"KwaZulu-Natal\",\"muniName\":\"KZN435 - Umzimkhulu [Umzimkulu]\",\"muniCode\":\"KZN435\"}]\n    },\n    {\n        \"name\": \"North West\",\n        \"abbreviation\": \"NW\",\n        \"munis\": [{\"provinceName\":\"North West\",\"muniName\":\"NW371 - Moretele [Makapanstad]\",\"muniCode\":\"NW371\"},{\"provinceName\":\"North West\",\"muniName\":\"NW372 - Madibeng [Brits]\",\"muniCode\":\"NW372\"},{\"provinceName\":\"North West\",\"muniName\":\"NW373 - Rustenburg [Rustenburg]\",\"muniCode\":\"NW373\"},{\"provinceName\":\"North West\",\"muniName\":\"NW374 - Kgetlengrivier [Koster]\",\"muniCode\":\"NW374\"},{\"provinceName\":\"North West\",\"muniName\":\"NW375 - Moses Kotane [Mogwase]\",\"muniCode\":\"NW375\"},{\"provinceName\":\"North West\",\"muniName\":\"NW381 - Ratlou [Setlagole]\",\"muniCode\":\"NW381\"},{\"provinceName\":\"North West\",\"muniName\":\"NW382 - Tswaing [Delareyville]\",\"muniCode\":\"NW382\"},{\"provinceName\":\"North West\",\"muniName\":\"NW383 - Mafikeng [Mafikeng]\",\"muniCode\":\"NW383\"},{\"provinceName\":\"North West\",\"muniName\":\"NW384 - Ditsobotla [Lichtenburg]\",\"muniCode\":\"NW384\"},{\"provinceName\":\"North West\",\"muniName\":\"NW385 - Ramotshere Moiloa [Zeerust]\",\"muniCode\":\"NW385\"},{\"provinceName\":\"North West\",\"muniName\":\"NW392 - Naledi [Vryburg]\",\"muniCode\":\"NW392\"},{\"provinceName\":\"North West\",\"muniName\":\"NW393 - Mamusa [Schweizer-Reneke]\",\"muniCode\":\"NW393\"},{\"provinceName\":\"North West\",\"muniName\":\"NW394 - Greater Taung [Reivilo]\",\"muniCode\":\"NW394\"},{\"provinceName\":\"North West\",\"muniName\":\"NW396 - Lekwa-Teemane [Christiana]\",\"muniCode\":\"NW396\"},{\"provinceName\":\"North West\",\"muniName\":\"NW397 - NW397 Local Municipality [Ganyesa/Pomfret]\",\"muniCode\":\"NW397\"},{\"provinceName\":\"North West\",\"muniName\":\"NW401 - Ventersdorp [Ventersdorp]\",\"muniCode\":\"NW401\"},{\"provinceName\":\"North West\",\"muniName\":\"NW402 - Tlokwe [Potchefstroom]\",\"muniCode\":\"NW402\"},{\"provinceName\":\"North West\",\"muniName\":\"NW403 - Matlosana [Klerksdorp]\",\"muniCode\":\"NW403\"},{\"provinceName\":\"North West\",\"muniName\":\"NW404 - Maquassi Hills [Wolmaransstad]\",\"muniCode\":\"NW404\"}]\n    },\n    {\n        \"name\": \"Free State\",\n        \"abbreviation\": \"FS\",\n        \"munis\": [{\"provinceName\":\"Free State\",\"muniName\":\"FS161 - Letsemeng [Koffiefontein]\",\"muniCode\":\"FS161\"},{\"provinceName\":\"Free State\",\"muniName\":\"FS162 - Kopanong [Trompsburg]\",\"muniCode\":\"FS162\"},{\"provinceName\":\"Free State\",\"muniName\":\"FS163 - Mohokare [Zastron]\",\"muniCode\":\"FS163\"},{\"provinceName\":\"Free State\",\"muniName\":\"FS164 - Naledi [Dewetsdorp]\",\"muniCode\":\"FS164\"},{\"provinceName\":\"Free State\",\"muniName\":\"FS181 - Masilonyana [Theunissen]\",\"muniCode\":\"FS181\"},{\"provinceName\":\"Free State\",\"muniName\":\"FS182 - Tokologo [Dealesville]\",\"muniCode\":\"FS182\"},{\"provinceName\":\"Free State\",\"muniName\":\"FS183 - Tswelopele [Hoopstad]\",\"muniCode\":\"FS183\"},{\"provinceName\":\"Free State\",\"muniName\":\"FS184 - Matjhabeng [Welkom]\",\"muniCode\":\"FS184\"},{\"provinceName\":\"Free State\",\"muniName\":\"FS185 - Nala [Bothaville]\",\"muniCode\":\"FS185\"},{\"provinceName\":\"Free State\",\"muniName\":\"FS191 - Setsoto [Senekal]\",\"muniCode\":\"FS191\"},{\"provinceName\":\"Free State\",\"muniName\":\"FS192 - Dihlabeng [Bethlehem]\",\"muniCode\":\"FS192\"},{\"provinceName\":\"Free State\",\"muniName\":\"FS193 - Nketoana [Reitz]\",\"muniCode\":\"FS193\"},{\"provinceName\":\"Free State\",\"muniName\":\"FS194 - Maluti a Phofung [Qwa-Qwa]\",\"muniCode\":\"FS194\"},{\"provinceName\":\"Free State\",\"muniName\":\"FS195 - Phumelela [Vrede]\",\"muniCode\":\"FS195\"},{\"provinceName\":\"Free State\",\"muniName\":\"FS196 - Mantsopa [Ladybrand]\",\"muniCode\":\"FS196\"},{\"provinceName\":\"Free State\",\"muniName\":\"FS201 - Moqhaka [Kroonstad]\",\"muniCode\":\"FS201\"},{\"provinceName\":\"Free State\",\"muniName\":\"FS203 - Ngwathe [Parys]\",\"muniCode\":\"FS203\"},{\"provinceName\":\"Free State\",\"muniName\":\"FS204 - Metsimaholo [Sasolburg]\",\"muniCode\":\"FS204\"},{\"provinceName\":\"Free State\",\"muniName\":\"FS205 - Mafube [Frankfort]\",\"muniCode\":\"FS205\"},{\"provinceName\":\"Free State\",\"muniName\":\"MAN - Mangaung [Bloemfontein]\",\"muniCode\":\"MAN\"}]\n    },\n    {\n        \"name\": \"Eastern Cape\",\n        \"abbreviation\": \"EC\",\n        \"munis\": [{\"provinceName\":\"Eastern Cape\",\"muniName\":\"BUF - Buffalo City [East London]\",\"muniCode\":\"BUF\"},{\"provinceName\":\"Eastern Cape\",\"muniName\":\"EC101 - Camdeboo [Graaff-Reinet]\",\"muniCode\":\"EC101\"},{\"provinceName\":\"Eastern Cape\",\"muniName\":\"EC102 - Blue Crane Route [Somerset East]\",\"muniCode\":\"EC102\"},{\"provinceName\":\"Eastern Cape\",\"muniName\":\"EC103 - Ikwezi [Jansenville]\",\"muniCode\":\"EC103\"},{\"provinceName\":\"Eastern Cape\",\"muniName\":\"EC104 - Makana [Grahamstown]\",\"muniCode\":\"EC104\"},{\"provinceName\":\"Eastern Cape\",\"muniName\":\"EC105 - Ndlambe [Port Alfred]\",\"muniCode\":\"EC105\"},{\"provinceName\":\"Eastern Cape\",\"muniName\":\"EC106 - Sundays River Valley [Kirkwood]\",\"muniCode\":\"EC106\"},{\"provinceName\":\"Eastern Cape\",\"muniName\":\"EC107 - Baviaans [Willowmore]\",\"muniCode\":\"EC107\"},{\"provinceName\":\"Eastern Cape\",\"muniName\":\"EC108 - Kouga [Humansdorp]\",\"muniCode\":\"EC108\"},{\"provinceName\":\"Eastern Cape\",\"muniName\":\"EC109 - Kou-Kamma [Kareedouw]\",\"muniCode\":\"EC109\"},{\"provinceName\":\"Eastern Cape\",\"muniName\":\"EC121 - Mbhashe [Idutywa]\",\"muniCode\":\"EC121\"},{\"provinceName\":\"Eastern Cape\",\"muniName\":\"EC122 - Mnquma [Butterworth]\",\"muniCode\":\"EC122\"},{\"provinceName\":\"Eastern Cape\",\"muniName\":\"EC123 - Great Kei [Komga]\",\"muniCode\":\"EC123\"},{\"provinceName\":\"Eastern Cape\",\"muniName\":\"EC124 - Amahlathi [Stutterheim]\",\"muniCode\":\"EC124\"},{\"provinceName\":\"Eastern Cape\",\"muniName\":\"EC126 - Ngqushwa [Peddie]\",\"muniCode\":\"EC126\"},{\"provinceName\":\"Eastern Cape\",\"muniName\":\"EC127 - Nkonkobe [Alice]\",\"muniCode\":\"EC127\"},{\"provinceName\":\"Eastern Cape\",\"muniName\":\"EC128 - Nxuba [Adelaide]\",\"muniCode\":\"EC128\"},{\"provinceName\":\"Eastern Cape\",\"muniName\":\"EC131 - Inxuba Yethemba [Cradock]\",\"muniCode\":\"EC131\"},{\"provinceName\":\"Eastern Cape\",\"muniName\":\"EC132 - Tsolwana [Tarkastad]\",\"muniCode\":\"EC132\"},{\"provinceName\":\"Eastern Cape\",\"muniName\":\"EC133 - Inkwanca [Molteno]\",\"muniCode\":\"EC133\"},{\"provinceName\":\"Eastern Cape\",\"muniName\":\"EC134 - Lukhanji [Queenstown]\",\"muniCode\":\"EC134\"},{\"provinceName\":\"Eastern Cape\",\"muniName\":\"EC135 - Intsika Yethu [Cofimvaba]\",\"muniCode\":\"EC135\"},{\"provinceName\":\"Eastern Cape\",\"muniName\":\"EC136 - Emalahleni [Lady Frere]\",\"muniCode\":\"EC136\"},{\"provinceName\":\"Eastern Cape\",\"muniName\":\"EC137 - Engcobo [Engcobo]\",\"muniCode\":\"EC137\"},{\"provinceName\":\"Eastern Cape\",\"muniName\":\"EC138 - Sakhisizwe [Elliot]\",\"muniCode\":\"EC138\"},{\"provinceName\":\"Eastern Cape\",\"muniName\":\"EC141 - Elundini [Mount Fletcher]\",\"muniCode\":\"EC141\"},{\"provinceName\":\"Eastern Cape\",\"muniName\":\"EC142 - Senqu [Lady Grey]\",\"muniCode\":\"EC142\"},{\"provinceName\":\"Eastern Cape\",\"muniName\":\"EC143 - Maletswai [Aliwal North]\",\"muniCode\":\"EC143\"},{\"provinceName\":\"Eastern Cape\",\"muniName\":\"EC144 - Gariep [Burgersdorp]\",\"muniCode\":\"EC144\"},{\"provinceName\":\"Eastern Cape\",\"muniName\":\"EC153 - Ngquza Hill [Flagstaff]\",\"muniCode\":\"EC153\"},{\"provinceName\":\"Eastern Cape\",\"muniName\":\"EC154 - Port St Johns [Port St Johns]\",\"muniCode\":\"EC154\"},{\"provinceName\":\"Eastern Cape\",\"muniName\":\"EC155 - Nyandeni [Libode]\",\"muniCode\":\"EC155\"},{\"provinceName\":\"Eastern Cape\",\"muniName\":\"EC156 - Mhlontlo [Qumbu]\",\"muniCode\":\"EC156\"},{\"provinceName\":\"Eastern Cape\",\"muniName\":\"EC157 - King Sabata Dalindyebo [Umtata]\",\"muniCode\":\"EC157\"},{\"provinceName\":\"Eastern Cape\",\"muniName\":\"EC441 - Matatiele [Matatiele]\",\"muniCode\":\"EC441\"},{\"provinceName\":\"Eastern Cape\",\"muniName\":\"EC442 - Umzimvubu [Mount Ayliff]\",\"muniCode\":\"EC442\"},{\"provinceName\":\"Eastern Cape\",\"muniName\":\"EC443 - Mbizana [Bizana]\",\"muniCode\":\"EC443\"},{\"provinceName\":\"Eastern Cape\",\"muniName\":\"EC444 - Ntabankulu [Ntabankulu]\",\"muniCode\":\"EC444\"},{\"provinceName\":\"Eastern Cape\",\"muniName\":\"NMA - Nelson Mandela Bay [Port Elizabeth]\",\"muniCode\":\"NMA\"}]\n    },\n    {\n        \"name\": \"Northern Cape\",\n        \"abbreviation\": \"NC\",\n        \"munis\": [{\"provinceName\":\"Northern Cape\",\"muniName\":\"NC061 - RICHTERSVELD [Port Nolloth]\",\"muniCode\":\"NC061\"},{\"provinceName\":\"Northern Cape\",\"muniName\":\"NC062 - NAMA KHOI [Springbok]\",\"muniCode\":\"NC062\"},{\"provinceName\":\"Northern Cape\",\"muniName\":\"NC064 - KAMIESBERG [Garies]\",\"muniCode\":\"NC064\"},{\"provinceName\":\"Northern Cape\",\"muniName\":\"NC065 - HANTAM [Calvinia]\",\"muniCode\":\"NC065\"},{\"provinceName\":\"Northern Cape\",\"muniName\":\"NC066 - KAROO HOOGLAND [Fraserburg]\",\"muniCode\":\"NC066\"},{\"provinceName\":\"Northern Cape\",\"muniName\":\"NC067 - KHI-MA [Pofadder]\",\"muniCode\":\"NC067\"},{\"provinceName\":\"Northern Cape\",\"muniName\":\"NC071 - UBUNTU [Victoria West]\",\"muniCode\":\"NC071\"},{\"provinceName\":\"Northern Cape\",\"muniName\":\"NC072 - UMSOBOMVU [Colesberg]\",\"muniCode\":\"NC072\"},{\"provinceName\":\"Northern Cape\",\"muniName\":\"NC073 - EMTHANJENI [De Aar]\",\"muniCode\":\"NC073\"},{\"provinceName\":\"Northern Cape\",\"muniName\":\"NC074 - KAREEBERG [Carnarvon]\",\"muniCode\":\"NC074\"},{\"provinceName\":\"Northern Cape\",\"muniName\":\"NC075 - RENOSTERBERG [Phillipstown]\",\"muniCode\":\"NC075\"},{\"provinceName\":\"Northern Cape\",\"muniName\":\"NC076 - THEMBELIHLE [Hopetown]\",\"muniCode\":\"NC076\"},{\"provinceName\":\"Northern Cape\",\"muniName\":\"NC077 - SIYATHEMBA [Prieska]\",\"muniCode\":\"NC077\"},{\"provinceName\":\"Northern Cape\",\"muniName\":\"NC078 - SIYANCUMA [Griekwastad]\",\"muniCode\":\"NC078\"},{\"provinceName\":\"Northern Cape\",\"muniName\":\"NC081 - MIER [Mier]\",\"muniCode\":\"NC081\"},{\"provinceName\":\"Northern Cape\",\"muniName\":\"NC082 - KAI !GARIB [Keimoes]\",\"muniCode\":\"NC082\"},{\"provinceName\":\"Northern Cape\",\"muniName\":\"NC083 - KHARA HAIS [Upington]\",\"muniCode\":\"NC083\"},{\"provinceName\":\"Northern Cape\",\"muniName\":\"NC084 - !KHEIS [Groblershoop]\",\"muniCode\":\"NC084\"},{\"provinceName\":\"Northern Cape\",\"muniName\":\"NC085 - TSANTSABANE [Postmasburg]\",\"muniCode\":\"NC085\"},{\"provinceName\":\"Northern Cape\",\"muniName\":\"NC086 - KGATELOPELE [Danielskuil]\",\"muniCode\":\"NC086\"},{\"provinceName\":\"Northern Cape\",\"muniName\":\"NC091 - Sol Plaatje [Kimberley]\",\"muniCode\":\"NC091\"},{\"provinceName\":\"Northern Cape\",\"muniName\":\"NC092 - Dikgatlong [Barkley West]\",\"muniCode\":\"NC092\"},{\"provinceName\":\"Northern Cape\",\"muniName\":\"NC093 - Magareng [Warrenton]\",\"muniCode\":\"NC093\"},{\"provinceName\":\"Northern Cape\",\"muniName\":\"NC094 - Phokwane [Hartswater]\",\"muniCode\":\"NC094\"},{\"provinceName\":\"Northern Cape\",\"muniName\":\"NC451 - Joe Morolong [Kgalagadi]\",\"muniCode\":\"NC451\"},{\"provinceName\":\"Northern Cape\",\"muniName\":\"NC452 - GA-SEGONYANA [Kuruman]\",\"muniCode\":\"NC452\"},{\"provinceName\":\"Northern Cape\",\"muniName\":\"NC453 - GAMAGARA [Kathu]\",\"muniCode\":\"NC453\"}]\n    },\n    {\n        \"name\": \"Western Cape\",\n        \"abbreviation\": \"WC\",\n        \"munis\": [{\"provinceName\":\"Western Cape\",\"muniName\":\"CPT - City of Cape Town [Cape Town]\",\"muniCode\":\"CPT\"},{\"provinceName\":\"Western Cape\",\"muniName\":\"WC011 - Matzikama [Vredendal]\",\"muniCode\":\"WC011\"},{\"provinceName\":\"Western Cape\",\"muniName\":\"WC012 - Cederberg [Citrusdal]\",\"muniCode\":\"WC012\"},{\"provinceName\":\"Western Cape\",\"muniName\":\"WC013 - Bergrivier [Velddrif]\",\"muniCode\":\"WC013\"},{\"provinceName\":\"Western Cape\",\"muniName\":\"WC014 - Saldanha Bay [West Coast Peninsula]\",\"muniCode\":\"WC014\"},{\"provinceName\":\"Western Cape\",\"muniName\":\"WC015 - Swartland [Malmesbury]\",\"muniCode\":\"WC015\"},{\"provinceName\":\"Western Cape\",\"muniName\":\"WC022 - Witzenberg [Ceres]\",\"muniCode\":\"WC022\"},{\"provinceName\":\"Western Cape\",\"muniName\":\"WC023 - Drakenstein [Paarl]\",\"muniCode\":\"WC023\"},{\"provinceName\":\"Western Cape\",\"muniName\":\"WC024 - Stellenbosch [Stellenbosch]\",\"muniCode\":\"WC024\"},{\"provinceName\":\"Western Cape\",\"muniName\":\"WC025 - Breede Valley [Worcester]\",\"muniCode\":\"WC025\"},{\"provinceName\":\"Western Cape\",\"muniName\":\"WC026 - Langeberg [Robertson]\",\"muniCode\":\"WC026\"},{\"provinceName\":\"Western Cape\",\"muniName\":\"WC031 - Theewaterskloof [Caledon]\",\"muniCode\":\"WC031\"},{\"provinceName\":\"Western Cape\",\"muniName\":\"WC032 - Overstrand [Greater Hermanus]\",\"muniCode\":\"WC032\"},{\"provinceName\":\"Western Cape\",\"muniName\":\"WC033 - Cape Agulhas [Bredasdorp]\",\"muniCode\":\"WC033\"},{\"provinceName\":\"Western Cape\",\"muniName\":\"WC034 - Swellendam [Barrydale/Swellendam ]\",\"muniCode\":\"WC034\"},{\"provinceName\":\"Western Cape\",\"muniName\":\"WC041 - Kannaland [Ladismith]\",\"muniCode\":\"WC041\"},{\"provinceName\":\"Western Cape\",\"muniName\":\"WC042 - Hessequa [Heidelberg/Riversdale]\",\"muniCode\":\"WC042\"},{\"provinceName\":\"Western Cape\",\"muniName\":\"WC043 - Mossel Bay [Mossel Bay]\",\"muniCode\":\"WC043\"},{\"provinceName\":\"Western Cape\",\"muniName\":\"WC044 - George [George]\",\"muniCode\":\"WC044\"},{\"provinceName\":\"Western Cape\",\"muniName\":\"WC045 - Oudtshoorn [Oudtshoorn]\",\"muniCode\":\"WC045\"},{\"provinceName\":\"Western Cape\",\"muniName\":\"WC047 - Bitou [Greater Plettenberg Bay]\",\"muniCode\":\"WC047\"},{\"provinceName\":\"Western Cape\",\"muniName\":\"WC048 - Knysna [Knysna]\",\"muniCode\":\"WC048\"},{\"provinceName\":\"Western Cape\",\"muniName\":\"WC051 - Laingsburg [Laingsburg]\",\"muniCode\":\"WC051\"},{\"provinceName\":\"Western Cape\",\"muniName\":\"WC052 - Prince Albert [Prins Albert]\",\"muniCode\":\"WC052\"},{\"provinceName\":\"Western Cape\",\"muniName\":\"WC053 - Beaufort West [Beaufort West]\",\"muniCode\":\"WC053\"}]\n    }\n]\n\nclass Map extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            disableNavigation: false,\n            regionType: \"national\",\n            provinceName: \"\",\n            muniName: \"\",\n            muniCode: \"\",\n            vdNumber: \"\",\n        }\n\n        if (props.regionType) {\n            this.state.regionType = props.regionType;\n        }\n        if (props.provinceName) {\n            this.state.provinceName = props.provinceName;\n        }\n        if (props.muniName) {\n            this.state.muniName = props.muniName;\n        }\n        if (props.disableNavigation) {\n            this.state.disableNavigation = props.disableNavigation;\n        }\n        this.handlePreviewEvent = this.handlePreviewEvent.bind(this);\n    }\n\n    draw(container, props) {\n        this.drawGraph(container, props);\n    }\n\n    componentDidMount() {\n        this.draw(this.getContainer(), this.props)\n        document.addEventListener(events.MAP_PREVIEW, this.handlePreviewEvent);\n    }\n\n    componentWillUnmount() {\n      document.removeEventListener(events.MAP_PREVIEW, this.handlePreviewEvent);\n    }\n\n    componentDidUpdate() {\n        this.draw(this.getContainer(), this.props)\n    }\n\n    handlePreviewEvent(event) {\n        var newState = event.detail;\n        this.setState(newState)\n    }\n\n    handleNavBarSelection(regionType, selectionData) {\n        var newState;\n        if (regionType == \"national\") {\n            newState = {regionType: regionType};\n            if (this.state.regionType == newState.regionType)\n                return;\n        } else if (regionType == \"province\") {\n            newState = {\n                regionType: regionType,\n                provinceName: selectionData.name\n            };\n            if (this.state.regionType == newState.regionType && this.state.provinceName == newState.provinceName)\n                return;\n        } else if (regionType == \"municipality\") {\n            newState = {\n                regionType: regionType,\n                provinceName: selectionData.provinceName,\n                muniName: selectionData.muniName,\n                muniCode: selectionData.muniCode,\n            }; \n            if (this.state.regionType == newState.regionType \n                && this.state.provinceName == newState.provinceName\n                && this.state.newState == newState.muniName)\n                return;\n        }\n\n        var event = new CustomEvent(events.REGION_CHANGE, { detail: newState });\n        document.dispatchEvent(event);\n        this.setState(newState);\n    }\n\n    getRegionName() {\n        if (this.state.regionType == \"national\") {\n          return \"SA\";\n        }\n        if (this.state.regionType == \"province\") {\n          return this.state.provinceName;\n        }\n        if (this.state.regionType == \"municipality\") {\n          return this.state.muniName;\n        }\n        if (this.state.regionType == \"municipality-vd\") {\n          return this.state.muniName + \"-\" + this.state.vdNumber;\n        }\n      }\n\n    getContainer() {\n        return d3.select(this.refs.vizcontainer)\n    }\n\n    getLoadingSpinner() {\n        return d3.select(this.refs.loading)\n    }\n      \n    render () {\n        const theme = {\n            selectionColor: \"#C51162\"\n        };\n        var {\n            disableNavigation\n        } = this.state;\n        return (\n            <div className=\"map-container\">\n                {\n                    !disableNavigation &&\n                        <div className={className(\"map-navbar\")}>\n                            <SideNav\n                                defaultSelectedPath=\"1\"\n                                theme={theme}\n                                onItemSelection={this.onItemSelection}\n                                className={className(\"map-navbar\")}\n                            >\n                                <Nav id=\"navbar-national\" onClick={this.handleNavBarSelection.bind(this, \"national\")}>\n                                    National\n                                </Nav>\n                                {\n                                    provincesData.map(province => {\n                                        return <Nav \n                                            key={province.abbreviation} \n                                            id={\"navbar-province-\"+province.abbreviation}\n                                            onClick={this.handleNavBarSelection.bind(this, \"province\", province)}>\n                                                { province.name }\n                                                {\n                                                    province.munis.map(muni => {\n                                                        return <Nav \n                                                            key={muni.muniCode} \n                                                            id={\"navbar-muni-\"+muni.muniCode}\n                                                            onClick={this.handleNavBarSelection.bind(this, \"municipality\", muni)}\n                                                            >\n                                                                {muni.muniName.split(\"-\")[1].split(\"[\")[0] }\n                                                            </Nav>\n                                                    })\n                                                }\n                                        </Nav>\n                                    })\n                                }\n                            </SideNav>\n                        </div> \n                }\n\n                {this.getRegionName()}\n\n                <div className=\"loading-spinner\" ref=\"loading\">\n                    <ReactLoading type={\"spin\"} color={\"#777\"} height={100} width={100} />\n                </div>\n                <div ref=\"vizcontainer\" className=\"map\"></div>\n            </div>\n        )\n    }\n\n    drawGraph(container, props) {\n        var self = this;\n        var nationalMapFile = \"province_lo-res.geojson\";\n\n        function getRegionFileName() {\n            function getProvinceFileName(provinceName) {\n                var provinceNameToFileMap = {\n                    \"Limpopo\": \"lim_lo-res.geojson\",\n                    \"Mpumalanga\": \"mp_lo-res.geojson\",\n                    \"Gauteng\": \"gt_lo-res.geojson\",\n                    \"KwaZulu-Natal\": \"kzn_lo-res.geojson\",\n                    \"North West\": \"nw_lo-res.geojson\",\n                    \"Free State\": \"fs_lo-res.geojson\",\n                    \"Eastern Cape\": \"ec_lo-res.geojson\",\n                    \"Northern Cape\": \"nc_lo-res.geojson\",\n                    \"Western Cape\": \"wc_lo-res.geojson\",\n                }\n                return provinceNameToFileMap[provinceName];\n            }\n            switch(self.state.regionType) {\n                case \"national\":\n                    return nationalMapFile;\n                case \"province\":\n                    return getProvinceFileName(self.state.provinceName);\n                case \"municipality\":\n                    return self.state.muniCode + \".topojson\";\n                default:\n                    return null;\n            }\n        }\n\n        var fullRouteGeoJsonFile = config.DOMAIN + \"/mapdata/\" + getRegionFileName();\n\n        self.getLoadingSpinner()\n            .style(\"display\", \"block\")\n            .transition()\n            .duration(200)\n            .style(\"opacity\", 1);\n\n        var tooltipDiv;\n        if (document.getElementsByClassName(\"tooltip\")[0]) {\n          tooltipDiv = d3.select(\".tooltip\");\n        } else {\n          tooltipDiv = d3.select(\"body\").append(\"div\")\t\n            .attr(\"class\", className(\"tooltip\"))\t\t\t\t\n            .style(\"opacity\", 0);\n        }\n\n        console.log(\"process.env\", process.env)\n        console.log(\"fullRouteGeoJsonFile\", fullRouteGeoJsonFile);\n\n        var w = 900;\n        var h = 800;\n        container.selectAll(\"svg\").remove();\n        var svg = container.append(\"svg\")\n            .attr(\"preserveAspectRatio\", \"xMinYMin meet\").style(\"background-color\",\"#ffffff\")\n            .attr(\"viewBox\", \"0 0 \" + w + \" \" + h)\n            .classed(\"svg-content\", true);\n\n        // if (!self.state.disableNavigation) {\n        //     var fo = svg.append(\"foreignObject\")\n        //         .attr(\"x\", w - 100)\n        //         .attr(\"y\", 10)\n        //         .attr(\"width\", 100)\n        //         .attr(\"height\", 30)\n        //         .attr(\"class\", \"map-controls\")\n        //     fo.append(\"xhtml:div\")\n        //         .append(\"button\")\n        //         .attr(\"class\", \"go-back\")\n        //         .html(\"go back\")\n        //         .on(\"click\", function() {\n        //             var regionType = self.state.regionType;\n        //             var newState, event;\n\n        //             var newState = {\n        //                 regionType: self.state.regionType, \n        //                 provinceName: self.state.provinceName,\n        //                 muniName: self.state.muniName,\n        //                 muniImuniCodeD: self.state.muniCode,\n        //                 vdNumber: self.state.vdNumber,\n        //             }\n                    \n        //             if (regionType === \"province\") {\n        //                 newState.regionType = \"national\";\n        //             } else if (regionType === \"municipality\") {\n        //                 newState.regionType = \"province\";\n        //             }\n\n        //             event = new CustomEvent(events.REGION_CHANGE, { detail: newState });\n        //             document.dispatchEvent(event);\n        //             self.setState(newState);\n        //         });\n        // }\n\n        var geoJsonLoader = d3.json(fullRouteGeoJsonFile);\n\n        Promise.all([geoJsonLoader]).then(function(values){ \n            var geoJsonData = values[0];\n\n            var getJsonDataFeatures;\n            if (fullRouteGeoJsonFile.indexOf(\".topojson\") !== -1) {//topojson is used for only munis\n                geoJsonData = topojson.feature(geoJsonData, geoJsonData.objects[self.state.muniCode]);\n            }\n\n            getJsonDataFeatures = geoJsonData.features;\n\n            var projection = d3.geoMercator().fitSize([w, h], geoJsonData);\n            var path = d3.geoPath().projection(projection);\n\n            // fill region with regionColor\n            svg.selectAll(`.${className(\"region\")}`)\n                .data(getJsonDataFeatures)\n                .enter()\n                .append(\"path\")\n                .attr(\"class\", className(\"region\"))\n                .attr(\"stroke\", regionBorderColor)\n                .attr(\"fill\", regionColor)\n                .attr(\"id\", function(d, i) {\n                    return `region-${i}`;\n                })\n                .attr(\"d\", path);\n            \n            // if (self.state.regionType == \"province\") {\n            //    console.log(\"fetch muni Names and codes\", JSON.stringify(getJsonDataFeatures.map(d => {\n            //         function getMunicipalityCode(properties) {\n            //             return properties.code || properties.smunicipal.split(\"-\")[0].replace(/\\s/g, \"\");\n            //         }\n            //         var newState = {\n            //             provinceName: self.state.provinceName,\n            //             muniName: d.properties.smunicipal,\n            //             muniCode: getMunicipalityCode(d.properties),\n            //         }\n            //         return newState;\n            //     })));\n            // }\n            \n            if (self.state.regionType !== \"municipality\") {\n                svg.selectAll(\".place-label\")\n                    .data(getJsonDataFeatures)\n                .enter().append(\"text\")\n                    .attr(\"class\", \"place-label\")\n                    .attr(\"font-size\", \"12px\")\n                    .attr(\"transform\", function(d) { \n                        var center, projectionCenter;\n                        if (d.geometry.type === \"Polygon\") {\n                            center = polylabel(d.geometry.coordinates);\n                            projectionCenter = projection(center);\n                            projectionCenter[1] -= 12;\n                            return \"translate(\" + projectionCenter + \")\"; \n                        } else { //\"MultiPolygon\"\n                            center = polylabel(d.geometry.coordinates[0]);\n                            projectionCenter = projection(center);\n                            projectionCenter[1] -= 5;\n                            return \"translate(\" + projectionCenter + \")\"; \n                        }\n                    })\n                    .attr(\"dy\", \".35em\")\n                    .style(\"text-anchor\", \"middle\")\n                    .text(function(d) { \n                        if (self.state.regionType === \"national\") {\n                            return d.properties.SPROVINCE;\n                        } else if (self.state.regionType === \"province\") {\n                            return d.properties.smunicipal.split(\"-\")[1].split(\"[\")[0]; \n                        } else {//municipality\n                            return d.properties.SMUNICIPAL.split(\"-\")[1].split(\"[\")[0]; \n                        }\n                    })\n            }\n\n            if (self.state.regionType !== \"municipality\") {\n                var labelElements = document.getElementsByClassName(\"place-label\");\n\n                var regions = {};\n                var overlapCnt = {};\n                var i;\n\n                for (i = 0; i < getJsonDataFeatures.length; i ++) {\n                    regions[i] = labelElements[i].getBoundingClientRect();\n                }\n    \n                for (i = 0; i < getJsonDataFeatures.length; i ++) {\n                    for (var j = 0; j < i; j ++) {\n                        var rect1 = regions[i];\n                        var rect2 = regions[j];\n                        var overlap = !(rect1.right < rect2.left || \n                            rect1.left > rect2.right || \n                            rect1.bottom < rect2.top || \n                            rect1.top > rect2.bottom);\n                        if (overlap) {\n                            overlapCnt[i] = overlapCnt[i]? (overlapCnt[i] + 1): 1;\n                        }\n                    }\n                    if (overlapCnt[i] > 2) {\n                        labelElements[i].setAttribute(\"opacity\", 0)\n                    } else if (overlapCnt[i] > 0){\n                        labelElements[i].innerHTML = labelElements[i].innerHTML.slice(0, 3) + \"...\";\n                    } else {\n    \n                    }\n                }\n            }\n\n            //hidden area for catching events\n            svg.selectAll(\".eventLayer\")\n                .data(getJsonDataFeatures)\n            .enter()\n                .append(\"path\")\n                .attr(\"d\", path)\n                .attr(\"class\", \"eventLayer\")\n                .attr(\"id\", function(d, i) {\n                    return `eventLayer-${i}`;\n                })\n                .attr(\"fill\", \"transparent\")\n                .on(\"mouseover\", function(d, i) {\n                    d3.select(`#region-${i}`)\n                        .attr(\"stroke-width\", 3)\n                        .style(\"fill-opacity\", 0.8);\n                })\n                .on(\"mousemove\", function(d) {\t\n                    if (self.state.regionType === \"municipality\") return;\n                    tooltipDiv.transition()\t\t\n                        .duration(200)\t\t\n                        .style(\"opacity\", 1);\n                    function regionName() {\n                        if (self.state.regionType === \"national\") {\n                            return d.properties.SPROVINCE;\n                        } else if (self.state.regionType === \"province\") {\n                            return d.properties.smunicipal.split(\"-\")[1].split(\"[\")[0]; \n                        } else {//municipality\n                            return d.properties.SMUNICIPAL.split(\"-\")[1].split(\"[\")[0]; \n                        }\n                    }\n                    tooltipDiv.html(regionName())\t\n                        .style(\"left\", (d3.event.pageX) + \"px\")\t\t\n                        .style(\"top\", (d3.event.pageY - 28) + \"px\");\t\n                })\n                .on(\"mouseout\", function(d, i) {\n                    d3.select(`#region-${i}`)\n                        .attr(\"stroke-width\", 1)\n                        .style(\"fill-opacity\", 1);\n                    \n                    if (self.state.regionType === \"municipality\") return;\n\n                    tooltipDiv.transition()\t\t\n                        .duration(200)\t\t\n                        .style(\"opacity\", 0);\t\n                })\n                .on(\"click\", function(d, i) {\n                    if (self.state.disableNavigation) {\n                        return;\n                    }\n                    console.log(\"click event\", i, d.properties);\n                    tooltipDiv.transition()\t\t\n                        .duration(200)\t\t\n                        .style(\"opacity\", 0);\t\n                    \n                    var regionType = self.state.regionType;\n                    var newState, event;\n                    if (regionType === \"national\") {\n                        newState = {\n                            regionType: \"province\",\n                            provinceName: d.properties.SPROVINCE\n                        }\n                        event = new CustomEvent(events.REGION_CHANGE, { detail: newState });\n                        document.dispatchEvent(event);\n                        self.setState(newState);\n                    } else if (regionType === \"province\") {\n                        function getMunicipalityCode(properties) {\n                            return properties.code || properties.smunicipal.split(\"-\")[0].replace(/\\s/g, \"\");\n                        }\n                        newState = {\n                            regionType: \"municipality\", \n                            provinceName: self.state.provinceName,\n                            muniName: d.properties.smunicipal,\n                            muniCode: getMunicipalityCode(d.properties),\n                        }\n                        event = new CustomEvent(events.REGION_CHANGE, { detail: newState });\n                        document.dispatchEvent(event);\n\n                        self.setState(newState);\n                    } else { // \"municipality\"\n                        function getMunicipalityVdNumber(properties) {\n                            return properties.PKLVDNUMBE;\n                        }\n                        var newState = {\n                            regionType: \"municipality-vd\", \n                            provinceName: self.state.provinceName,\n                            muniName: self.state.muniName,\n                            muniCode: self.state.muniCode,\n                            vdNumber: getMunicipalityVdNumber(d.properties),\n                        }\n                        var event = new CustomEvent(events.REGION_CHANGE, { detail: newState });\n                        document.dispatchEvent(event);\n                    }\n                })\n            self.getLoadingSpinner()\n                .style(\"display\", \"none\");\n        })\n\n        var redrawChart = function() {\n\n        };\n\n        window.addEventListener(\"resize\", redrawChart, 200);\n    }\n}\n\nexport default Map;\n","import React, { Component } from \"react\";\nimport bootstrapStyles from \"bootstrap/dist/css/bootstrap.min.css\";\nimport styles from \"./mapEmbed.css\";\nimport config from \"../../config\";\nimport events from \"../../events\";\n\nfunction className(originClassName) {\n    return bootstrapStyles[originClassName] || styles[originClassName] || originClassName;\n}\n\nclass MapEmbed extends Component {\n    \n    constructor(props) {\n        super(props);\n        this.state = {\n            elementId: \"root\",\n            disableNavigation: false, //checkbox\n            regionType: \"province\",\n            provinceName: \"Western Cape\",\n            muniName: \"\",\n        }\n    }\n\n    componentDidMount() {\n    }\n\n    componentDidUpdate() {\n    }\n\n    onRegionTypeChange(e) {\n        var newState = {regionType: e.target.value};\n        this.setState(newState);\n    }\n\n    onPreview(e) {\n        var event = new CustomEvent(events.MAP_PREVIEW, { detail: this.state });\n        document.dispatchEvent(event);\n    }\n      \n    render () {\n        var DOMAIN = config.DOMAIN;\n        var {\n            elementId,            \n            disableNavigation,\n            regionType,\n            provinceName,\n            muniName,\n        } = this.state;\n        return (\n          <div>\n            <h3> Map Embed Script Generation </h3>\n            <div className={className(\"form-group\")}>\n                <label>Element ID </label>\n                <input \n                    type=\"text\" \n                    className={className(\"form-control\")} \n                    placeholder=\"chart-container\"\n                    onChange={e => this.setState({elementId: e.target.value})}\n                    />\n            </div>\n            <div className={className(\"form-group\")}>\n                  <label>Region Type </label>\n                  <select className={className(\"form-control\")} \n                     value={regionType}\n                     onChange={this.onRegionTypeChange.bind(this)}>\n                        <option value=\"national\">national</option>\n                        <option value=\"province\">province</option>\n                        <option value=\"municipality\">municipality</option>\n                  </select>\n              </div>\n              {\n                  (regionType != \"national\") && \n                    <div className={className(\"form-group\")}>\n                        <label>Province Name</label>\n                        <input \n                            type=\"text\" \n                            className={className(\"form-control\")} \n                            placeholder=\"Western Cape\"\n                            value={provinceName}\n                            onChange={e => this.setState({provinceName: e.target.value})} \n                            />\n                    </div>\n              }\n              {\n                  (regionType == \"municipality\") &&\n                    <div className={className(\"form-group\")}>\n                        <label>Municipality Name</label>\n                        <input \n                            type=\"text\" \n                            className={className(\"form-control\")} \n                            placeholder=\"City of Cape Town\"\n                            value={muniName}\n                            onChange={e => this.setState({muniName: e.target.value})} \n                            />\n                    </div>\n              }\n\n              <div className={className(\"form-check\")}>\n                \n                <label className={className(\"form-check-label\")}>\n                    <input \n                        type=\"checkbox\" \n                        className={className(\"form-check-input\")} \n                        value={disableNavigation}\n                        onChange={e => this.setState({disableNavigation: e.target.checked})} \n                        />\n                    &nbsp;&nbsp;Disable Navigation\n                </label>\n              </div>\n              <div className={className(\"form-group\")}>\n                <button type=\"button\" onClick={this.onPreview.bind(this)} className={className(\"btn\") + \" \" + className(\"btn-primary\") }>Preview</button>\n              </div>\n            <div className={className(\"form-group\")}>\n                <label>Embed Code</label>\n                <div className={className(\"embedcode\")}>\n                    <span>{`<script src=\"${DOMAIN}/embed/embed.js\"></script>\n                    <script>\n                        showMap(document.getElementById(\"${elementId}\"),{\n                            disableNavigation: ${disableNavigation},\n                            regionType: \"${regionType}\",\n                            provinceName: \"${provinceName}\",\n                            muniName: \"${muniName}\",\n                        });</script>`.replace(/(\\r\\n|\\n|\\r)/gm, \"\")}\n                    </span>\n                </div>\n            </div>\n          </div>\n        )\n    }\n}\nexport default MapEmbed;\n\n\n","import React, { Component } from \"react\";\nimport \"./App.css\";\nimport {\n  BarChart,\n  BarChartEmbed,\n  Map,\n  MapEmbed\n} from \"./components\";\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"App\">\n        <div className=\"leftContainer\">\n          <BarChart regionName=\"SA\" regionType=\"national\" numParties={3} />\n          <Map regionType=\"province\" provinceName=\"Western Cape\" />\n        </div>\n        <div className=\"rightContainer\">\n          <div className=\"barchartEmbed\">\n            <BarChartEmbed />\n          </div>\n          <div className=\"mapEmbed\">\n            <MapEmbed />\n          </div>\n        </div>\n        <div id=\"sales-data\"></div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React, { Component } from \"react\";\nimport * as d3 from \"d3\";\nimport \"./Box.css\";\n\nclass Box extends Component {\n    draw() {\n        d3.select(this.refs.box)\n            .append(\"rect\")\n            .attr(\"height\", this.props.height)\n            .attr(\"width\", this.props.width)\n            .classed(this.props.className, true)\n            .classed(\"box\", true)\n    }\n\n    componentDidMount() {\n        this.draw()\n    }\n\n    componentDidUpdate() {\n        this.draw()\n    }\n      \n    render () {\n        return (\n          <svg width={this.props.width} height={this.props.height}>\n            <g ref=\"box\"></g>\n          </svg>\n        )\n    }\n}\n\nexport default Box;\n\n\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}